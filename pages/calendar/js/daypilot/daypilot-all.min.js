if ("undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    function e(e) {
        var t = DayPilot.Date.Cache.Ticks;
        if (t[e]) return DayPilot.Stats.cacheHitsTicks += 1, t[e];
        var i, n = new Date(e), a = n.getUTCMilliseconds();
        i = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a;
        var r = n.getUTCSeconds();
        r < 10 && (r = "0" + r);
        var o = n.getUTCMinutes();
        o < 10 && (o = "0" + o);
        var s = n.getUTCHours();
        s < 10 && (s = "0" + s);
        var l = n.getUTCDate();
        l < 10 && (l = "0" + l);
        var d = n.getUTCMonth() + 1;
        d < 10 && (d = "0" + d);
        var c = n.getUTCFullYear();
        if (c <= 0) throw "The minimum year supported is 1.";
        c < 10 ? c = "000" + c : c < 100 ? c = "00" + c : c < 1e3 && (c = "0" + c);
        var h = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + i;
        return t[e] = h, h;
    }
    function t(e, t) {
        return !DayPilot.Util.isNullOrUndefined(e) && (!DayPilot.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase());
    }
    function i(e) {
        e = Math.min(e, 255), e = Math.max(e, 0);
        var t = e.toString(16);
        return e < 16 ? "0" + t : t;
    }
    if ("undefined" == typeof DayPilot.$) {
        DayPilot.$ = function(e) {
            return document.getElementById(e);
        }, DayPilot.isKhtml = navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1, 
        DayPilot.isIE = navigator && navigator.userAgent && (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1), 
        DayPilot.isIEQuirks = DayPilot.isIE && document.compatMode && "BackCompat" === document.compatMode, 
        DayPilot.browser = {}, DayPilot.browser.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1, 
        DayPilot.browser.chrome = navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1, 
        DayPilot.browser.ie = DayPilot.isIE, DayPilot.browser.edge = navigator && navigator.userAgent && navigator.userAgent.indexOf("Edge") !== -1, 
        DayPilot.browser.webkit = navigator && navigator.userAgent && navigator.userAgent.indexOf("WebKit") !== -1, 
        DayPilot.browser.passiveEvents = !1, function() {
            try {
                window.addEventListener("test", null, Object.defineProperty({}, "passive", {
                    get: function() {
                        DayPilot.browser.passiveEvents = !0;
                    }
                }));
            } catch (e) {}
        }(), DayPilot.libs = {}, DayPilot.libs.angularjs = "object" == typeof angularjs, 
        DayPilot.touch = {}, DayPilot.touch.start = window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart", 
        DayPilot.touch.move = window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove", 
        DayPilot.touch.end = window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend", 
        DayPilot.mo2 = function(e, t) {
            if (t = t || window.event, "undefined" != typeof t.offsetX) {
                var i = {
                    x: t.offsetX + 1,
                    y: t.offsetY + 1
                };
                if (!e) return i;
                for (var n = t.srcElement; n && n !== e; ) "SPAN" !== n.tagName && (i.x += n.offsetLeft, 
                n.offsetTop > 0 && (i.y += n.offsetTop - n.scrollTop)), n = n.offsetParent;
                return n ? i : null;
            }
            if ("undefined" != typeof t.layerX) {
                var i = {
                    x: t.layerX,
                    y: t.layerY,
                    src: t.target
                };
                if (!e) return i;
                for (var n = t.target; n && "absolute" !== n.style.position && "relative" !== n.style.position; ) n = n.parentNode, 
                DayPilot.isKhtml && (i.y += n.scrollTop);
                for (;n && n !== e; ) i.x += n.offsetLeft, i.y += n.offsetTop - n.scrollTop, n = n.offsetParent;
                return n ? i : null;
            }
            return null;
        }, DayPilot.mo3 = function(e, t) {
            t = t || window.event;
            var i, n = DayPilot.page(t);
            if (n) if (e) {
                var a = DayPilot.abs(e);
                if (!a) return null;
                i = {
                    x: n.x - a.x,
                    y: n.y - a.y
                };
            } else i = {
                x: n.x,
                y: n.y
            }; else i = DayPilot.mo2(e, t);
            return i.shift = t.shiftKey, i.meta = t.metaKey, i.ctrl = t.ctrlKey, i.alt = t.altKey, 
            i;
        }, DayPilot.mc = function(e) {
            return e.pageX || e.pageY ? {
                x: e.pageX,
                y: e.pageY
            } : {
                x: e.clientX + document.documentElement.scrollLeft,
                y: e.clientY + document.documentElement.scrollTop
            };
        }, DayPilot.Stats = {}, DayPilot.Stats.eventObjects = 0, DayPilot.Stats.dateObjects = 0, 
        DayPilot.Stats.cacheHitsCtor = 0, DayPilot.Stats.cacheHitsParsing = 0, DayPilot.Stats.cacheHitsTicks = 0, 
        DayPilot.Stats.print = function() {
            console.log("DayPilot.Stats.eventObjects: " + DayPilot.Stats.eventObjects), console.log("DayPilot.Stats.dateObjects: " + DayPilot.Stats.dateObjects), 
            console.log("DayPilot.Stats.cacheHitsCtor: " + DayPilot.Stats.cacheHitsCtor), console.log("DayPilot.Stats.cacheHitsParsing: " + DayPilot.Stats.cacheHitsParsing), 
            console.log("DayPilot.Stats.cacheHitsTicks: " + DayPilot.Stats.cacheHitsTicks), 
            console.log("DayPilot.Date.Cache.Ctor keys: " + Object.keys(DayPilot.Date.Cache.Ctor).length), 
            console.log("DayPilot.Date.Cache.Parsing keys: " + Object.keys(DayPilot.Date.Cache.Parsing).length);
        }, DayPilot.list = function(e, t) {
            if (e && e.isDayPilotList && !t) return e;
            var i = DayPilot.isArray(e) || "[object NodeList]" === Object.prototype.toString.call(e), n = !i && !DayPilot.Util.isNullOrUndefined(e), a = [];
            if (a.isDayPilotList = !0, a.clone = function() {
                var e = DayPilot.list();
                return a.each(function(t) {
                    e.push(t);
                }), e;
            }, a.each = function(e) {
                if (e) {
                    if (a.forEach) return void a.forEach(e);
                    for (var t = 0; t < this.length; t++) e(a[t], t, a);
                }
            }, a.addProps = function(e) {
                var t = a.clone();
                if (e) for (var i in e) t[i] = e[i];
                return t;
            }, a.last = function() {
                return 0 === a.length ? null : a[a.length - 1];
            }, a.first = function() {
                return 0 === a.length ? null : a[0];
            }, a.add = function(e) {
                var t = a.clone();
                return t.push(e), t;
            }, a.map = function(e) {
                if ("function" != typeof e) throw "DayPilot.list().map(f): Function expected";
                var t = DayPilot.list();
                return a.each(function(i, n, a) {
                    t.push(e(i, n, a));
                }), t;
            }, a.filter = function(e) {
                var t = DayPilot.list();
                if ("function" != typeof e) throw "DayPilot.list().filter(f): Function expected";
                return a.each(function(i) {
                    e(i) && t.push(i);
                }), t;
            }, a.concat = function(e) {
                if (!e) return a;
                for (var t = a.clone(), i = 0; i < e.length; i++) t.push(e[i]);
                return t;
            }, a.find || (a.find = function(e) {
                if ("function" != typeof e) throw "DayPilot.list().find(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];
            }), a.findIndex || (a.findIndex = function(e) {
                if ("function" != typeof e) throw "DayPilot.list().findIndex(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return t;
                return -1;
            }), a.some || (a.some = function(e) {
                if ("function" != typeof e) throw "DayPilot.list().some(f): Function expected";
                for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;
                return !1;
            }), a.reduce || (a.reduce = function(e, t) {
                if ("function" != typeof e) throw "DayPilot.list().reduce(f): Function expected";
                var i, n = 0;
                if ("undefined" != typeof t) i = t; else {
                    if (n = 1, 0 === a.length) throw "DayPilot.list().reduce(f): No initial value and empty list";
                    i = a[0];
                }
                for (var r = n; r < this.length; r++) i = e(i, a[r], r, this);
                return i;
            }), a.isEmpty = function() {
                return 0 === a.length;
            }, i) for (var r = 0; r < e.length; r++) a[r] = e[r]; else n && (a[0] = e);
            return a;
        }, DayPilot.list.for = function(e, t) {
            for (var i = DayPilot.list(), n = 0; n < e; n++) "function" == typeof t ? i.push(t(n)) : i.push(n);
            return i;
        }, DayPilot.line = function(e, t, i, n, a) {
            a = a || {};
            var r = {
                x: e,
                y: t
            }, o = {
                x: i,
                y: n,
                deg: DayPilot.deg(e, t, i, n)
            }, s = !1;
            if (t < n) {
                var l = t;
                t = n, n = l, l = e, e = i, i = l, s = !0;
            }
            var d = DayPilot.deg(e, t, i, n), c = {
                x: e,
                y: t
            }, h = {
                x: i,
                y: n
            }, u = function() {
                var a = Math.abs(e - i), r = Math.abs(t - n), o = (e + i) / 2;
                return o - Math.sqrt(a * a + r * r) / 2;
            }(), f = function() {
                return (t + n) / 2;
            }(), v = DayPilot.distance(c, h), p = document.createElement("div");
            p.setAttribute("style", "width:" + v + "px;height:0px;-moz-transform:rotate(" + d + "deg);-webkit-transform:rotate(" + d + "deg);-ms-transform:rotate(" + d + "deg);transform:rotate(" + d + "deg);position:absolute;top:" + f + "px;left:" + u + "px;"), 
            a.cssClass && (p.className = a.cssClass);
            var m = document.createElement("div");
            m.appendChild(p);
            var g, y, d, b, w = !!a.arrow;
            if (w) {
                var g = o.y - 5, y = o.x - 5, d = d;
                o.y > r.y && (d -= 180);
                var b = document.createElement("div");
                b.style.borderColor = "black", b.style.width = "10px", b.style.height = "10px", 
                b.style.borderRadius = "10px", b.style.position = "absolute", b.style.left = y + "px", 
                b.style.top = g + "px", a.cssClass ? b.className = a.cssClass + "_circle" : b.style.backgroundColor = "black", 
                m.appendChild(b);
            }
            return m;
        }, DayPilot.deg = function(e, t, i, n) {
            var a, r = Math.abs(e - i), o = Math.abs(t - n), s = (e + i) / 2, l = (t + n) / 2, d = Math.sqrt(r * r + o * o), c = s - d / 2, h = l;
            r = d / 2, a = Math.abs(s - c), o = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - h) * Math.abs(t - h));
            var u = (o * o - r * r - a * a) / (2 * r * a);
            return 180 * Math.acos(u) / Math.PI;
        }, DayPilot.complete = function(e) {
            return "complete" === document.readyState ? void e() : (DayPilot.complete.list || (DayPilot.complete.list = [], 
            DayPilot.re(document, "readystatechange", function() {
                if ("complete" === document.readyState) {
                    for (var e = 0; e < DayPilot.complete.list.length; e++) {
                        (0, DayPilot.complete.list[e])();
                    }
                    DayPilot.complete.list = [];
                }
            })), void DayPilot.complete.list.push(e));
        }, DayPilot.page = function(e) {
            return e = e || window.event, "undefined" == typeof e.pageX || DayPilot.browser.ie ? "undefined" != typeof e.clientX && document.body && document.documentElement ? {
                x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop
            } : null : {
                x: e.pageX,
                y: e.pageY
            };
        }, DayPilot.rel = function(e, t) {
            var i = DayPilot.abs(e), n = DayPilot.abs(t);
            return {
                x: i.x - n.x,
                y: i.y - n.y,
                w: e.offsetWidth,
                h: e.offsetHeight
            };
        }, DayPilot.abs = function(e, t) {
            if (!e) return null;
            if (e.getBoundingClientRect) {
                var i = DayPilot.absBoundingClientBased(e);
                if (t) {
                    var n = DayPilot.absOffsetBased(e, !1), t = DayPilot.absOffsetBased(e, !0);
                    i.x += t.x - n.x, i.y += t.y - n.y, i.w = t.w, i.h = t.h;
                }
                return i;
            }
            return DayPilot.absOffsetBased(e, t);
        }, DayPilot.absBoundingClientBased = function(e) {
            var t = e.getBoundingClientRect();
            return {
                x: t.left + window.pageXOffset,
                y: t.top + window.pageYOffset,
                w: e.clientWidth,
                h: e.clientHeight,
                toString: function() {
                    return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
                }
            };
        }, DayPilot.isArray = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e);
        }, DayPilot.absOffsetBased = function(e, t) {
            for (var i = {
                x: e.offsetLeft,
                y: e.offsetTop,
                w: e.clientWidth,
                h: e.clientHeight,
                toString: function() {
                    return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
                }
            }; DayPilot.op(e); ) e = DayPilot.op(e), i.x -= e.scrollLeft, i.y -= e.scrollTop, 
            t && (i.x < 0 && (i.w += i.x, i.x = 0), i.y < 0 && (i.h += i.y, i.y = 0), e.scrollLeft > 0 && i.x + i.w > e.clientWidth && (i.w -= i.x + i.w - e.clientWidth), 
            e.scrollTop && i.y + i.h > e.clientHeight && (i.h -= i.y + i.h - e.clientHeight)), 
            i.x += e.offsetLeft, i.y += e.offsetTop;
            var n = DayPilot.pageOffset();
            return i.x += n.x, i.y += n.y, i;
        }, DayPilot.wd = function() {
            var e = DayPilot.isIEQuirks, t = document.documentElement.clientHeight;
            e && (t = document.body.clientHeight);
            var i = document.documentElement.clientWidth;
            e && (i = document.body.clientWidth);
            var n = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop, a = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft, r = {};
            return r.width = i, r.height = t, r.scrollTop = n, r.scrollLeft = a, r;
        }, DayPilot.op = function(e) {
            try {
                return e.offsetParent;
            } catch (e) {
                return document.body;
            }
        }, DayPilot.distance = function(e, t) {
            return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
        }, DayPilot.doc = function() {
            var e = document.documentElement;
            return e && e.clientHeight ? e : document.body;
        }, DayPilot.pageOffset = function() {
            if ("undefined" != typeof window.pageXOffset) return {
                x: window.pageXOffset,
                y: window.pageYOffset
            };
            var e = DayPilot.doc();
            return {
                x: e.scrollLeft,
                y: e.scrollTop
            };
        }, DayPilot.ac = function(e, t) {
            if (!t) var t = [];
            for (var i = 0; e.children && i < e.children.length; i++) t.push(e.children[i]), 
            DayPilot.ac(e.children[i], t);
            return t;
        }, DayPilot.indexOf = function(e, t, i) {
            if (!e || !e.length) return -1;
            for (var n = 0; n < e.length; n++) if (i) {
                if (i(e[n], t)) return n;
            } else if (e[n] === t) return n;
            return -1;
        }, DayPilot.contains = function(e, t) {
            if (2 !== arguments.length) throw new DayPilot.Error("DayPilot.contains() requires two arguments.");
            return !!e && (e === t && !DayPilot.isArray(e) || DayPilot.indexOf(e, t) !== -1);
        }, DayPilot.rfa = function(e, t) {
            var i = DayPilot.indexOf(e, t);
            i !== -1 && e.splice(i, 1);
        }, DayPilot.sheet = function(e) {
            e = e || window.document;
            var t = e.createElement("style");
            t.setAttribute("type", "text/css"), t.styleSheet || t.appendChild(e.createTextNode("")), 
            (e.head || e.getElementsByTagName("head")[0]).appendChild(t);
            var i = !!t.styleSheet, n = {};
            return n.rules = [], n.commit = function() {
                try {
                    i && (t.styleSheet.cssText = this.rules.join("\n"));
                } catch (e) {}
            }, n.add = function(e, a, r) {
                if (i) return void this.rules.push(e + "{" + a + "}");
                if (t.sheet.insertRule) "undefined" == typeof r && (r = t.sheet.cssRules.length), 
                t.sheet.insertRule(e + "{" + a + "}", r); else {
                    if (!t.sheet.addRule) throw "No CSS registration method found";
                    t.sheet.addRule(e, a, r);
                }
                return n;
            }, n;
        }, DayPilot.Args = function(e) {
            var t = this;
            this.isArgs = !0, this.preventDefault = function() {
                e && e.preventDefault(), t.preventDefault.value = !0;
            };
        }, DayPilot.Debug = function(e) {
            var t = this;
            this.printToBrowserConsole = !1, this.enabled = !1, this.messages = [], this.target = null, 
            this.a = null, this.clear = function() {
                this.messages = [], t.a && (t.a.innerHTML = "");
            }, this.hide = function() {
                DayPilot.de(t.a), t.a = null;
            }, this.show = function() {
                t.a && t.hide();
                var i = e.nav.top, n = document.createElement("div");
                n.style.position = "absolute", n.style.top = "0px", n.style.bottom = "0px", n.style.left = "0px", 
                n.style.right = "0px", n.style.backgroundColor = "black", n.style.color = "#ccc", 
                n.style.overflow = "auto", n.style.webkitUserSelect = "auto", n.style.MozUserSelect = "all", 
                n.onclick = function() {
                    t.hide();
                };
                for (var a = 0; a < this.messages.length; a++) {
                    var r = t.messages[a], o = r.c();
                    n.appendChild(o);
                }
                this.a = n, i.appendChild(n);
            }, this.log = function() {
                if (t.target) {
                    for (var e = [], i = 0; i < arguments.length; i++) {
                        var n = arguments[i];
                        e.push(n);
                    }
                    var a = e.join(" ");
                    t.target.style.whiteSpace = "pre", t.target.innerText += a + "\n";
                }
            }, this.message = function(e, t) {
                if (this.enabled) {
                    var i = {};
                    i.time = new DayPilot.Date(), i.level = t || "debug", i.text = e, i.c = function() {
                        var e = document.createElement("div");
                        switch (e.innerHTML = i.time + " (" + i.level + "): " + i.text, i.level) {
                          case "error":
                            e.style.color = "red";
                            break;

                          case "warning":
                            e.style.color = "orange";
                            break;

                          case "info":
                            e.style.color = "white";
                            break;

                          case "debug":                        }
                        return e;
                    }, this.messages.push(i), this.printToBrowserConsole && "undefined" != typeof console && console.log(i);
                }
            };
        }, DayPilot.re = function(e, t, i) {
            i && e && e.addEventListener(t, i, !1);
        }, DayPilot.ue = function(e, t, i) {
            e.removeEventListener(t, i, !1);
        }, DayPilot.ds = function(e) {
            return DayPilot.Date.toStringSortable(e);
        }, DayPilot.gs = function(e, t) {
            return window.getComputedStyle(e, null).getPropertyValue(t) || "";
        }, DayPilot.StyleReader = function(e) {
            this.get = function(t) {
                return e ? DayPilot.gs(e, t) : null;
            }, this.getPx = function(e) {
                var t = this.get(e);
                return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10);
            }, this.getFont = function() {
                var e = this.get("font-weight"), t = "italic" === this.get("font-style") ? "italic" : "";
                return {
                    family: this.get("font-family"),
                    size: this.get("font-size"),
                    style: t + " " + e,
                    asString: function() {
                        return DayPilot.Util.fontString(this);
                    }
                };
            }, this.getBackColor = function(e) {
                "undefined" == typeof e && (e = "white");
                var t = this.get("background-color");
                return DayPilot.Util.isTransparentColor(t) ? e : t;
            };
        }, DayPilot.he = function(e) {
            var t = e.replace(/&/g, "&amp;");
            return t = t.replace(/</g, "&lt;"), t = t.replace(/>/g, "&gt;"), t = t.replace(/"/g, "&quot;");
        }, DayPilot.he2 = function(e) {
            var t = document.createTextNode(e), i = document.createElement("div");
            return i.appendChild(t), i.innerHTML;
        }, DayPilot.us = function(e) {
            if (e) {
                e.setAttribute("unselectable", "on"), e.style.userSelect = "none", e.style.MozUserSelect = "none", 
                e.style.KhtmlUserSelect = "none", e.style.webkitUserSelect = "none";
                for (var t = 0; t < e.childNodes.length; t++) 1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]);
            }
        }, DayPilot.pu = function(e) {
            var t, i, n, a = e.attributes;
            if (a) for (i = a.length, t = 0; t < i; t += 1) a[t] && (n = a[t].name, "function" == typeof e[n] && (e[n] = null));
            if (a = e.childNodes) for (i = a.length, t = 0; t < i; t += 1) {
                DayPilot.pu(e.childNodes[t]);
            }
        }, DayPilot.puc = function(e) {
            var t, i, n = e.childNodes;
            if (n) {
                var i = n.length;
                for (t = 0; t < i; t += 1) DayPilot.pu(e.childNodes[t]);
            }
        }, DayPilot.de = function(e) {
            if (e) if (DayPilot.isArray(e)) for (var t = 0; t < e.length; t++) DayPilot.de(e[t]); else e.parentNode && e.parentNode.removeChild(e);
        }, DayPilot.fade = function(e, t, i) {
            if (e) {
                clearTimeout(e.messageTimeout);
                var n = "none" !== e.style.display, a = t > 0, r = t < 0;
                if (0 !== t) {
                    if (a ? e.status = "in" : r && (e.status = "out"), a && !n) e.target = parseFloat(e.style.opacity), 
                    e.opacity = 0, e.style.opacity = 0, e.style.filter = "alpha(opacity=0)", e.style.display = ""; else if (r && !e.target) e.target = e.style.opacity; else {
                        var o = e.opacity, s = Math.floor(10 * (o + t)) / 10;
                        a && s > e.target && (s = e.target), r && s < 0 && (s = 0);
                        var l = 100 * s;
                        e.opacity = s, e.style.opacity = s, e.style.filter = "alpha(opacity=" + l + ")";
                    }
                    if (a && (e.opacity >= e.target || e.opacity >= 1) || r && e.opacity <= 0) {
                        if (e.target = null, r) {
                            e.style.opacity = e.target, e.opacity = e.target;
                            var d = e.target ? "alpha(opacity=" + 100 * e.target + ")" : null;
                            e.style.filter = d, e.style.display = "none";
                        }
                        i && "function" == typeof i && (e.status = null, i());
                    } else e.messageTimeout = setTimeout(function() {
                        DayPilot.fade(e, t, i);
                    }, 50);
                }
            }
        }, DayPilot.sw = function(e) {
            return e ? e.offsetWidth - e.clientWidth : 0;
        }, DayPilot.swa = function() {
            var e = document.createElement("div");
            e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", 
            e.style.width = "200px", e.style.height = "100px", e.style.overflow = "auto";
            var t = document.createElement("div");
            t.style.width = "300px", t.style.height = "300px", e.appendChild(t), document.body.appendChild(e);
            var i = DayPilot.sw(e);
            return document.body.removeChild(e), i;
        }, DayPilot.sh = function(e) {
            return e ? e.offsetHeight - e.clientHeight : 0;
        }, DayPilot.guid = function() {
            var e = function() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
            };
            return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e();
        }, DayPilot.ua = function(e) {
            if (!DayPilot.isArray(e)) throw new DayPilot.Error("DayPilot.ua() - array required");
            var t = [];
            return e.forEach(function(e) {
                DayPilot.contains(t, e) || t.push(e);
            }), t;
        }, DayPilot.am = function() {
            return "undefined" == typeof angular ? null : (DayPilot.am.cached || (DayPilot.am.cached = angular.module("daypilot", [])), 
            DayPilot.am.cached);
        }, function() {
            function e(e, n) {
                var a = {
                    w: e.offsetWidth,
                    h: e.offsetHeight,
                    x: parseInt(e.style.left),
                    y: parseInt(e.style.top)
                };
                a.height = e.style.height, a.width = e.style.width, a.top = e.style.top, a.left = e.style.left, 
                a.toString = function() {
                    return "w: " + this.w + " h:" + this.h;
                };
                var r = {};
                if (r.finished = null, r.vertical = "center", r.horizontal = "center", n) for (var o in n) r[o] = n[o];
                e.style.visibility = "hidden", e.style.display = "";
                var s = n.animation || "fast", l = t(s);
                l.div = e, l.i = 0, l.target = a, l.config = r, i(l);
            }
            function t(e) {
                var t = function() {
                    var e = [];
                    e.time = 10;
                    var t, i = .08;
                    t = .1;
                    for (var n = t; n < 1.2; n += i) e.push(n), t = n;
                    i = .03;
                    for (var n = t; n > .8; n -= i) e.push(n), t = n;
                    for (var n = t; n <= 1; n += i) e.push(n), t = n;
                    return e;
                }, i = function() {
                    var e = [];
                    e.time = 10;
                    var t, i = .04;
                    t = .1;
                    for (var n = t; n <= 1; n += i) e.push(n), t = n;
                    return e;
                }, n = function() {
                    var e = [];
                    e.time = 10;
                    var t, i = .08;
                    t = .1;
                    for (var n = t; n <= 1; n += i) e.push(n), t = n;
                    return e;
                }, a = {
                    fast: n,
                    slow: i,
                    jump: t
                };
                return a[e] || (e = "fast"), a[e]();
            }
            function i(e) {
                var t, n = e.div, a = e[e.i], r = a * e.target.h;
                switch (e.config.vertical) {
                  case "center":
                    t = e.target.y - (r - e.target.h) / 2;
                    break;

                  case "top":
                    t = e.target.y;
                    break;

                  case "bottom":
                    t = e.target.y - (r - e.target.h);
                    break;

                  default:
                    throw "Unexpected 'vertical' value.";
                }
                var o, s = a * e.target.w;
                switch (e.config.horizontal) {
                  case "left":
                    o = e.target.x;
                    break;

                  case "center":
                    o = e.target.x - (s - e.target.w) / 2;
                    break;

                  case "right":
                    o = e.target.x - (s - e.target.w);
                    break;

                  default:
                    throw "Unexpected 'horizontal' value.";
                }
                n.style.height = r + "px", n.style.top = t + "px", n.style.width = s + "px", n.style.left = o + "px", 
                n.style.visibility = "visible", e.i++, e.i < e.length - 1 ? setTimeout(function(e) {
                    return function() {
                        i(e);
                    };
                }(e), e.time) : (n.style.width = e.target.width, n.style.height = e.target.height, 
                n.style.top = e.target.top, n.style.left = e.target.left, "function" == typeof e.config.finished && e.config.finished());
            }
            DayPilot.pop = e;
        }(), DayPilot.Util = {}, DayPilot.Util.addClass = function(e, t) {
            if (t && e) if (DayPilot.isArray(e)) for (var i = 0; i < e.length; i++) DayPilot.Util.addClass(e[i], t); else {
                if (!e.className) return void (e.className = t);
                var n = new RegExp("(^|\\s)" + t + "($|\\s)");
                n.test(e.className) || (e.className = e.className + " " + t);
            }
        }, DayPilot.Util.normalizeColor = function(e) {
            function t(e) {
                return e = e.replace(/[^\d,]/g, "").split(","), "#" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1);
            }
            return 0 === e.indexOf("rgb") ? t(e) : e;
        }, DayPilot.Util.addClassToString = function(e, t) {
            return e ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e) ? e : e + " " + t : t;
        }, DayPilot.Util.removeClassFromString = function(e, t) {
            if (!e) return "";
            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
            return e.replace(i, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
        }, DayPilot.Util.removeClass = function(e, t) {
            if (e) if (DayPilot.isArray(e)) for (var i = 0; i < e.length; i++) DayPilot.Util.removeClass(e[i], t); else if (e.className) {
                var n = new RegExp("(^|\\s)" + t + "($|\\s)");
                e.className = e.className.replace(n, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "");
            }
        }, DayPilot.Util.props = function(e) {
            var t = [];
            for (var i in e) t.push(i), t.push(e[i]);
            return t.join("-");
        }, DayPilot.Util.propArray = function(e, t, i) {
            return DayPilot.list(e).map(function(e) {
                return e[t] ? e[t] : i;
            });
        }, DayPilot.Util.updatePropsFromArray = function(e, t, i) {
            for (var n = 0; n < i.length; n++) e[n][t] = i[n];
        }, DayPilot.Util.copyProps = function(e, t, i) {
            if (t || (t = {}), !e) return t;
            if ("undefined" == typeof i) for (var n in e) e.hasOwnProperty(n) && "undefined" != typeof e[n] && (t[n] = e[n]); else for (var a = 0; a < i.length; a++) {
                var n = i[a];
                "undefined" != typeof e[n] && (t[n] = e[n]);
            }
            return t;
        }, DayPilot.Util.ownPropsAsArray = function(e) {
            var t = [];
            if (!e) return t;
            for (var i in e) if (e.hasOwnProperty(i)) {
                var n = {};
                n.key = i, n.val = e[i], t.push(n);
            }
            return t;
        }, DayPilot.Util.firstPropValue = function(e) {
            for (var t in e) return e[t];
        }, DayPilot.Util.isOnlyProperty = function(e, t) {
            if (!e) return !1;
            for (var i in e) if (e.hasOwnProperty(i) && i !== t) return !1;
            return !0;
        }, DayPilot.Util.createArrayCopy = function(e, t) {
            if (!DayPilot.isArray(e)) return [];
            for (var i = [], n = 0; n < e.length; n++) {
                var a = {};
                DayPilot.Util.copyProps(e[n], a, t), i.push(a);
            }
            return i;
        }, DayPilot.Util.atLeast = function(e, t) {
            return Math.max(e, t);
        }, DayPilot.Util.avg = function(e, t) {
            return (e + t) / 2;
        }, DayPilot.Util.div = function(e, t, i, n, a) {
            var r = document.createElement("div");
            return (t || i || n || a) && (n < 0 && (t += n, n *= -1), a < 0 && (i += a, a *= -1), 
            r.style.position = "absolute", "number" == typeof t ? r.style.left = t + "px" : "string" == typeof t && (r.style.left = t), 
            "number" == typeof i ? r.style.top = i + "px" : "string" == typeof i && (r.style.top = i), 
            "number" == typeof n ? r.style.width = n + "px" : "string" == typeof n && (r.style.width = n), 
            "number" == typeof a ? r.style.height = a + "px" : "string" == typeof a && (r.style.height = a)), 
            e && e.appendChild(r), r;
        }, DayPilot.Util.overlaps = function(e, t, i, n) {
            return !(t <= i || e >= n);
        }, DayPilot.Util.isMouseEvent = function(e) {
            return !!navigator.msPointerEnabled && (!!e.pointerType && ("mouse" === e.pointerType || 4 === e.pointerType));
        }, DayPilot.Util.mouseButton = function(e) {
            var t = {};
            switch (e.button) {
              case 0:
                t.left = !0;
                break;

              case 1:
                t.middle = !0;
                break;

              case 2:
                t.right = !0;
            }
            return t;
        }, DayPilot.Util.membersPlain = function(e) {
            var t = DayPilot.Util.members(e, 2), i = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var i = e[t], n = i.name;
                    i.obsolete && (n += " (obsolete)"), i.noCssOnly && (n += " (!cssOnly)"), i.aspnet && (n += " (ASP.NET)"), 
                    i.mvc && (n += "(MVC)"), e[t] = n;
                }
            };
            return i(t.events), i(t.methods), i(t.properties), t;
        }, DayPilot.Util.shouldApply = function(e) {
            if (!e) return !1;
            var t = e.toLowerCase();
            return !(t.indexOf("before") >= 0) && (!(t.indexOf("after") >= 0) && ("onrowfilter" !== t && "oneventfilter" !== t));
        }, DayPilot.Util.safeApply = function(e, t) {
            var i = e["$root"]["$$phase"];
            "$apply" === i || "$digest" === i ? e["$eval"](t) : e["$apply"](t);
        }, DayPilot.Util.members = function(e, t) {
            var i = DayPilot.list(), n = DayPilot.list(), a = DayPilot.list(), r = e && e.members ? e.members.obsolete : [], o = e && e.members ? e.members.noCssOnly : [], s = e && e.members ? e.members.ignore : [], l = e && e.members && e.members.ignoreFilter ? e.members.ignoreFilter : function() {
                return !1;
            };
            for (var d in e) if (0 !== d.indexOf("$") && 0 !== d.indexOf("_") && 0 !== d.indexOf("number") && 0 !== d.indexOf("is") && "v" !== d && !DayPilot.contains(s, d) && !l(d)) if (0 !== d.indexOf("on")) if ("function" != typeof e[d]) if ("object" != typeof e[d]) a.push(d); else {
                var c = e[d];
                if (0 === t) {
                    a.push(d);
                    continue;
                }
                if (c && c.nodeType > 0) {
                    a.push(d);
                    continue;
                }
                if (c instanceof DayPilot.Bubble) {
                    a.push(d);
                    continue;
                }
                if (c instanceof DayPilot.Date) {
                    a.push(d);
                    continue;
                }
                if (c instanceof DayPilot.Menu) {
                    a.push(d);
                    continue;
                }
                if (c instanceof DayPilot.Scheduler) {
                    a.push(d);
                    continue;
                }
                if (DayPilot.isArray(c)) {
                    a.push(d);
                    continue;
                }
                null === c && a.push(d);
                var h = null;
                "number" == typeof t && (h = t - 1);
                for (var u = DayPilot.Util.members(c, h), f = 0; f < u.events.length; f++) i.push(d + "." + u.events[f].name);
                for (var f = 0; f < u.methods.length; f++) n.push(d + "." + u.methods[f].name);
                for (var f = 0; f < u.properties.length; f++) a.push(d + "." + u.properties[f].name);
            } else n.push(d); else i.push(d);
            i.sort(), n.sort(), a.sort();
            var v = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var i = e[t], n = {};
                    n.name = i, e[t] = n, DayPilot.contains(r, i) && (n.obsolete = !0), DayPilot.contains(o, i) && (n.noCssOnly = !0), 
                    i.indexOf("CallBack") !== -1 && (n.aspnet = !0, n.mvc = !0), i.indexOf("PostBack") !== -1 && (n.aspnet = !0), 
                    i.indexOf("Notify") !== -1 && (n.aspnet = !0, n.mvc = !0);
                }
            };
            return v(i), v(n), v(a), {
                events: i,
                methods: n,
                properties: a
            };
        }, DayPilot.Util.replaceCharAt = function(e, t, i) {
            return e.substr(0, t) + i + e.substr(t + i.length);
        }, DayPilot.Util.evalVariable = function(e, t) {
            if (t = t || [ "object" ], null === e || "undefined" == typeof e) return null;
            if (DayPilot.indexOf(t, typeof e) !== -1) return e;
            if ("string" != typeof e) throw "Unable to resolve a variable name (not a string).";
            if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)) throw "Invalid variable name: " + e;
            return eval(e);
        }, DayPilot.Util.evalFunction = function(e) {
            if (null === e) return null;
            if ("function" == typeof e) return e;
            if ("string" != typeof e) throw "Unable to resolve a function (not a string).";
            if (!/^\(?function/.test(e)) throw "Invalid function string";
            return eval("(" + e + ")");
        }, DayPilot.Util.isNullOrUndefined = function(e) {
            return null === e || "undefined" == typeof e;
        }, DayPilot.Util.log = function(e) {
            window.console && window.console.log && window.console.log(e);
        }, DayPilot.Util.workerFrom = function(e) {
            var t = e.toString(), i = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")), n = new Blob([ i ]), a = window.URL.createObjectURL(n);
            return new Worker(a);
        }, DayPilot.Util.dataUriToBlob = function(e) {
            if ("string" != typeof e) throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
            for (var t = e.split(","), i = t[0], n = t[1], a = i.indexOf("base64") !== -1, r = a ? atob : decodeURI, o = i.split(":")[1].split(";")[0], s = r(n), l = new window.Uint8Array(s.length), d = 0; d < s.length; d++) l[d] = s.charCodeAt(d);
            return new Blob([ l ], {
                type: o
            });
        }, DayPilot.Util.downloadDataUri = function(e, t) {
            var i = DayPilot.Util.dataUriToBlob(e);
            DayPilot.Util.downloadBlob(i, t);
        }, DayPilot.Util.downloadBlob = function(e, t) {
            var t = t || "download";
            if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t); else {
                var i = window.URL.createObjectURL(e), n = document.createElement("a");
                n.download = t, n.href = i, n.style = "display:none", document.body.appendChild(n), 
                n.click(), setTimeout(function() {
                    document.body.removeChild(n), window.URL.revokeObjectURL(i);
                });
            }
        }, DayPilot.Util.monitor = function(e, t, i) {
            var n = e[t];
            e[t] = function() {
                i.apply(e, arguments), n.apply(e, arguments);
            };
        }, DayPilot.Util.isTransparentColor = function(e) {
            return "transparent" === e || "rgba(0, 0, 0, 0)" === e;
        }, DayPilot.Util.stripTags = function(e) {
            if (DayPilot.Util.isNullOrUndefined(e)) return e;
            if ("string" == typeof e) return e.replace(/<(?:.|\n)*?>/gm, "");
            throw new DayPilot.Exception("Unable to strip tags from a non-string");
        }, DayPilot.Util.escapeHtml = function(e) {
            var t = document.createElement("div");
            return t.innerText = e, t.innerHTML;
        }, DayPilot.Util.isSameEvent = function(e, t) {
            return !(!e || !t) && (e = e instanceof DayPilot.Event ? e.data : e, t = t instanceof DayPilot.Event ? t.data : t, 
            e === t || (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id || !(!DayPilot.Util.isNullOrUndefined(e.id) || DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) && (e.recurrentMasterId === t.recurrentMasterId && new DayPilot.Date(e.start) === new DayPilot.Date(t.start))));
        }, DayPilot.Util.isReactComponent = function(e) {
            return e && e.$$typeof === ("function" == typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103);
        }, DayPilot.Util.fontString = function(e) {
            return (e.style + " " + e.size + " " + e.family).trim();
        }, DayPilot.Util.fontHeight = function(e) {
            var t = DayPilot.Util.fontString(e);
            if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
                var i = document.createElement("div");
                i.style.position = "fixed", i.style.left = "-2000px;", i.style.top = "-2000px", 
                i.style.padding = "0px", i.style.font = t, i.innerText = "X", document.body.appendChild(i), 
                DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(i).getPx("height"), 
                document.body.removeChild(i);
            }
            return DayPilot.Util.fontHeight.cache[t];
        }, DayPilot.Util.fontHeight.cache = {}, DayPilot.Areas = {}, DayPilot.Areas.attach = function(e, t, i) {
            var i = i || {}, a = i.areas, r = i.allowed || function() {
                return !0;
            }, o = i.offsetX || 0;
            a = n(t, a), a && DayPilot.isArray(a) && 0 !== a.length && (DayPilot.re(e, "mousemove", function(n) {
                e.active || e.areasDisabled || !r() || DayPilot.Areas.showAreas(e, t, n, a, {
                    offsetX: o,
                    eventDiv: i.eventDiv
                });
            }), DayPilot.re(e, "mouseout", function(t) {
                DayPilot.Areas.hideAreas(e, t);
            }), DayPilot.list(a).each(function(n) {
                if (DayPilot.Areas.isVisible(n)) {
                    var a = DayPilot.Areas.createArea(e, t, n, {
                        offsetX: o,
                        eventDiv: i.eventDiv
                    });
                    e.appendChild(a);
                }
            }));
        }, DayPilot.Areas.disable = function(e) {
            e.areasDisabled = !0, DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea && !e.area.start;
            }).each(function(e) {
                e.style.display = "none";
            });
        }, DayPilot.Areas.enable = function(e) {
            e.areasDisabled = !1, DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea && !e.area.start;
            }).each(function(e) {
                e.style.display = "";
            });
        }, DayPilot.Areas.remove = function(e) {
            var t = DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea;
            });
            DayPilot.de(t);
        }, DayPilot.Areas.isVisible = function(e) {
            var t = e.visibility || e.v || "Visible";
            return "Visible" === t || !("TouchVisible" !== t || !window.matchMedia("(any-hover: none)").matches);
        }, DayPilot.Areas.copy = function(e) {
            return DayPilot.isArray(e) ? e.map(function(e) {
                return DayPilot.Util.copyProps(e, {});
            }) : [];
        };
        var n = function(e, t) {
            return DayPilot.isArray(t) || (t = e.areas, t || (e.cache ? t = e.cache.areas : e.data && (t = e.data.areas))), 
            t;
        };
        DayPilot.Areas.showAreas = function(e, t, i, n, a) {
            if (!(DayPilot.Global.resizing || DayPilot.Global.moving || DayPilot.Global.selecting || e.active)) {
                if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) for (var r = 0; r < DayPilot.Areas.all.length; r++) {
                    var o = DayPilot.Areas.all[r];
                    o !== e && DayPilot.Areas.hideAreas(o, i);
                }
                if (e.active = {}, DayPilot.isArray(n) || (n = t.areas, n || (t.cache ? n = t.cache.areas : t.data && (n = t.data.areas))), 
                n && 0 !== n.length && !(e.areas && e.areas.length > 0)) {
                    e.areas = [];
                    for (var r = 0; r < n.length; r++) {
                        var s = n[r];
                        if (!DayPilot.Areas.isVisible(s)) {
                            var l = DayPilot.Areas.createArea(e, t, s, a);
                            e.areas.push(l), e.appendChild(l), DayPilot.Areas.all.push(e);
                        }
                    }
                    e.active.children = DayPilot.ac(e);
                }
            }
        }, DayPilot.Areas.createArea = function(e, t, i, n) {
            function a(e, t, i) {
                var n = {};
                return n.area = e, n.source = t, n.originalEvent = i, n.preventDefault = function() {
                    n.preventDefault.value = !0;
                }, "function" == typeof e.onClick && e.onClick(n), n;
            }
            function r(e, t, i) {
                DayPilot.Bubble && DayPilot.Bubble.touchPosition(i), e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);
            }
            function o(e, t, i, n) {
                DayPilot.Menu && DayPilot.Menu.touchPosition(n);
                var a = i.contextMenu || i.menu;
                if (a instanceof DayPilot.Menu || ("string" == typeof a ? a = DayPilot.Util.evalVariable(a) : t.isEvent && t.client.contextMenu() ? a = t.client.contextMenu() : t.isEvent && t.calendar.contextMenu ? a = DayPilot.Util.evalVariable(t.calendar.contextMenu) : t.isRow && t.calendar.contextMenuResource && (a = DayPilot.Util.evalVariable(t.calendar.contextMenuResource))), 
                a && a.show) {
                    var r = {
                        type: "area",
                        div: e,
                        e: t,
                        area: i
                    };
                    a.show(t, {
                        initiator: r
                    });
                }
            }
            var n = n || {}, s = n.offsetX || 0, l = n.eventDiv || e, d = document.createElement("div");
            d.isActiveArea = !0, d.area = i, d.setAttribute("unselectable", "on");
            var c = i.w || i.width, h = i.h || i.height, u = i.cssClass || i.css || i.className;
            if ("undefined" != typeof i.style && d.setAttribute("style", i.style), d.style.position = "absolute", 
            "undefined" != typeof c && (d.style.width = c + "px"), "undefined" != typeof h && (d.style.height = h + "px"), 
            "undefined" != typeof i.right && (d.style.right = i.right + "px"), "undefined" != typeof i.top && (d.style.top = i.top + "px"), 
            "undefined" != typeof i.left && (d.style.left = i.left + s + "px"), "undefined" != typeof i.bottom && (d.style.bottom = i.bottom + "px"), 
            "undefined" != typeof i.html || "undefined" != typeof i.text) d.innerHTML = i.html || i.text; else if (i.icon) {
                var f = document.createElement("i");
                f.className = i.icon, d.appendChild(f);
            } else if (i.image) {
                var v = document.createElement("img");
                v.src = i.image, d.appendChild(v);
            }
            if (u && (d.className = u), i.toolTip && d.setAttribute("title", i.toolTip), i.backColor && (d.style.background = i.backColor), 
            i.background && (d.style.background = i.background), i.fontColor && (d.style.color = i.fontColor), 
            i.padding && (d.style.padding = i.padding + "px", d.style.boxSizing = "border-box"), 
            i.verticalAlignment) switch (d.style.display = "flex", i.verticalAlignment) {
              case "center":
                d.style.alignItems = "center";
                break;

              case "top":
                d.style.alignItems = "flex-start";
                break;

              case "bottom":
                d.style.alignItems = "flex-end";
            }
            if (i.horizontalAlignment) switch (d.style.display = "flex", i.horizontalAlignment) {
              case "right":
                d.style.justifyContent = "flex-end";
                break;

              case "left":
                d.style.justifyContent = "flex-start";
                break;

              case "center":
                d.style.justifyContent = "center";
            }
            if ("ResizeEnd" === i.action || "ResizeStart" === i.action || "Move" === i.action) {
                if (t.calendar.isCalendar) switch (i.action) {
                  case "ResizeEnd":
                    i.cursor = "s-resize", i.dpBorder = "bottom";
                    break;

                  case "ResizeStart":
                    i.cursor = "n-resize", i.dpBorder = "top";
                    break;

                  case "Move":
                    i.cursor = "move";
                }
                if (t.calendar.isScheduler || t.calendar.isMonth) switch (i.action) {
                  case "ResizeEnd":
                    i.cursor = "e-resize", i.dpBorder = "right";
                    break;

                  case "ResizeStart":
                    i.cursor = "w-resize", i.dpBorder = "left";
                    break;

                  case "Move":
                    i.cursor = "move";
                }
                d.onmousemove = function(e, t, i) {
                    return function(n) {
                        var n = n || window.event;
                        t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress() || (n.cancelBubble = !0, 
                        e.style.cursor = i.cursor, i.dpBorder && (e.dpBorder = i.dpBorder));
                    };
                }(l, t, i), d.onmouseout = function(e, t, i) {
                    return function(t) {
                        e.style.cursor = "";
                    };
                }(l, t, i);
            }
            if (("ResizeEnd" === i.action || "ResizeStart" === i.action) && t.isEvent && t.calendar.internal.touch) {
                var p = function(e, t, i) {
                    return function(n) {
                        n.cancelBubble = !0;
                        var a = t.calendar.internal.touch, r = n.touches ? n.touches[0] : n, o = {
                            x: r.pageX,
                            y: r.pageY
                        };
                        t.calendar.coords = a.relativeCoords(n), a.preventEventTap = !0, t.calendar.isScheduler ? a.startResizing(e, "ResizeEnd" === i.action ? "right" : "left") : t.calendar.isCalendar && a.startResizing(e, "ResizeEnd" === i.action ? "bottom" : "top", o);
                    };
                }(l, t, i);
                DayPilot.re(d, DayPilot.touch.start, p);
            }
            if ("ContextMenu" === i.action && t.isEvent && t.calendar.internal.touch) {
                var p = function(e, t, i) {
                    return function(n) {
                        n.cancelBubble = !0, n.preventDefault(), o(e, t, i, n), t.calendar.internal.touch.preventEventTap = !0;
                    };
                }(l, t, i), m = function(e, t, i) {
                    return function(e) {
                        e.cancelBubble = !0, e.preventDefault();
                    };
                }(l, t, i);
                DayPilot.re(d, DayPilot.touch.start, p), DayPilot.re(d, DayPilot.touch.end, m);
            }
            if ("Bubble" === i.action && t.isEvent && t.calendar.internal.touch) {
                var p = function(e, t, i) {
                    return function(e) {
                        e.cancelBubble = !0, e.preventDefault();
                        var n = a(i, t, e);
                        if (!n.preventDefault.value) {
                            r(t, i, e);
                            t.calendar.internal.touch.preventEventTap = !0, "function" == typeof i.onClicked && i.onClicked(n);
                        }
                    };
                }(l, t, i), m = function(e, t, i) {
                    return function(e) {
                        e.cancelBubble = !0, e.preventDefault();
                    };
                }(l, t, i);
                DayPilot.re(d, DayPilot.touch.start, p), DayPilot.re(d, DayPilot.touch.end, m);
            }
            if ("Move" === i.action && t.isEvent && t.calendar.internal.touch) {
                var p = function(e, t, i) {
                    return function(i) {
                        i.cancelBubble = !0;
                        var n = t.calendar.internal.touch, a = i.touches ? i.touches[0] : i, r = {
                            x: a.pageX,
                            y: a.pageY
                        };
                        t.calendar.coords = n.relativeCoords(i), DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.active = !0), 
                        n.preventEventTap = !0, n.startMoving(e, r);
                    };
                }(l, t, i);
                DayPilot.re(d, DayPilot.touch.start, p);
            }
            if ("Move" === i.action && t.isRow && t.calendar.internal.touch, "Bubble" === i.action && t.isEvent && (d.onmousemove = function(e, t, i) {
                return function(e) {
                    i.bubble ? i.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);
                };
            }(e, t, i), d.onmouseout = function(e, t, i) {
                return function(e) {
                    "undefined" != typeof DayPilot.Bubble && (i.bubble ? i.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut());
                };
            }(e, t, i)), "Bubble" === i.action && t.isRow && (d.onmousemove = function(e, t, i) {
                return function(e) {
                    i.bubble ? i.bubble.showResource(t, !0) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !0);
                };
            }(e, t, i), d.onmouseout = function(e, t, i) {
                return function(e) {
                    "undefined" != typeof DayPilot.Bubble && (i.bubble ? i.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut());
                };
            }(e, t, i)), "HoverMenu" === i.action && (d.onmousemove = function(e, t, i) {
                return function(e) {
                    var n = i.menu;
                    "string" == typeof n && (n = DayPilot.Util.evalVariable(n)), n && n.show && (n.visible ? n.source && "undefined" != typeof n.source.id && n.source.id !== t.id && n.show(t) : n.show(t), 
                    n.cancelHideTimeout());
                };
            }(e, t, i), d.onmouseout = function(e, t, i) {
                return function(e) {
                    var t = i.menu;
                    "string" == typeof t && (t = DayPilot.Util.evalVariable(t)), t && t.hideOnMouseOver && t.delayedHide();
                };
            }(e, t, i)), "JavaScript" === i.action) {
                var p = function(e, t, i) {
                    return function(e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            e.cancelBubble = !0, e.preventDefault();
                            t.calendar.internal.touch.start = !0;
                        }
                    };
                }(l, t, i), m = function(e, t, i) {
                    return function(e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            e.cancelBubble = !0, e.preventDefault();
                            t.calendar.internal.touch.start = !1;
                            var n = i.js;
                            if ("string" == typeof n && (n = DayPilot.Util.evalFunction(i.js)), "function" == typeof n) {
                                var a = i.target || t;
                                n.call(this, a);
                            }
                        }
                    };
                }(l, t, i);
                DayPilot.re(d, DayPilot.touch.start, p), DayPilot.re(d, DayPilot.touch.end, m);
            }
            return d.onmousedown = function(e, t, i) {
                return function(n) {
                    if ("function" == typeof i.onmousedown && i.onmousedown(n), "function" == typeof i.mousedown) {
                        var a = {};
                        a.area = i, a.div = e, a.originalEvent = n, a.source = t, i.mousedown(a);
                    }
                    if ("Move" === i.action && t.isRow) {
                        var r = t.$.row;
                        t.calendar.internal.rowtools.startMoving(r);
                    }
                    "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Move" === i.action && (DayPilot.Global.movingAreaData = i.data), 
                    "Move" === i.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, n);
                    "Move" !== i.action && "ResizeEnd" !== i.action && "ResizeStart" !== i.action && i.action && "Default" !== i.action && (n = n || window.event, 
                    n.preventDefault(), n.cancelBubble = !0);
                };
            }(e, t, i), d.onclick = function(e, t, i) {
                return function(n) {
                    var n = n || window.event, r = a(i, t, n);
                    if (!r.preventDefault.value) {
                        switch (i.action) {
                          case "JavaScript":
                            var s = i.js;
                            if ("string" == typeof s && (s = DayPilot.Util.evalFunction(i.js)), "function" == typeof s) {
                                var l = i.target || t;
                                s.call(this, l);
                            }
                            n.cancelBubble = !0;
                            break;

                          case "ContextMenu":
                            o(e, t, i, n), n.cancelBubble = !0;
                            break;

                          case "CallBack":
                            alert("callback not implemented yet, id: " + i.id), n.cancelBubble = !0;
                            break;

                          case "None":
                            n.cancelBubble = !0;
                        }
                        "function" == typeof i.onClicked && i.onClicked(r);
                    }
                };
            }(e, t, i), d;
        }, DayPilot.Areas.all = [], DayPilot.Areas.hideAreas = function(e, t) {
            if (e && e && e.active) {
                var i = e.active, n = e.areas;
                if (i && i.children) {
                    var t = t || window.event;
                    if (t) {
                        var a = t.toElement || t.relatedTarget;
                        if (~DayPilot.indexOf(i.children, a)) return;
                    }
                }
                if (!n || 0 === n.length) return void (e.active = null);
                DayPilot.de(n), e.active = null, e.areas = [], DayPilot.rfa(DayPilot.Areas.all, e), 
                i.children = null;
            }
        }, DayPilot.Areas.hideAll = function(e) {
            if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length) for (var t = 0; t < DayPilot.Areas.all.length; t++) DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
        }, DayPilot.Action = function(e, t, i, n) {
            var a = this;
            this.calendar = e, this.isAction = !0, this.action = t, this.params = i, this.data = n, 
            this.notify = function() {
                a.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data);
            }, this.auto = function() {
                a.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data);
            }, this.queue = function() {
                a.calendar.queue.add(this);
            }, this.toJSON = function() {
                var e = {};
                return e.name = this.action, e.params = this.params, e.data = this.data, e;
            };
        }, DayPilot.Selection = function(e, t, i, n) {
            this.menuType = "selection", this.start = new DayPilot.Date(e), this.end = new DayPilot.Date(t), 
            this.resource = i, this.root = n, this.calendar = n, this.toJSON = function(e) {
                var t = {};
                return t.start = this.start, t.end = this.end, t.resource = this.resource, t;
            };
        }, DayPilot.Link = function(e, t) {
            this.isLink = !0, this.data = e, this.calendar = t, this.to = function() {
                return this.data.to;
            }, this.from = function() {
                return this.data.from;
            }, this.type = function() {
                return this.data.type;
            }, this.id = function() {
                return this.data.id;
            }, this.toJSON = function() {
                var e = {};
                return e.from = this.data.from, e.to = this.data.to, e.id = this.data.id, e.type = this.data.type, 
                e;
            };
        }, DayPilot.Event = function(e, t, i) {
            var n = this;
            this.calendar = t, this.data = e ? e : {}, this.part = i ? i : {}, "undefined" == typeof this.data.id && (this.data.id = this.data.value);
            var a = {}, r = [ "id", "text", "start", "end", "resource" ];
            this.isEvent = !0, DayPilot.Stats.eventObjects += 1, this.temp = function() {
                if (a.dirty) return a;
                for (var e = 0; e < r.length; e++) a[r[e]] = n.data[r[e]];
                return a.dirty = !0, a;
            }, this.copy = function() {
                var e = {};
                return DayPilot.Util.copyProps(n.data, e), e;
            }, this.commit = function() {
                if (a.dirty) {
                    for (var e = 0; e < r.length; e++) n.data[r[e]] = a[r[e]];
                    "function" == typeof n.data.commitCallback && n.data.commitCallback(), a.dirty = !1;
                }
            }, this.dirty = function() {
                return a.dirty;
            }, this.id = function(e) {
                return "undefined" == typeof e ? n.data.id : void (this.temp().id = e);
            }, this.value = function(e) {
                return "undefined" == typeof e ? n.id() : void n.id(e);
            }, this.text = function(e) {
                return "undefined" == typeof e ? n.data.text : (this.temp().text = e, void this.client.innerHTML(e));
            }, this.start = function(e) {
                return "undefined" == typeof e ? new DayPilot.Date(n.data.start) : void (this.temp().start = new DayPilot.Date(e));
            }, this.end = function(e) {
                return "undefined" == typeof e ? t && t.internal.adjustEndNormalize ? t.internal.adjustEndNormalize(new DayPilot.Date(n.data.end)) : new DayPilot.Date(n.data.end) : void (this.temp().end = new DayPilot.Date(e));
            }, this.duration = function() {
                return new DayPilot.Duration(this.start(), this.end());
            }, this.rawend = function(e) {
                if ("undefined" == typeof e) return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new DayPilot.Date(n.data.end)) : new DayPilot.Date(n.data.end);
                throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly");
            }, this.partStart = function() {
                return new DayPilot.Date(this.part.start);
            }, this.partEnd = function() {
                return new DayPilot.Date(this.part.end);
            }, this.row = function() {
                return this.resource();
            }, this.allday = function() {
                return "undefined" == typeof val ? n.data.allday : void (this.temp().allday = val);
            }, this.isAllDay = this.allday, this.resource = function(e) {
                return "undefined" == typeof e ? n.data.resource : void (this.temp().resource = e);
            }, this.recurrent = function() {
                return n.data.recurrent;
            }, this.recurrentMasterId = function() {
                return n.data.recurrentMasterId;
            }, this.useBox = function() {
                return this.part.box;
            }, this.staticBubbleHTML = function() {
                return this.bubbleHtml();
            }, this.bubbleHtml = function() {
                return n.cache ? n.cache.bubbleHtml || n.data.bubbleHtml : n.data.bubbleHtml;
            }, this.tag = function(e) {
                if (n.data.tags) return n.data.tags[e];
                var t = n.data.tag;
                if (!t) return null;
                if ("undefined" == typeof e) return n.data.tag;
                for (var i = n.calendar.tagFields, a = -1, r = 0; r < i.length; r++) e === i[r] && (a = r);
                if (a === -1) throw "Field name not found.";
                return t[a];
            }, this.client = {}, this.client.innerHTML = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.html ? n.cache.html : "undefined" != typeof n.data.html ? n.data.html : n.data.text : (n.data.html = e, 
                void (n.cache && (n.cache.html = e)));
            }, this.client.html = this.client.innerHTML, this.client.header = function(e) {
                return "undefined" == typeof e ? n.data.header : void (n.data.header = e);
            }, this.client.cssClass = function(e) {
                return "undefined" == typeof e ? n.data.cssClass : void (n.data.cssClass = e);
            }, this.client.toolTip = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.toolTip ? n.cache.toolTip : "undefined" != typeof n.data.toolTip ? n.data.toolTip : n.data.text : void (n.data.toolTip = e);
            }, this.client.backColor = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.backColor ? n.cache.backColor : "undefined" != typeof n.data.backColor ? n.data.backColor : n.calendar.eventBackColor : void (n.data.backColor = e);
            }, this.client.borderColor = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.borderColor ? n.cache.borderColor : "undefined" != typeof n.data.borderColor ? n.data.borderColor : n.calendar.eventBorderColor : void (n.data.borderColor = e);
            }, this.client.barColor = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.barColor ? n.cache.barColor : "undefined" != typeof n.data.barColor ? n.data.barColor : n.calendar.durationBarColor : void (n.data.barColor = e);
            }, this.client.barVisible = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.barHidden ? !n.cache.barHidden : n.calendar.durationBarVisible && !n.data.barHidden : void (n.data.barHidden = !e);
            }, this.client.contextMenu = function(e) {
                if ("undefined" == typeof e) {
                    if (n.oContextMenu) return n.oContextMenu;
                    var t = n.cache ? n.cache.contextMenu : n.data.contextMenu;
                    return t ? DayPilot.Util.evalVariable(t) : null;
                }
                n.oContextMenu = e;
            }, this.client.moveEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.moveDisabled ? !n.cache.moveDisabled : "Disabled" !== n.calendar.eventMoveHandling && !n.data.moveDisabled : void (n.data.moveDisabled = !e);
            }, this.client.resizeEnabled = function(e) {
                return "undefined" == typeof e ? "Milestone" !== n.data.type && (n.cache && "undefined" != typeof n.cache.resizeDisabled ? !n.cache.resizeDisabled : "Disabled" !== n.calendar.eventResizeHandling && !n.data.resizeDisabled) : void (n.data.resizeDisabled = !e);
            }, this.client.rightClickEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.rightClickDisabled ? !n.cache.rightClickDisabled : "Disabled" !== n.calendar.eventRightClickHandling && !n.data.rightClickDisabled : void (n.data.rightClickDisabled = !e);
            }, this.client.clickEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.clickDisabled ? !n.cache.clickDisabled : "Disabled" !== n.calendar.eventClickHandling && !n.data.clickDisabled : void (n.data.clickDisabled = !e);
            }, this.client.deleteEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.deleteDisabled ? !n.cache.deleteDisabled : "Disabled" !== n.calendar.eventDeleteHandling && !n.data.deleteDisabled : void (n.data.deleteDisabled = !e);
            }, this.client.doubleClickEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.doubleClickDisabled ? !n.cache.doubleClickDisabled : "Disabled" !== n.calendar.eventDoubleClickHandling && !n.data.doubleClickDisabled : void (n.data.doubleClickDisabled = !e);
            }, this.client.deleteClickEnabled = function(e) {
                return "undefined" == typeof e ? n.cache && "undefined" != typeof n.cache.deleteDisabled ? !n.cache.deleteDisabled : "Disabled" !== n.calendar.eventDeleteHandling && !n.data.deleteDisabled : void (n.data.deleteDisabled = !e);
            }, this.toJSON = function(e) {
                var t = {};
                if (t.value = this.id(), t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), 
                t.end = this.end().toJSON(), t.resource = this.resource(), t.isAllDay = !1, t.recurrentMasterId = this.recurrentMasterId(), 
                t.join = this.data.join, t.tag = {}, n.data.tags) for (var i in n.data.tags) n.data.tags.hasOwnProperty(i) && (t.tag[i] = "" + n.data.tags[i]); else if (n.calendar && n.calendar.tagFields) for (var a = n.calendar.tagFields, r = 0; r < a.length; r++) t.tag[a[r]] = this.tag(a[r]);
                return t;
            };
        }, DayPilot.Task = function(e, t) {
            if (!e) throw "Trying to initialize DayPilot.Task with null data parameter";
            var i = this, n = null;
            if (e instanceof DayPilot.Event) n = e, this.data = e.data.task; else {
                if (e instanceof DayPilot.Task) return e;
                e.isTaskWrapper ? this.data = e.data : this.data = e;
            }
            var a = {}, r = [ "id", "text", "start", "end", "complete", "type" ];
            this.isTask = !0, this.calendar = t, this.temp = function() {
                if (a.dirty) return a;
                for (var e = 0; e < r.length; e++) a[r[e]] = i.data[r[e]];
                return a.dirty = !0, a;
            }, this.copy = function() {
                var e = {};
                return DayPilot.Util.copyProps(i.data, e), e;
            }, this.commit = function() {
                if (a.dirty) {
                    for (var e = 0; e < r.length; e++) i.data[r[e]] = a[r[e]];
                    a.dirty = !1;
                }
            }, this.dirty = function() {
                return a.dirty;
            }, this.id = function(e) {
                return "undefined" == typeof e ? i.data.id : void (this.temp().id = e);
            }, this.text = function(e) {
                return "undefined" == typeof e ? i.data.text : (this.temp().text = e, void this.client.innerHTML(e));
            }, this.start = function(e) {
                return "undefined" == typeof e ? new DayPilot.Date(i.data.start) : void (this.temp().start = new DayPilot.Date(e));
            }, this.duration = function() {
                return new DayPilot.Duration(this.start(), this.end());
            }, this.end = function(e) {
                return "undefined" == typeof e ? t && "Date" === t.eventEndSpec ? new DayPilot.Date(i.data.end).getDatePart().addDays(1) : new DayPilot.Date(i.data.end) : void (this.temp().end = new DayPilot.Date(e));
            }, this.type = function(e) {
                return "undefined" == typeof e ? n ? n.data.type : i.data.type : void (this.temp().type = e);
            }, this.complete = function(e) {
                return "undefined" == typeof e ? i.data.complete ? i.data.complete : 0 : void (this.temp().complete = e);
            }, this.children = function() {
                var e = [];
                e.add = function(e) {
                    var t = new DayPilot.Task(e);
                    this.data.children || (this.data.children = []), this.children.push(t.data);
                };
                for (var i = 0; this.data.children && i < this.data.children.length; i++) e.push(new DayPilot.Task(this.data.children[i], t));
                return e;
            }, this.toJSON = function(e) {
                var t = {};
                return t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), 
                t.end = this.end().toJSON(), t.type = this.type(), t.tags = {}, DayPilot.Util.copyProps(this.data.tags, t.tags), 
                t;
            }, this.row = {};
            var o = this.row;
            o.expanded = function(e) {
                return "undefined" == typeof e ? !i.data.row || !i.data.row.collapsed : (i.data.row || (i.data.row = {}), 
                !!i.data.row.collapsed != !e && t.internal.rowObjectForTaskData(i.data).toggle(), 
                i.data.row.collapsed = !e, void 0);
            }, o.expand = function() {
                o.expanded(!0);
            }, o.collapse = function() {
                o.expanded(!1);
            }, o.toggle = function() {
                o.expanded(!o.expanded());
            };
        }, DayPilot.request = function(e, t, i, n) {
            var a = DayPilot.createXmlHttp();
            a && (a.open("POST", e, !0), a.setRequestHeader("Content-type", "text/plain"), a.onreadystatechange = function() {
                if (4 === a.readyState) return 200 !== a.status && 304 !== a.status ? void (n ? n(a) : window.console && console.log("HTTP error " + a.status)) : void t(a);
            }, 4 !== a.readyState && ("object" == typeof i && (i = JSON.stringify(i)), a.send(i)));
        }, DayPilot.ajax = function(e) {
            if (!e) throw new DayPilot.Exception("Parameter object required.");
            if ("string" != typeof e.url) throw new DayPilot.Exception("The parameter object must have 'url' property.");
            var t = DayPilot.createXmlHttp();
            if (!t) throw new DayPilot.Exception("Unable to create XMLHttpRequest object");
            var i = "object" == typeof e.data, n = e.data, a = e.method || "GET", r = e.success || function() {}, o = e.error || function() {}, s = e.url, l = e.contentType || (i ? "application/json" : "text/plain"), d = e.headers || {};
            t.open(a, s, !0), t.setRequestHeader("Content-type", l), DayPilot.Util.ownPropsAsArray(d).forEach(function(e) {
                t.setRequestHeader(e.key, e.val);
            }), t.onreadystatechange = function() {
                if (4 === t.readyState) if (200 === t.status || 304 === t.status) {
                    var e = {};
                    e.request = t, e.data = JSON.parse(t.responseText), r(e);
                } else if (o) {
                    var e = {};
                    e.request = t, o(e);
                } else window.console && console.log("HTTP error " + t.status);
            }, 4 !== t.readyState && (i && (n = JSON.stringify(n)), t.send(n));
        }, DayPilot.createXmlHttp = function() {
            return new XMLHttpRequest();
        }, DayPilot.Http = {}, DayPilot.Http.ajax = function(e) {
            DayPilot.ajax(e);
        }, DayPilot.Duration = function(e) {
            var t = this, i = 864e5, n = 36e5, a = 6e4, r = 1e3;
            if (2 === arguments.length) {
                var o = arguments[0], s = arguments[1];
                if (!(o instanceof DayPilot.Date) && "string" != typeof o) throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
                if (!(s instanceof DayPilot.Date) && "string" != typeof s) throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
                "string" == typeof o && (o = new DayPilot.Date(o)), "string" == typeof s && (s = new DayPilot.Date(s)), 
                e = s.getTime() - o.getTime();
            }
            return this.ticks = e || 0, DayPilot.Date.Cache.DurationCtor["" + e] ? DayPilot.Date.Cache.DurationCtor["" + e] : (DayPilot.Date.Cache.DurationCtor["" + e] = this, 
            this.toString = function(e) {
                if (!e) return t.days() + "." + t.hours() + ":" + t.minutes() + ":" + t.seconds() + "." + t.milliseconds();
                var i = t.minutes();
                i = (i < 10 ? "0" : "") + i;
                var n = e;
                return n = n.replace("mm", i), n = n.replace("m", t.minutes()), n = n.replace("H", t.hours()), 
                n = n.replace("h", t.hours()), n = n.replace("d", t.days()), n = n.replace("s", t.seconds());
            }, this.totalHours = function() {
                return t.ticks / n;
            }, this.totalDays = function() {
                return t.ticks / i;
            }, this.totalMinutes = function() {
                return t.ticks / a;
            }, this.totalSeconds = function() {
                return t.ticks / r;
            }, this.totalMilliseconds = function() {
                return t.ticks;
            }, this.days = function() {
                return Math.floor(t.totalDays());
            }, this.hours = function() {
                var e = t.ticks - t.days() * i;
                return Math.floor(e / n);
            }, this.minutes = function() {
                var e = t.ticks - Math.floor(t.totalHours()) * n;
                return Math.floor(e / a);
            }, this.seconds = function() {
                var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                return Math.floor(e / r);
            }, this.milliseconds = function() {
                return t.ticks % r;
            }, void (this.add = function(e) {
                return new DayPilot.Duration(t.ticks + e.ticks);
            }));
        }, DayPilot.Duration.weeks = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
        }, DayPilot.Duration.days = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
        }, DayPilot.Duration.hours = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60);
        }, DayPilot.Duration.minutes = function(e) {
            return new DayPilot.Duration(1e3 * e * 60);
        }, DayPilot.Duration.seconds = function(e) {
            return new DayPilot.Duration(1e3 * e);
        }, DayPilot.TimeSpan = function() {
            throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan.";
        };
        try {
            DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
        } catch (e) {}
        DayPilot.Date = function(t, i) {
            if (t instanceof DayPilot.Date) return t;
            var n;
            DayPilot.Util.isNullOrUndefined(t) && (n = DayPilot.DateUtil.fromLocal().getTime(), 
            t = n);
            var a = DayPilot.Date.Cache.Ctor;
            if (a[t]) return DayPilot.Stats.cacheHitsCtor += 1, a[t];
            var r = !1;
            if ("string" == typeof t) {
                try {
                    n = DayPilot.DateUtil.fromStringSortable(t, i).getTime();
                } catch (e) {
                    throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: " + t);
                }
                r = !0;
            } else if ("number" == typeof t) {
                if (isNaN(t)) throw "Cannot create DayPilot.Date from NaN";
                n = t;
            } else {
                if (!(t instanceof Date)) throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
                n = i ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime();
            }
            var o = e(n);
            return a[o] ? a[o] : (a[o] = this, a[n] = this, r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this), 
            Object.defineProperty ? (Object.defineProperty(this, "ticks", {
                get: function() {
                    return n;
                }
            }), Object.defineProperty(this, "value", {
                value: o,
                writable: !1,
                enumerable: !0
            })) : (this.ticks = n, this.value = o), DayPilot.Date.Config.legacyShowD && (this.d = new Date(n)), 
            void (DayPilot.Stats.dateObjects += 1));
        }, DayPilot.Date.Config = {}, DayPilot.Date.Config.legacyShowD = !1, DayPilot.Date.Cache = {}, 
        DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, 
        DayPilot.Date.Cache.DurationCtor = {}, DayPilot.Date.Cache.clear = function() {
            DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, 
            DayPilot.Date.Cache.DurationCtor = {};
        }, DayPilot.Date.prototype.addDays = function(e) {
            return e ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this;
        }, DayPilot.Date.prototype.addHours = function(e) {
            return e ? this.addTime(60 * e * 60 * 1e3) : this;
        }, DayPilot.Date.prototype.addMilliseconds = function(e) {
            return e ? this.addTime(e) : this;
        }, DayPilot.Date.prototype.addMinutes = function(e) {
            return e ? this.addTime(60 * e * 1e3) : this;
        }, DayPilot.Date.prototype.addMonths = function(e) {
            if (!e) return this;
            var t = new Date(this.ticks), i = t.getUTCFullYear(), n = t.getUTCMonth() + 1;
            if (e > 0) {
                for (;e >= 12; ) e -= 12, i++;
                e > 12 - n ? (i++, n = e - (12 - n)) : n += e;
            } else {
                for (;e <= -12; ) e += 12, i--;
                n + e <= 0 ? (i--, n = 12 + n + e) : n += e;
            }
            var a = new Date(t.getTime());
            a.setUTCDate(1), a.setUTCFullYear(i), a.setUTCMonth(n - 1);
            var r = new DayPilot.Date(a).daysInMonth();
            return a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a);
        }, DayPilot.Date.prototype.addSeconds = function(e) {
            return e ? this.addTime(1e3 * e) : this;
        }, DayPilot.Date.prototype.addTime = function(e) {
            return e ? (e instanceof DayPilot.Duration && (e = e.ticks), new DayPilot.Date(this.ticks + e)) : this;
        }, DayPilot.Date.prototype.addYears = function(e) {
            var t = new Date(this.ticks), i = new Date(this.ticks), n = this.getYear() + e, a = this.getMonth();
            i.setUTCDate(1), i.setUTCFullYear(n), i.setUTCMonth(a);
            var r = new DayPilot.Date(i).daysInMonth();
            return i.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(i);
        }, DayPilot.Date.prototype.dayOfWeek = function() {
            return new Date(this.ticks).getUTCDay();
        }, DayPilot.Date.prototype.getDayOfWeek = function() {
            return new Date(this.ticks).getUTCDay();
        }, DayPilot.Date.prototype.getDayOfYear = function() {
            var e = this.firstDayOfYear();
            return DayPilot.DateUtil.daysDiff(e, this) + 1;
        }, DayPilot.Date.prototype.daysInMonth = function() {
            var e = new Date(this.ticks), t = e.getUTCMonth() + 1, i = e.getUTCFullYear(), n = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
            return 2 !== t ? n[t - 1] : i % 4 !== 0 ? n[1] : i % 100 === 0 && i % 400 !== 0 ? n[1] : n[1] + 1;
        }, DayPilot.Date.prototype.daysInYear = function() {
            var e = this.getYear();
            return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;
        }, DayPilot.Date.prototype.dayOfYear = function() {
            return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1;
        }, DayPilot.Date.prototype.equals = function(e) {
            if (null === e) return !1;
            if (e instanceof DayPilot.Date) return this === e;
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
        }, DayPilot.Date.prototype.firstDayOfMonth = function() {
            var e = new Date();
            return e.setUTCFullYear(this.getYear(), this.getMonth(), 1), e.setUTCHours(0), e.setUTCMinutes(0), 
            e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e);
        }, DayPilot.Date.prototype.firstDayOfYear = function() {
            var e = this.getYear(), t = new Date();
            return t.setUTCFullYear(e, 0, 1), t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), 
            t.setUTCMilliseconds(0), new DayPilot.Date(t);
        }, DayPilot.Date.prototype.firstDayOfWeek = function(e) {
            var t = this;
            if (e instanceof DayPilot.Locale) e = e.weekStarts; else if ("string" == typeof e && DayPilot.Locale.find(e)) {
                var i = DayPilot.Locale.find(e);
                e = i.weekStarts;
            } else e = e || 0;
            for (var n = t.dayOfWeek(); n !== e; ) t = t.addDays(-1), n = t.dayOfWeek();
            return new DayPilot.Date(t);
        }, DayPilot.Date.prototype.getDay = function() {
            return new Date(this.ticks).getUTCDate();
        }, DayPilot.Date.prototype.getDatePart = function() {
            var e = new Date(this.ticks);
            return e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), 
            new DayPilot.Date(e);
        }, DayPilot.Date.prototype.getYear = function() {
            return new Date(this.ticks).getUTCFullYear();
        }, DayPilot.Date.prototype.getHours = function() {
            return new Date(this.ticks).getUTCHours();
        }, DayPilot.Date.prototype.getMilliseconds = function() {
            return new Date(this.ticks).getUTCMilliseconds();
        }, DayPilot.Date.prototype.getMinutes = function() {
            return new Date(this.ticks).getUTCMinutes();
        }, DayPilot.Date.prototype.getMonth = function() {
            return new Date(this.ticks).getUTCMonth();
        }, DayPilot.Date.prototype.getSeconds = function() {
            return new Date(this.ticks).getUTCSeconds();
        }, DayPilot.Date.prototype.getTotalTicks = function() {
            return this.getTime();
        }, DayPilot.Date.prototype.getTime = function() {
            return this.ticks;
        }, DayPilot.Date.prototype.getTimePart = function() {
            var e = this.getDatePart();
            return DayPilot.DateUtil.diff(this, e);
        }, DayPilot.Date.prototype.lastDayOfMonth = function() {
            var e = new Date(this.firstDayOfMonth().getTime()), t = this.daysInMonth();
            return e.setUTCDate(t), new DayPilot.Date(e);
        }, DayPilot.Date.prototype.weekNumber = function() {
            var e = this.firstDayOfYear(), t = (this.getTime() - e.getTime()) / 864e5;
            return Math.ceil((t + e.dayOfWeek() + 1) / 7);
        }, DayPilot.Date.prototype.weekNumberISO = function() {
            var e = !1, t = this.dayOfYear(), i = this.firstDayOfYear().dayOfWeek(), n = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
            0 === i && (i = 7), 0 === n && (n = 7);
            var a = 8 - i;
            4 !== i && 4 !== n || (e = !0);
            var r = Math.ceil((t - a) / 7), o = r;
            return a >= 4 && (o += 1), o > 52 && !e && (o = 1), 0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()), 
            o;
        }, DayPilot.Date.prototype.toDateLocal = function() {
            var e = new Date(this.ticks), t = new Date();
            return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()), t.setHours(e.getUTCHours()), 
            t.setMinutes(e.getUTCMinutes()), t.setSeconds(e.getUTCSeconds()), t.setMilliseconds(e.getUTCMilliseconds()), 
            t;
        }, DayPilot.Date.prototype.toDate = function() {
            return new Date(this.ticks);
        }, DayPilot.Date.prototype.toJSON = function() {
            return this.value;
        }, DayPilot.Date.prototype.toString = function(e, t) {
            return e ? new r(e, t).print(this) : this.toStringSortable();
        }, DayPilot.Date.prototype.toStringSortable = function() {
            return e(this.ticks);
        }, DayPilot.Date.parse = function(e, t, i) {
            return new r(t, i).parse(e);
        };
        var a = 0;
        DayPilot.Date.today = function() {
            return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
        }, DayPilot.Date.fromYearMonthDay = function(e, t, i) {
            t = t || 1, i = i || 1;
            var n = new Date(0);
            return n.setUTCFullYear(e), n.setUTCMonth(t - 1), n.setUTCDate(i), new DayPilot.Date(n);
        }, DayPilot.DateUtil = {}, DayPilot.DateUtil.fromStringSortable = function(e, t) {
            if (!e) throw "Can't create DayPilot.Date from an empty string";
            var i = e.length, n = 10 === i, a = 19 === i, r = i > 19;
            if (!n && !a && !r) throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): " + e;
            if (DayPilot.Date.Cache.Parsing[e] && !t) return DayPilot.Stats.cacheHitsParsing += 1, 
            DayPilot.Date.Cache.Parsing[e];
            var o = e.substring(0, 4), s = e.substring(5, 7), l = e.substring(8, 10), d = new Date(0);
            if (d.setUTCFullYear(o, s - 1, l), n) return DayPilot.Date.Cache.Parsing[e] = d, 
            d;
            var c = e.substring(11, 13), h = e.substring(14, 16), u = e.substring(17, 19);
            if (d.setUTCHours(c), d.setUTCMinutes(h), d.setUTCSeconds(u), a) return DayPilot.Date.Cache.Parsing[e] = d, 
            d;
            var f = e[19], v = 0;
            if ("." === f) {
                var p = parseInt(e.substring(20, 23));
                d.setUTCMilliseconds(p), v = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23));
            } else v = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
            var m = new DayPilot.Date(d);
            return t || (m = m.addMinutes(-v)), d = m.toDate(), DayPilot.Date.Cache.Parsing[e] = d, 
            d;
        }, DayPilot.DateUtil.getTzOffsetMinutes = function(e) {
            if (DayPilot.Util.isNullOrUndefined(e) || "" === e) return 0;
            if ("Z" === e) return 0;
            var t = e[0], i = parseInt(e.substring(1, 3)), n = parseInt(e.substring(4)), a = 60 * i + n;
            if ("-" === t) return -a;
            if ("+" === t) return a;
            throw "Invalid timezone spec: " + e;
        }, DayPilot.DateUtil.hasTzSpec = function(e) {
            return !!e.indexOf("+") || !!e.indexOf("-");
        }, DayPilot.DateUtil.daysDiff = function(e, t) {
            if (e && t || function() {
                throw "two parameters required";
            }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e.getTime() > t.getTime()) return null;
            for (var i = 0, n = e.getDatePart(), a = t.getDatePart(); n < a; ) n = n.addDays(1), 
            i++;
            return i;
        }, DayPilot.DateUtil.daysSpan = function(e, t) {
            if (e && t || function() {
                throw "two parameters required";
            }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e === t) return 0;
            var i = DayPilot.DateUtil.daysDiff(e, t);
            return t == t.getDatePart() && i--, i;
        }, DayPilot.DateUtil.diff = function(e, t) {
            if (!(e && t && e.getTime && t.getTime)) throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
            return e.getTime() - t.getTime();
        }, DayPilot.DateUtil.fromLocal = function(e) {
            e || (e = new Date());
            var t = new Date();
            return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t.setUTCHours(e.getHours()), 
            t.setUTCMinutes(e.getMinutes()), t.setUTCSeconds(e.getSeconds()), t.setUTCMilliseconds(e.getMilliseconds()), 
            t;
        }, DayPilot.DateUtil.localToday = function() {
            var e = new Date();
            return e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e;
        }, DayPilot.DateUtil.hours = function(e, t) {
            var i = e.getUTCMinutes();
            i < 10 && (i = "0" + i);
            var n = e.getUTCHours();
            if (t) {
                var a = n < 12, n = n % 12;
                0 === n && (n = 12);
                return n + ":" + i + " " + (a ? "AM" : "PM");
            }
            return n + ":" + i;
        }, DayPilot.DateUtil.max = function(e, t) {
            return e.getTime() > t.getTime() ? e : t;
        }, DayPilot.DateUtil.min = function(e, t) {
            return e.getTime() < t.getTime() ? e : t;
        };
        var r = function(e, i) {
            "string" == typeof i && (i = DayPilot.Locale.find(i));
            var i = i || DayPilot.Locale.US, n = [ {
                seq: "yyyy",
                expr: "[0-9]{4,4}",
                str: function(e) {
                    return e.getYear();
                }
            }, {
                seq: "yy",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    return e.getYear() % 100;
                }
            }, {
                seq: "mm",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getMinutes();
                    return t < 10 ? "0" + t : t;
                }
            }, {
                seq: "m",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getMinutes();
                }
            }, {
                seq: "HH",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getHours();
                    return t < 10 ? "0" + t : t;
                }
            }, {
                seq: "H",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getHours();
                }
            }, {
                seq: "hh",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getHours(), t = t % 12;
                    0 === t && (t = 12);
                    var i = t;
                    return i < 10 ? "0" + i : i;
                }
            }, {
                seq: "h",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    var t = e.getHours(), t = t % 12;
                    return 0 === t && (t = 12), t;
                }
            }, {
                seq: "ss",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getSeconds();
                    return t < 10 ? "0" + t : t;
                }
            }, {
                seq: "s",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getSeconds();
                }
            }, {
                seq: "MMMM",
                expr: "[^\\s0-9]*",
                str: function(e) {
                    return i.monthNames[e.getMonth()];
                },
                transform: function(e) {
                    var n = DayPilot.indexOf(i.monthNames, e, t);
                    return n < 0 ? null : n + 1;
                }
            }, {
                seq: "MMM",
                expr: "[^\\s0-9]*",
                str: function(e) {
                    return i.monthNamesShort[e.getMonth()];
                },
                transform: function(e) {
                    var n = DayPilot.indexOf(i.monthNamesShort, e, t);
                    return n < 0 ? null : n + 1;
                }
            }, {
                seq: "MM",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getMonth() + 1;
                    return t < 10 ? "0" + t : t;
                }
            }, {
                seq: "M",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getMonth() + 1;
                }
            }, {
                seq: "dddd",
                expr: "[^\\s0-9]*",
                str: function(e) {
                    return i.dayNames[e.getDayOfWeek()];
                }
            }, {
                seq: "ddd",
                expr: "[^\\s0-9]*",
                str: function(e) {
                    return i.dayNamesShort[e.getDayOfWeek()];
                }
            }, {
                seq: "dd",
                expr: "[0-9]{2,2}",
                str: function(e) {
                    var t = e.getDay();
                    return t < 10 ? "0" + t : t;
                }
            }, {
                seq: "%d",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getDay();
                }
            }, {
                seq: "d",
                expr: "[0-9]{1,2}",
                str: function(e) {
                    return e.getDay();
                }
            }, {
                seq: "tt",
                expr: "(AM|PM|am|pm)",
                str: function(e) {
                    return e.getHours() < 12 ? "AM" : "PM";
                },
                transform: function(e) {
                    return e.toUpperCase();
                }
            } ], a = function(e) {
                return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
            };
            this.init = function() {
                this.year = this.findSequence("yyyy"), this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M"), 
                this.day = this.findSequence("dd") || this.findSequence("d"), this.hours = this.findSequence("HH") || this.findSequence("H"), 
                this.minutes = this.findSequence("mm") || this.findSequence("m"), this.seconds = this.findSequence("ss") || this.findSequence("s"), 
                this.ampm = this.findSequence("tt"), this.hours12 = this.findSequence("hh") || this.findSequence("h");
            }, this.findSequence = function(t) {
                function i(e) {
                    return parseInt(e);
                }
                return e.indexOf(t) === -1 ? null : {
                    findValue: function(r) {
                        for (var o = a(e), s = null, l = 0; l < n.length; l++) {
                            var d = (n[l].length, t === n[l].seq), c = n[l].expr;
                            d && (c = "(" + c + ")", s = n[l].transform), o = o.replace(n[l].seq, c);
                        }
                        o = "^" + o + "$";
                        try {
                            var h = new RegExp(o), u = h.exec(r);
                            return u ? (s = s || i)(u[1]) : null;
                        } catch (e) {
                            throw "unable to create regex from: " + o;
                        }
                    }
                };
            }, this.print = function(t) {
                for (var i = function(e) {
                    for (var t = 0; t < n.length; t++) if (n[t] && n[t].seq === e) return n[t];
                    return null;
                }, a = e.length <= 0, r = 0, o = []; !a; ) {
                    var s = e.substring(r), l = /%?(.)\1*/.exec(s);
                    if (l && l.length > 0) {
                        var d = l[0], c = i(d);
                        c ? o.push(c) : o.push(d), r += d.length, a = e.length <= r;
                    } else a = !0;
                }
                for (var h = 0; h < o.length; h++) {
                    var u = o[h];
                    "string" != typeof u && (o[h] = u.str(t));
                }
                return o.join("");
            }, this.parse = function(e) {
                var t = this.year.findValue(e);
                if (!t) return null;
                var i = this.month.findValue(e);
                if (DayPilot.Util.isNullOrUndefined(i)) return null;
                if (i > 12 || i < 1) return null;
                var n = this.day.findValue(e), a = DayPilot.Date.fromYearMonthDay(t, i).daysInMonth();
                if (n < 1 || n > a) return null;
                var r = this.hours ? this.hours.findValue(e) : 0, o = this.minutes ? this.minutes.findValue(e) : 0, s = this.seconds ? this.seconds.findValue(e) : 0, l = this.ampm ? this.ampm.findValue(e) : null;
                if (this.ampm && this.hours12) {
                    var d = this.hours12.findValue(e);
                    if (d < 1 || d > 12) return null;
                    r = "PM" === l ? 12 === d ? 12 : d + 12 : 12 === d ? 0 : d;
                }
                if (r < 0 || r > 23) return null;
                if (o < 0 || o > 59) return null;
                if (s < 0 || s > 59) return null;
                var c = new Date();
                return c.setUTCFullYear(t, i - 1, n), c.setUTCHours(r), c.setUTCMinutes(o), c.setUTCSeconds(s), 
                c.setUTCMilliseconds(0), new DayPilot.Date(c);
            }, this.init();
        };
        DayPilot.ColorUtil = {}, DayPilot.ColorUtil.hexToRgb = function(e) {
            if (!/^#[0-9a-f]{6}$/i.test(e)) throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");
            return e = e.replace("#", ""), {
                r: parseInt(e.substring(0, 2), 16),
                g: parseInt(e.substring(2, 4), 16),
                b: parseInt(e.substring(4, 6), 16)
            };
        }, DayPilot.ColorUtil.rgbToHex = function(e) {
            return "#" + i(e.r) + i(e.g) + i(e.b);
        }, DayPilot.ColorUtil.adjustLuminance = function(e, t) {
            return {
                r: e.r + t,
                g: e.g + t,
                b: e.b + t
            };
        }, DayPilot.ColorUtil.darker = function(e, t) {
            var i = DayPilot.ColorUtil.hexToRgb(e);
            t = t || 1;
            var n = 17, a = t * n, r = DayPilot.ColorUtil.adjustLuminance(i, -a);
            return DayPilot.ColorUtil.rgbToHex(r);
        }, DayPilot.Canvas = function(e, t, i, n, a) {
            function r(e, t, i) {
                for (var n = t.split(" "), a = [], r = n[0], o = 1; o < n.length; o++) {
                    var s = n[o];
                    e.measureText(r + " " + s).width < i ? r += " " + s : (a.push(r), r = s);
                }
                return a.push(r), a;
            }
            var n = n || 1, o = document.createElement("canvas");
            o.width = e * n, o.height = t * n;
            var s = o.getContext("2d");
            s.scale(n, n), this.defaultFileName = "image.png", "image/jpeg" === i && (this.defaultFileName = "image.jpg", 
            a = a || .92), this.groupStart = function(e) {}, this.groupEnd = function() {}, 
            this.fillRect = function(e, t) {
                s.save(), s.strokeStyle = "rgb(0,0,0,0)", s.fillStyle = t, s.fillRect(e.x, e.y, e.w, e.h), 
                s.restore();
            }, this.rect = function(e, t) {
                s.save(), s.strokeStyle = t, s.beginPath(), s.rect(e.x + .5, e.y + .5, e.w - 1, e.h - 1), 
                s.stroke(), s.restore();
            }, this.diamond = function(e, t) {
                s.save(), s.strokeStyle = "rgb(0,0,0,0)", s.fillStyle = t, s.beginPath(), s.moveTo(e.x + e.w / 2, e.y + .5), 
                s.lineTo(e.x + e.w - .5, e.y + e.h / 2), s.lineTo(e.x + e.w / 2, e.y + e.h - .5), 
                s.lineTo(e.x + .5, e.y + e.h / 2), s.closePath(), s.fill(), s.restore();
            }, this.triangle = function(e, t, i) {
                for (i = i || 0; i < 0; ) i += 360;
                for (;i >= 360; ) i -= 360;
                switch (s.save(), s.strokeStyle = "rgb(0,0,0,0)", s.fillStyle = t, s.beginPath(), 
                i) {
                  case 0:
                    s.moveTo(e.x + e.w / 3, e.y + .5), s.lineTo(e.x + e.w + .5, e.y + e.h / 2), s.lineTo(e.x + e.w / 3, e.y + e.h - .5);
                    break;

                  case 90:
                    s.moveTo(e.x - .5, e.y + e.h / 3), s.lineTo(e.x + e.w + .5, e.y + e.h / 3), s.lineTo(e.x + e.w / 2, e.y + e.h + .5);
                    break;

                  case 180:
                    s.moveTo(e.x + 2 * e.w / 3, e.y + .5), s.lineTo(e.x + 2 * e.w / 3, e.y + e.h), s.lineTo(e.x, e.y + e.h / 2);
                    break;

                  case 270:
                    s.moveTo(e.x + e.w / 2, e.y + e.w / 2 + .5), s.lineTo(e.x + e.w - .5, e.y + 2 * e.h / 3), 
                    s.lineTo(e.x, e.y + 2 * e.h / 3);
                    break;

                  default:
                    throw new DayPilot.Exception("Unsupported rotation angle");
                }
                s.closePath(), s.fill(), s.restore();
            }, this.upperLeftCorner = function(e, t) {
                s.save(), s.strokeStyle = "rgb(0,0,0,0)", s.fillStyle = t, s.beginPath(), s.moveTo(e.x, e.y), 
                s.lineTo(e.x + e.w, e.y), s.lineTo(e.x, e.y + e.h), s.closePath(), s.fill(), s.restore();
            }, this.upperRightCorner = function(e, t) {
                s.save(), s.strokeStyle = "rgb(0,0,0,0)", s.fillStyle = t, s.beginPath(), s.moveTo(e.x, e.y), 
                s.lineTo(e.x + e.w, e.y), s.lineTo(e.x + e.w, e.y + e.h), s.closePath(), s.fill(), 
                s.restore();
            }, this.textWidth = function(e, t) {
                s.save(), s.font = t.style + " " + t.size + " " + t.family;
                var i = s.measureText(e).width + 1;
                return s.restore(), i;
            }, this.text = function(e, t, i, n, a, o, l) {
                if (t) {
                    if ("number" == typeof t && (t = "" + t), "string" != typeof t) throw "String expected, supplied: " + typeof t;
                    a = a || "left", o = o || 0, n = n || "#000", l = l || "top", s.save();
                    var d = DayPilot.Util.fontHeight(i), c = DayPilot.browser.ff ? 3 : 0;
                    c += .2 * d, c += DayPilot.browser.chrome ? 1 : 0, c += DayPilot.browser.ie ? 1 : 0, 
                    s.rect(e.x + .5 + o, e.y + .5 + o, e.w - 1 - o, e.h - 1 - o), s.clip(), s.fillStyle = n, 
                    s.font = i.style + " " + i.size + " " + i.family, s.textBaseline = "top", s.textAlign = a;
                    var h = e.x;
                    switch (a) {
                      case "center":
                        h += e.w / 2;
                        break;

                      case "right":
                        h += e.w;
                    }
                    var u = 1.2 * d, f = t.split("\n"), v = [];
                    DayPilot.list(f).each(function(t) {
                        var i = r(s, t, e.w);
                        DayPilot.list(i).each(function(e) {
                            v.push(e);
                        });
                    });
                    var p = u - d, m = u * v.length - p, g = e.h - 2 * o, y = e.y + o;
                    switch (l) {
                      case "top":
                        y += c;
                        break;

                      case "center":
                        y += (g - m) / 2 + .1 * d;
                        break;

                      case "bottom":
                        y += g - m;
                    }
                    for (var b = 0; b < v.length; b++) {
                        var w = v[b];
                        s.fillText(w, h + o, y), y += u;
                    }
                    s.restore();
                }
            }, this.line = function(e, t, i, n, a) {
                s.save(), s.lineWidth = 1, s.strokeStyle = a, s.beginPath(), s.moveTo(e + .5, t + .5), 
                s.lineTo(i + .5, n + .5), s.stroke(), s.restore();
            }, this.image = function(e, t) {
                if (t) {
                    if ("string" == typeof t) {
                        var i = t, t = document.createElement("img");
                        if (0 !== i.indexOf("data:")) return t.onload = function() {
                            s.save(), s.drawImage(t, e.x, e.y), s.restore();
                        }, void (t.src = i);
                        t.src = i;
                    }
                    s.save(), s.drawImage(t, e.x, e.y), s.restore();
                }
            }, this.getWidth = function() {
                return o.width;
            }, this.getHeight = function() {
                return o.height;
            }, this.getElement = function() {
                return o;
            }, this.getSource = function() {
                return "<img src='" + o.toDataURL(i, a) + "' />";
            }, this.getDataUri = function() {
                return o.toDataURL(i, a);
            }, this.getDefaultFileName = function() {
                return this.defaultFileName;
            }, this.getBlob = function() {
                return o.msToBlob ? o.msToBlob() : DayPilot.Util.dataUriToBlob(this.getDataUri());
            };
        }, DayPilot.Svg = function(e, t) {
            function i(e, t) {
                var i = document.createElementNS(a, "clipPath");
                i.id = "clip" + DayPilot.guid();
                var n = document.createElementNS(a, "rect");
                n.setAttribute("x", 0), n.setAttribute("y", 0), n.setAttribute("width", e), n.setAttribute("height", t), 
                i.appendChild(n), o.defs.appendChild(i);
                var s = document.createElementNS(a, "g");
                s.setAttribute("clip-path", "url(#" + i.id + ")"), r.appendChild(s), r = s;
            }
            function n(e, t) {
                var i = null;
                if (e) {
                    if ("string" == typeof e) {
                        if (0 === e.indexOf("data:")) {
                            var n = {};
                            n.dataUri = e, t(n);
                        }
                        i = e;
                    } else i = e.src;
                    var e = document.createElement("img");
                    e.onload = function() {
                        var e = document.createElement("canvas");
                        e.width = this.naturalWidth, e.height = this.naturalHeight, e.getContext("2d").drawImage(this, 0, 0);
                        var i = {};
                        i.dataUri = e.toDataURL("image/png"), t(i);
                    }, e.src = i;
                }
            }
            var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg"), o = this;
            this.svg = r, this.groups = [], r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 " + e + " " + t);
            var s = document.createElementNS(a, "defs");
            r.appendChild(s), o.defs = s, i(e, t), this.defaultFileName = "image.svg", this.groupStart = function(e) {
                var t = document.createElementNS(a, "g");
                for (var i in e) t.setAttribute("data-" + i, e[i]);
                r = t, this.group && this.groups.push(this.group), this.group = t;
            }, this.groupEnd = function() {
                if (!this.group) throw new DayPilot.Error("SVG export = group not open");
                var e = this.group;
                this.group = this.groups.pop(), r = this.group, r || (r = this.svg), r.appendChild(e);
            }, this.fillRect = function(e, t) {
                var i = document.createElementNS(a, "rect");
                i.setAttribute("x", e.x), i.setAttribute("y", e.y), i.setAttribute("width", e.w), 
                i.setAttribute("height", e.h), i.setAttribute("fill", t), r.appendChild(i);
            }, this.diamond = function(e, t) {
                var i = document.createElementNS(a, "path"), n = "";
                n += "M " + (e.x + e.w / 2) + " " + e.y, n += " ", n += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), 
                n += " ", n += "L " + (e.x + e.w / 2) + " " + (e.y + e.h), n += " ", n += "L " + e.x + " " + (e.y + e.h / 2), 
                n += " Z", i.setAttribute("d", n), i.setAttribute("fill", t), r.appendChild(i);
            }, this.triangle = function(e, t, i) {
                var n = document.createElementNS(a, "path"), o = "";
                o += "M " + (e.x + e.w / 3) + " " + e.y, o += " ", o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), 
                o += " ", o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h), o += " Z", n.setAttribute("d", o), 
                n.setAttribute("fill", t), "number" == typeof i && n.setAttribute("transform", "rotate(" + i + "," + (e.x + e.w / 2) + "," + (e.y + e.h / 2) + ")"), 
                r.appendChild(n);
            }, this.upperLeftCorner = function(e, t) {
                var i = document.createElementNS(a, "path"), n = "";
                n += "M " + e.x + " " + e.y, n += " ", n += "L " + (e.x + e.w) + " " + e.y, n += " ", 
                n += "L " + e.x + " " + (e.y + e.h), n += " Z", i.setAttribute("d", n), i.setAttribute("fill", t), 
                r.appendChild(i);
            }, this.upperRightCorner = function(e, t) {
                var i = document.createElementNS(a, "path"), n = "";
                n += "M " + e.x + " " + e.y, n += " ", n += "L " + (e.x + e.w) + " " + e.y, n += " ", 
                n += "L " + (e.x + e.w) + " " + (e.y + e.h), n += " Z", i.setAttribute("d", n), 
                i.setAttribute("fill", t), r.appendChild(i);
            }, this.rect = function(e, t) {
                var i = document.createElementNS(a, "rect");
                i.setAttribute("x", e.x + .5), i.setAttribute("y", e.y + .5), i.setAttribute("width", e.w - 1), 
                i.setAttribute("height", e.h - 1), i.setAttribute("stroke", t), i.setAttribute("stroke-width", "1"), 
                i.setAttribute("fill", "transparent"), r.appendChild(i);
            }, this.text = function(e, t, i, n, s, l, d) {
                function c(e, t, o) {
                    var s = document.createElementNS(a, "text");
                    s.setAttribute("fill", n), s.setAttribute("font-family", i.family), s.setAttribute("font-size", i.size), 
                    s.setAttribute("font-style", h), s.setAttribute("font-weight", u), s.setAttribute("x", t), 
                    s.setAttribute("y", o), s.setAttribute("dy", "0.8em"), s.setAttribute("text-anchor", p), 
                    s.setAttribute("clip-path", "url(#" + m.id + ")");
                    var l = document.createTextNode(e);
                    s.appendChild(l), r.appendChild(s);
                }
                if (t) {
                    if ("number" == typeof t && (t = "" + t), "string" != typeof t) throw "String expected, supplied: " + typeof t;
                    s = s || "left", l = l || 0, d = d || "top";
                    var h = i.style;
                    h.indexOf("italic") !== -1 && (h = "bold");
                    var u = i.style;
                    if (i.style) var f = 3;
                    var v = e.x, p = "start";
                    switch (s) {
                      case "center":
                        v += e.w / 2, p = "middle";
                        break;

                      case "right":
                        v += e.w, p = "end";
                    }
                    var m = document.createElementNS(a, "clipPath");
                    m.id = "clip" + DayPilot.guid();
                    var g = document.createElementNS(a, "rect");
                    g.setAttribute("x", e.x), g.setAttribute("y", e.y), g.setAttribute("width", e.w), 
                    g.setAttribute("height", e.h), m.appendChild(g), o.defs.appendChild(m);
                    var y = DayPilot.Util.fontHeight(i), b = 1.2 * y, w = t.split("\n"), k = b - y, C = b * w.length - k, x = e.h - 2 * l, S = e.y + l;
                    switch (d) {
                      case "top":
                        S += f;
                        break;

                      case "center":
                        S += (x - C) / 2 + .1 * y;
                        break;

                      case "bottom":
                        S += x - C;
                    }
                    for (var E = 0; E < w.length; E++) {
                        c(w[E], v + l, S), S += b;
                    }
                }
            }, this.line = function(e, t, i, n, o) {
                var s = document.createElementNS(a, "line");
                s.setAttribute("x1", e + .5), s.setAttribute("y1", t + .5), s.setAttribute("x2", i + .5), 
                s.setAttribute("y2", n + .5), s.setAttribute("stroke", o), r.appendChild(s);
            }, this.image = function(e, t) {
                function i(t) {
                    var i = document.createElementNS(a, "image");
                    i.setAttribute("href", t.dataUri), i.setAttribute("x", e.x), i.setAttribute("y", e.y), 
                    i.setAttribute("width", e.w), i.setAttribute("height", e.h), o.appendChild(i);
                }
                var o = document.createElementNS(a, "g");
                r.appendChild(o), n(t, i);
            }, this.f = {}, this.textWidth = function(e, t) {
                var i = "#" + e + "#" + JSON.stringify(t), n = this.f[i];
                if ("number" == typeof n) return n;
                var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg");
                r.style.position = "absolute", r.style.left = "-10000px", r.style.width = "100px", 
                r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 100 100");
                var o = document.createElementNS(a, "text");
                o.setAttribute("font-family", t.family), o.setAttribute("font-size", t.size), o.setAttribute("font-style", t.style), 
                o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("dy", "1em");
                var s = document.createTextNode(e);
                o.appendChild(s), r.appendChild(o), document.body.appendChild(r);
                var l = o.getComputedTextLength();
                return this.f[i] = l, document.body.removeChild(r), l;
            }, this.getWidth = function() {
                return e;
            }, this.getHeight = function() {
                return t;
            }, this.getElement = function() {
                return r;
            }, this.getSource = function() {
                if (r.outerHTML) return r.outerHTML;
                var e = document.createElement("div"), t = r.cloneNode(!0);
                return e.appendChild(t), e.innerHTML;
            }, this.getDataUri = function() {
                return "data:application/octet-stream," + encodeURIComponent(this.getSource());
            }, this.getDefaultFileName = function() {
                return this.defaultFileName;
            }, this.getBlob = function() {
                return new Blob([ this.getSource() ]);
            };
        }, DayPilot.Excel = function() {
            var e = this, t = null, i = null, n = null, a = {};
            a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet", a.o = "urn:schemas-microsoft-com:office:office", 
            a.x = "urn:schemas-microsoft-com:office:excel", a.ss = "urn:schemas-microsoft-com:office:spreadsheet", 
            a.html = "http://www.w3.org/TR/REC-html40", this.init = function() {
                t = document.implementation.createDocument(a.xmlns, "Workbook", null), t.documentElement.setAttribute("xmlns:o", a.o), 
                t.documentElement.setAttribute("xmlns:x", a.x), t.documentElement.setAttribute("xmlns:ss", a.ss), 
                t.documentElement.setAttribute("xmlns:html", a.html);
                var r = t.createElement("x:ExcelWorkbook");
                t.documentElement.appendChild(r), i = t.createElement("ss:Styles"), t.documentElement.appendChild(i), 
                n = e.styles.create(), n.setId("Default"), n.setName("Normal");
            }, this.worksheets = [], this.worksheets.create = function(t) {
                var i = e.el(a.ss, "Worksheet"), n = new r(i);
                return n.setName(t), this.push(n), n;
            }, this.styles = [], this.styles.create = function(e) {
                var n = t.createElement("ss:Style");
                i.appendChild(n);
                var a = new o(n);
                return this.push(a), a;
            }, this.styles.getDefault = function() {
                return n;
            }, this.el = function(e, i) {
                var n = t.createElementNS(e, i);
                return t.documentElement.appendChild(n), n;
            }, this.getSource = function() {
                return '<?xml version="1.0"?>' + new XMLSerializer().serializeToString(t);
            }, this.getDataUri = function() {
                return "data:application/vnd.ms-excel," + encodeURIComponent(this.getSource());
            }, this.getElement = function() {
                return t;
            }, this.getDefaultFileName = function() {
                return "spreadsheet.xls";
            }, this.getBlob = function() {
                return new Blob([ this.getSource() ]);
            };
            var r = function(e) {
                var i = t.createElement("Table");
                e.appendChild(i);
                var n = t.createElement("x:WorksheetOptions");
                e.appendChild(n), this.rows = [], this.setName = function(t) {
                    e.setAttribute("ss:Name", t);
                }, this.cell = function(e, n) {
                    for (;n >= this.rows.length; ) {
                        var r = t.createElement("Row");
                        i.appendChild(r), this.rows.push(new a(r));
                    }
                    return this.rows[n].cell(e);
                }, this.enableGridlines = function(e) {
                    var i = DayPilot.list(n.childNodes).find(function(e) {
                        return "x:DoNotDisplayGridlines" === e.tagName;
                    });
                    if (!i && !e) {
                        var a = t.createElement("x:DoNotDisplayGridlines");
                        n.appendChild(a);
                    }
                    i && e && n.removeChild(i);
                };
                var a = function(e) {
                    this.cells = [], this.getElement = function() {
                        return e;
                    }, this.cell = function(n) {
                        for (;n >= this.cells.length; ) {
                            var a = t.createElement("Cell");
                            e.appendChild(a), this.cells.push(new i(a));
                        }
                        return this.cells[n];
                    };
                    var i = function(e) {
                        this.setText = function(i) {
                            var n = t.createElement("Data");
                            n.setAttribute("ss:Type", "String");
                            var a = t.createTextNode(i);
                            for (n.appendChild(a); e.firstChild; ) e.removeChild(e.firstChild);
                            return e.appendChild(n), this;
                        }, this.setColspan = function(t) {
                            return t > 1 ? e.setAttribute("ss:MergeAcross", t - 1) : e.removeAttribute("ss:MergeAcross"), 
                            this;
                        }, this.setRowspan = function(t) {
                            return t > 1 ? e.setAttribute("ss:MergeDown", t - 1) : e.removeAttribute("ss:MergeDown"), 
                            this;
                        }, this.setStyle = function(t) {
                            if (!(t instanceof o)) throw "Invalid argument, Style expected";
                            return e.setAttribute("ss:StyleID", t.getId()), this;
                        };
                    };
                };
            }, o = function(e) {
                var i = DayPilot.guid();
                e.setAttribute("ss:ID", i);
                var n = t.createElement("ss:Alignment");
                e.appendChild(n);
                var a = t.createElement("ss:Interior");
                e.appendChild(a);
                var r = t.createElement("ss:Borders");
                e.appendChild(r), this.setHorizontalAlignment = function(e) {
                    n.setAttribute("ss:Horizontal", e);
                }, this.setVerticalAlignment = function(e) {
                    n.setAttribute("ss:Vertical", e);
                }, this.setBackColor = function(e) {
                    var t = DayPilot.Util.normalizeColor(e);
                    a.setAttribute("ss:Color", t), a.setAttribute("ss:Pattern", "Solid");
                }, this.setBorderColor = function(e) {
                    function i(e, i) {
                        var n = t.createElement("ss:Border");
                        return n.setAttribute("ss:Position", e), n.setAttribute("ss:LineStyle", "Continuous"), 
                        n.setAttribute("ss:Color", DayPilot.Util.normalizeColor(i)), n;
                    }
                    this.clearBorders();
                    var n = i("Left", e);
                    r.appendChild(n);
                    var a = i("Right", e);
                    r.appendChild(a);
                    var o = i("Top", e);
                    r.appendChild(o);
                    var s = i("Bottom", e);
                    r.appendChild(s);
                }, this.clearBorders = function() {
                    for (;r.firstChild; ) r.removeChild(r.firstChild);
                }, this.getId = function() {
                    return i;
                }, this.setId = function(t) {
                    i = t, e.setAttribute("ss:ID", i);
                }, this.setName = function(t) {
                    e.setAttribute("ss:Name", t);
                };
            };
            this.init();
        }, DayPilot.Export = function(e) {
            this.toElement = function() {
                return e.getElement();
            }, this.dimensions = function() {
                return {
                    width: e.getWidth(),
                    height: e.getHeight()
                };
            }, this.toHtml = function() {
                return e.getSource();
            }, this.toDataUri = function() {
                return e.getDataUri();
            }, this.toBlob = function() {
                return e.getBlob();
            }, this.print = function(t) {
                t = t || {}, t.orientation = t.orientation || "portrait";
                var i = document.createElement("iframe");
                i.setAttribute("width", 0), i.setAttribute("height", 0), i.setAttribute("frameborder", 0), 
                i.setAttribute("src", "about:blank"), i.onload = function() {
                    var n = i.contentWindow.document;
                    if (n.body.appendChild(e.getElement()), "landscape" === t.orientation) {
                        var a = DayPilot.sheet(n);
                        a.add("@page", "size: landscape;"), a.commit();
                    }
                    i.contentWindow.document.execCommand("print", !1, null) || (i.contentWindow.focus(), 
                    i.contentWindow.print()), setTimeout(function() {
                        document.body.removeChild(i);
                    }, 10);
                }, document.body.appendChild(i);
            }, this.download = function(t) {
                var t = t || e.getDefaultFileName(), i = e.getBlob();
                DayPilot.Util.downloadBlob(i, t);
            };
        }, DayPilot.Exception = function(e) {
            return new Error(e);
        }, DayPilot.Locale = function(e, t) {
            if (this.id = e, this.dayNames = [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ], 
            this.dayNamesShort = [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ], this.monthNames = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ], 
            this.monthNamesShort = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ], 
            this.datePattern = "M/d/yyyy", this.timePattern = "H:mm", this.dateTimePattern = "M/d/yyyy H:mm", 
            this.timeFormat = "Clock12Hours", this.weekStarts = 0, t) for (var i in t) this[i] = t[i];
        }, DayPilot.Locale.all = {}, DayPilot.Locale.find = function(e) {
            if (!e) return null;
            var t = e.toLowerCase();
            return t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")), DayPilot.Locale.all[t];
        }, DayPilot.Locale.register = function(e) {
            DayPilot.Locale.all[e.id] = e;
        }, DayPilot.Locale.register(new DayPilot.Locale("ca-es", {
            dayNames: [ "diumenge", "dilluns", "dimarts", "dimecres", "dijous", "divendres", "dissabte" ],
            dayNamesShort: [ "dg", "dl", "dt", "dc", "dj", "dv", "ds" ],
            monthNames: [ "gener", "febrer", "mar", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre", "" ],
            monthNamesShort: [ "gen.", "febr.", "mar", "abr.", "maig", "juny", "jul.", "ag.", "set.", "oct.", "nov.", "des.", "" ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("cs-cz", {
            dayNames: [ "nedle", "pondl", "ter", "steda", "tvrtek", "ptek", "sobota" ],
            dayNamesShort: [ "ne", "po", "t", "st", "t", "p", "so" ],
            monthNames: [ "leden", "nor", "bezen", "duben", "kvten", "erven", "ervenec", "srpen", "z", "jen", "listopad", "prosinec", "" ],
            monthNamesShort: [ "I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", "" ],
            timePattern: "H:mm",
            datePattern: "d. M. yyyy",
            dateTimePattern: "d. M. yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("da-dk", {
            dayNames: [ "sondag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lordag" ],
            dayNamesShort: [ "so", "ma", "ti", "on", "to", "fr", "lo" ],
            monthNames: [ "januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december", "" ],
            monthNamesShort: [ "jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", "" ],
            timePattern: "HH:mm",
            datePattern: "dd-MM-yyyy",
            dateTimePattern: "dd-MM-yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("de-at", {
            dayNames: [ "Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag" ],
            dayNamesShort: [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa" ],
            monthNames: [ "Jnner", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", "" ],
            monthNamesShort: [ "Jn", "Feb", "Mr", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("de-ch", {
            dayNames: [ "Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag" ],
            dayNamesShort: [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa" ],
            monthNames: [ "Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("de-de", {
            dayNames: [ "Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag" ],
            dayNamesShort: [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa" ],
            monthNames: [ "Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("de-lu", {
            dayNames: [ "Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag" ],
            dayNamesShort: [ "So", "Mo", "Di", "Mi", "Do", "Fr", "Sa" ],
            monthNames: [ "Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("en-au", {
            dayNames: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
            dayNamesShort: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
            monthNames: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "" ],
            timePattern: "h:mm tt",
            datePattern: "d/MM/yyyy",
            dateTimePattern: "d/MM/yyyy h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("en-ca", {
            dayNames: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
            dayNamesShort: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
            monthNames: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "" ],
            timePattern: "h:mm tt",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("en-gb", {
            dayNames: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
            dayNamesShort: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
            monthNames: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("en-us", {
            dayNames: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
            dayNamesShort: [ "Su", "Mo", "Tu", "We", "Th", "Fr", "Sa" ],
            monthNames: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", "" ],
            monthNamesShort: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "" ],
            timePattern: "h:mm tt",
            datePattern: "M/d/yyyy",
            dateTimePattern: "M/d/yyyy h:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("es-es", {
            dayNames: [ "domingo", "lunes", "martes", "mircoles", "jueves", "viernes", "sbado" ],
            dayNamesShort: [ "D", "L", "M", "X", "J", "V", "S" ],
            monthNames: [ "enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", "" ],
            monthNamesShort: [ "ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", "" ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("es-mx", {
            dayNames: [ "domingo", "lunes", "martes", "mircoles", "jueves", "viernes", "sbado" ],
            dayNamesShort: [ "do.", "lu.", "ma.", "mi.", "ju.", "vi.", "s." ],
            monthNames: [ "enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", "" ],
            monthNamesShort: [ "ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", "" ],
            timePattern: "hh:mm tt",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy hh:mm tt",
            timeFormat: "Clock12Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("eu-es", {
            dayNames: [ "igandea", "astelehena", "asteartea", "asteazkena", "osteguna", "ostirala", "larunbata" ],
            dayNamesShort: [ "ig", "al", "as", "az", "og", "or", "lr" ],
            monthNames: [ "urtarrila", "otsaila", "martxoa", "apirila", "maiatza", "ekaina", "uztaila", "abuztua", "iraila", "urria", "azaroa", "abendua", "" ],
            monthNamesShort: [ "urt.", "ots.", "mar.", "api.", "mai.", "eka.", "uzt.", "abu.", "ira.", "urr.", "aza.", "abe.", "" ],
            timePattern: "H:mm",
            datePattern: "yyyy/MM/dd",
            dateTimePattern: "yyyy/MM/dd H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("fi-fi", {
            dayNames: [ "sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai" ],
            dayNamesShort: [ "su", "ma", "ti", "ke", "to", "pe", "la" ],
            monthNames: [ "tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "keskuu", "heinkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu", "" ],
            monthNamesShort: [ "tammi", "helmi", "maalis", "huhti", "touko", "kes", "hein", "elo", "syys", "loka", "marras", "joulu", "" ],
            timePattern: "H:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("fr-be", {
            dayNames: [ "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi" ],
            dayNamesShort: [ "di", "lu", "ma", "me", "je", "ve", "sa" ],
            monthNames: [ "janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aout", "septembre", "octobre", "novembre", "dcembre", "" ],
            monthNamesShort: [ "janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aout", "sept.", "oct.", "nov.", "dc.", "" ],
            timePattern: "HH:mm",
            datePattern: "dd-MM-yy",
            dateTimePattern: "dd-MM-yy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("fr-ca", {
            dayNames: [ "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi" ],
            dayNamesShort: [ "di", "lu", "ma", "me", "je", "ve", "sa" ],
            monthNames: [ "janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aout", "septembre", "octobre", "novembre", "dcembre", "" ],
            monthNamesShort: [ "janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aout", "sept.", "oct.", "nov.", "dc.", "" ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("fr-ch", {
            dayNames: [ "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi" ],
            dayNamesShort: [ "di", "lu", "ma", "me", "je", "ve", "sa" ],
            monthNames: [ "janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aout", "septembre", "octobre", "novembre", "dcembre", "" ],
            monthNamesShort: [ "janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aout", "sept.", "oct.", "nov.", "dc.", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("fr-fr", {
            dayNames: [ "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi" ],
            dayNamesShort: [ "di", "lu", "ma", "me", "je", "ve", "sa" ],
            monthNames: [ "janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aout", "septembre", "octobre", "novembre", "dcembre", "" ],
            monthNamesShort: [ "janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aout", "sept.", "oct.", "nov.", "dc.", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("fr-lu", {
            dayNames: [ "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi" ],
            dayNamesShort: [ "di", "lu", "ma", "me", "je", "ve", "sa" ],
            monthNames: [ "janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aout", "septembre", "octobre", "novembre", "dcembre", "" ],
            monthNamesShort: [ "janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aout", "sept.", "oct.", "nov.", "dc.", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("gl-es", {
            dayNames: [ "domingo", "luns", "martes", "mrcores", "xoves", "venres", "sbado" ],
            dayNamesShort: [ "do", "lu", "ma", "m", "xo", "ve", "s" ],
            monthNames: [ "xaneiro", "febreiro", "marzo", "abril", "maio", "xuno", "xullo", "agosto", "setembro", "outubro", "novembro", "decembro", "" ],
            monthNamesShort: [ "xan", "feb", "mar", "abr", "maio", "xuno", "xul", "ago", "set", "out", "nov", "dec", "" ],
            timePattern: "H:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("it-it", {
            dayNames: [ "domenica", "lunedi", "martedi", "mercoledi", "giovedi", "venerdi", "sabato" ],
            dayNamesShort: [ "do", "lu", "ma", "me", "gi", "ve", "sa" ],
            monthNames: [ "gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", "" ],
            monthNamesShort: [ "gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("it-ch", {
            dayNames: [ "domenica", "lunedi", "martedi", "mercoledi", "giovedi", "venerdi", "sabato" ],
            dayNamesShort: [ "do", "lu", "ma", "me", "gi", "ve", "sa" ],
            monthNames: [ "gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", "" ],
            monthNamesShort: [ "gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("ja-jp", {
            dayNames: [ "???", "???", "???", "???", "???", "???", "???" ],
            dayNamesShort: [ "?", "?", "?", "?", "?", "?", "?" ],
            monthNames: [ "1?", "2?", "3?", "4?", "5?", "6?", "7?", "8?", "9?", "10?", "11?", "12?", "" ],
            monthNamesShort: [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "" ],
            timePattern: "H:mm",
            datePattern: "yyyy/MM/dd",
            dateTimePattern: "yyyy/MM/dd H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("ko-kr", {
            dayNames: [ "???", "???", "???", "???", "???", "???", "???" ],
            dayNamesShort: [ "?", "?", "?", "?", "?", "?", "?" ],
            monthNames: [ "1?", "2?", "3?", "4?", "5?", "6?", "7?", "8?", "9?", "10?", "11?", "12?", "" ],
            monthNamesShort: [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "" ],
            timePattern: "tt h:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd tt h:mm",
            timeFormat: "Clock12Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("nb-no", {
            dayNames: [ "sondag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lordag" ],
            dayNamesShort: [ "so", "ma", "ti", "on", "to", "fr", "lo" ],
            monthNames: [ "januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", "" ],
            monthNamesShort: [ "jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("nl-nl", {
            dayNames: [ "zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag" ],
            dayNamesShort: [ "zo", "ma", "di", "wo", "do", "vr", "za" ],
            monthNames: [ "januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", "" ],
            monthNamesShort: [ "jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", "" ],
            timePattern: "HH:mm",
            datePattern: "d-M-yyyy",
            dateTimePattern: "d-M-yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("nl-be", {
            dayNames: [ "zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag" ],
            dayNamesShort: [ "zo", "ma", "di", "wo", "do", "vr", "za" ],
            monthNames: [ "januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", "" ],
            monthNamesShort: [ "jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", "" ],
            timePattern: "H:mm",
            datePattern: "d/MM/yyyy",
            dateTimePattern: "d/MM/yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("nn-no", {
            dayNames: [ "sondag", "mandag", "tysdag", "onsdag", "torsdag", "fredag", "laurdag" ],
            dayNamesShort: [ "so", "ma", "ty", "on", "to", "fr", "la" ],
            monthNames: [ "januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", "" ],
            monthNamesShort: [ "jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", "" ],
            timePattern: "HH:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("pt-br", {
            dayNames: [ "domingo", "segunda-feira", "tera-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sbado" ],
            dayNamesShort: [ "D", "S", "T", "Q", "Q", "S", "S" ],
            monthNames: [ "janeiro", "fevereiro", "maro", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", "" ],
            monthNamesShort: [ "jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("pl-pl", {
            dayNames: [ "niedziela", "poniedziaek", "wtorek", "roda", "czwartek", "pitek", "sobota" ],
            dayNamesShort: [ "N", "Pn", "Wt", "r", "Cz", "Pt", "So" ],
            monthNames: [ "stycze", "luty", "marzec", "kwiecie", "maj", "czerwiec", "lipiec", "sierpie", "wrzesie", "padziernik", "listopad", "grudzie", "" ],
            monthNamesShort: [ "sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "pa", "lis", "gru", "" ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("pt-pt", {
            dayNames: [ "domingo", "segunda-feira", "tera-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sbado" ],
            dayNamesShort: [ "D", "S", "T", "Q", "Q", "S", "S" ],
            monthNames: [ "janeiro", "fevereiro", "maro", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", "" ],
            monthNamesShort: [ "jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", "" ],
            timePattern: "HH:mm",
            datePattern: "dd/MM/yyyy",
            dateTimePattern: "dd/MM/yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 0
        })), DayPilot.Locale.register(new DayPilot.Locale("ro-ro", {
            dayNames: [ "duminic", "luni", "mar?i", "miercuri", "joi", "vineri", "smbt" ],
            dayNamesShort: [ "D", "L", "Ma", "Mi", "J", "V", "S" ],
            monthNames: [ "ianuarie", "februarie", "martie", "aprilie", "mai", "iunie", "iulie", "august", "septembrie", "octombrie", "noiembrie", "decembrie", "" ],
            monthNamesShort: [ "ian.", "feb.", "mar.", "apr.", "mai.", "iun.", "iul.", "aug.", "sep.", "oct.", "nov.", "dec.", "" ],
            timePattern: "H:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("ru-ru", {
            dayNames: [ "???????????", "???????????", "???????", "?????", "???????", "???????", "???????" ],
            dayNamesShort: [ "??", "??", "??", "??", "??", "??", "??" ],
            monthNames: [ "??????", "???????", "????", "??????", "???", "????", "????", "??????", "????????", "???????", "??????", "???????", "" ],
            monthNamesShort: [ "???", "???", "???", "???", "???", "???", "???", "???", "???", "???", "???", "???", "" ],
            timePattern: "H:mm",
            datePattern: "dd.MM.yyyy",
            dateTimePattern: "dd.MM.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("sk-sk", {
            dayNames: [ "nedea", "pondelok", "utorok", "streda", "tvrtok", "piatok", "sobota" ],
            dayNamesShort: [ "ne", "po", "ut", "st", "t", "pi", "so" ],
            monthNames: [ "janur", "februr", "marec", "aprl", "mj", "jn", "jl", "august", "september", "oktber", "november", "december", "" ],
            monthNamesShort: [ "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "" ],
            timePattern: "H:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("sv-se", {
            dayNames: [ "sndag", "mandag", "tisdag", "onsdag", "torsdag", "fredag", "lrdag" ],
            dayNamesShort: [ "s", "ma", "ti", "on", "to", "fr", "l" ],
            monthNames: [ "januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december", "" ],
            monthNamesShort: [ "jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", "" ],
            timePattern: "HH:mm",
            datePattern: "yyyy-MM-dd",
            dateTimePattern: "yyyy-MM-dd HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("tr-tr", {
            dayNames: [ "Pazar", "Pazartesi", "Sali", "aramba", "Perembe", "Cuma", "Cumartesi" ],
            dayNamesShort: [ "Pz", "Pt", "Sa", "a", "Pe", "Cu", "Ct" ],
            monthNames: [ "Ocak", "ubat", "Mart", "Nisan", "Mayis", "Haziran", "Temmuz", "Agustos", "Eyll", "Ekim", "Kasim", "Aralik", "" ],
            monthNamesShort: [ "Oca", "ub", "Mar", "Nis", "May", "Haz", "Tem", "Agu", "Eyl", "Eki", "Kas", "Ara", "" ],
            timePattern: "HH:mm",
            datePattern: "d.M.yyyy",
            dateTimePattern: "d.M.yyyy HH:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.register(new DayPilot.Locale("zh-cn", {
            dayNames: [ "???", "???", "???", "???", "???", "???", "???" ],
            dayNamesShort: [ "?", "?", "?", "?", "?", "?", "?" ],
            monthNames: [ "??", "??", "??", "??", "??", "??", "??", "??", "??", "??", "???", "???", "" ],
            monthNamesShort: [ "1?", "2?", "3?", "4?", "5?", "6?", "7?", "8?", "9?", "10?", "11?", "12?", "" ],
            timePattern: "H:mm",
            datePattern: "yyyy/M/d",
            dateTimePattern: "yyyy/M/d H:mm",
            timeFormat: "Clock24Hours",
            weekStarts: 1
        })), DayPilot.Locale.US = DayPilot.Locale.find("en-us"), DayPilot.Switcher = function(e) {
            function t(e, t, n) {
                var a = {};
                a.start = e, a.end = t, a.day = n, a.target = i.active.control, a.preventDefault = function() {
                    this.preventDefault.value = !0;
                };
                var r = i.n;
                r && r.start === a.start && r.end === a.end && r.day === a.day && r.target === a.target || (i.n = a, 
                "function" == typeof i.onChange && (i.onChange(a), a.preventDefault.value) || "function" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(a), 
                a.preventDefault.value) || (i.active.sendNavigate(i.day), "function" == typeof i.onChanged && i.onChanged(a), 
                "function" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(a)));
            }
            var i = this;
            this.views = [], this.triggers = [], this.navigator = {}, this.selectedClass = null, 
            this.active = null, this.day = DayPilot.Date.today(), this.onChange = null, this.onChanged = null, 
            this.navigator.updateMode = function(e) {
                var t = i.navigator.control;
                t && (t.selectMode = e, t.select(i.day));
            }, this.addView = function(e, t) {
                var n;
                if ("string" == typeof e) {
                    if (n = document.getElementById(e), !n) throw "Element not found: " + e;
                } else n = e;
                var a = n, r = {};
                return r.isView = !0, r.id = a.id, r.control = a, r.options = t || {}, r.hide = function() {
                    a.hide ? a.hide() : a.nav && a.nav.top ? a.nav.top.style.display = "none" : a.style.display = "none";
                }, r.sendNavigate = function(e) {
                    (function() {
                        return !!a.backendUrl || !("function" != typeof WebForm_DoCallback || !a.uniqueID);
                    })() ? a.commandCallBack && a.commandCallBack("navigate", {
                        day: e
                    }) : (a.startDate = e, a.update());
                }, r.show = function() {
                    i.j(), a.show ? a.show() : a.nav && a.nav.top ? a.nav.top.style.display = "" : a.style.display = "";
                }, r.selectMode = function() {
                    if (r.options.navigatorSelectMode) return r.options.navigatorSelectMode;
                    if (a.isCalendar) switch (a.viewType) {
                      case "Day":
                        return "day";

                      case "Week":
                        return "week";

                      case "WorkWeek":
                        return "week";

                      default:
                        return "day";
                    } else if (a.isMonth) switch (a.viewType) {
                      case "Month":
                        return "month";

                      case "Weeks":
                        return "week";

                      default:
                        return "day";
                    }
                    return "day";
                }, this.views.push(r), r;
            }, this.addTrigger = function(e, t) {
                var n;
                if ("string" == typeof e) {
                    if (n = document.getElementById(e), !n) throw "Element not found: " + e;
                } else n = e;
                var a = this.k(t);
                a || (a = this.addView(t));
                var r = {};
                return r.isTrigger = !0, r.element = n, r.id = n.id, r.view = a, r.onClick = function(e) {
                    i.show(r), i.l(r), e = e || window.event, e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1);
                }, DayPilot.re(n, "click", r.onClick), this.triggers.push(r), r;
            }, this.addButton = this.addTrigger, this.select = function(e) {
                var t = this.m(e);
                t ? t.onClick() : this.triggers.length > 0 && this.triggers[0].onClick();
            }, this.m = function(e) {
                for (var t = 0; t < this.triggers.length; t++) {
                    var i = this.triggers[t];
                    if (i.id === e) return i;
                }
                return null;
            }, this.l = function(e) {
                if (this.selectedClass) {
                    for (var t = 0; t < this.triggers.length; t++) {
                        var i = this.triggers[t];
                        DayPilot.Util.removeClass(i.element, this.selectedClass);
                    }
                    DayPilot.Util.addClass(e.element, this.selectedClass);
                }
            }, this.addNavigator = function(e) {
                i.navigator.control = e, e.timeRangeSelectedHandling = "JavaScript", e.onTimeRangeSelected = function() {
                    var n, a, r;
                    if (1 === e.api) n = arguments[0], a = arguments[1], r = arguments[2]; else {
                        var o = arguments[0];
                        n = o.start, a = o.end, r = o.day;
                    }
                    i.day = r, t(n, a, r);
                };
            }, this.show = function(e) {
                var t, n;
                if (e.isTrigger) n = e, t = n.view; else if (t = e.isView ? e : this.k(e), this.active === t) return;
                if (i.onSelect) {
                    var a = {};
                    a.source = n ? n.element : null, a.target = t.control, i.onSelect(a);
                }
                this.active = t, t.show();
                var r = t.selectMode();
                i.navigator.updateMode(r);
            }, this.k = function(e) {
                for (var t = 0; t < this.views.length; t++) if (this.views[t].control === e) return this.views[t];
                return null;
            }, this.j = function() {
                for (var e = 0; e < this.views.length; e++) this.views[e].hide();
            }, this.events = {}, this.events.load = function(e, t, n) {
                if (!i.active || !i.active.control) throw "DayPilot.Switcher.events.load(): Active view not found";
                i.active.control.events.load(e, t, n);
            }, this.n = null, this.p = function() {
                if (e) for (var t in e) "triggers" === t ? DayPilot.list(e.triggers).each(function(e) {
                    i.addTrigger(e.id, e.view);
                }) : "navigator" === t ? i.addNavigator(e.navigator) : i[t] = e[t];
            }, this.p();
        }, function() {
            if (!DayPilot.Global.defaultCss) {
                var e = DayPilot.sheet();
                e.add(".bubble_default_main", "cursor: default;"), e.add(".bubble_default_main_inner", 'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'), 
                e.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"), 
                e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;"), 
                e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;"), 
                e.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;	border-bottom: 1px solid #c0c0c0;"), 
                e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner", "border-right: 1px solid #c0c0c0;"), 
                e.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"), 
                e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner", "border-right: none;"), 
                e.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), 
                e.add(".calendar_default_direction_rtl .calendar_default_corner_inner", "border-right: none;"), 
                e.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"), 
                e.add(".calendar_default_colheader_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"), 
                e.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"), 
                e.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff"), 
                e.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), 
                e.add(".calendar_default_message", "opacity: 0.9;filter: alpha(opacity=90);	padding: 10px; color: #ffffff;background: #ffa216;"), 
                e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", "color: #666; border: 1px solid #999;"), 
                e.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"), 
                e.add(".calendar_default_event_bar_inner", "position: absolute;width: 4px;background-color: #1066a8;"), 
                e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;"), 
                e.add(".calendar_default_alldayevent_inner", "position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;overflow:hidden;padding: 2px;margin-right: 1px;font-size: 12px;"), 
                e.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;"), 
                e.add(".calendar_default_event", "cursor: default;"), e.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"), 
                e.add(".calendar_default_shadow_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;filter: alpha(opacity=50);"), 
                e.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"), 
                e.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"), 
                e.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"), 
                e.add(".calendar_default_now", "background-color: red;"), e.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"), 
                e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner", "background-color: red;"), 
                e.add(".calendar_default_shadow_top", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".calendar_default_shadow_bottom", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"), 
                e.add(".calendar_default_loading", "background-color: orange; color: white; padding: 2px;"), 
                e.add(".calendar_default_scroll", "background-color: #f3f3f3;"), e.add(".menu_default_main", "font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"), 
                e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;"), 
                e.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"), 
                e.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"), 
                e.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;"), e.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"), 
                e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"), e.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"), 
                e.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc"), e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", 'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'), 
                e.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"), 
                e.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"), 
                e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"), e.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"), 
                e.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;"), 
                e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"), e.add(".menubar_default_item_active", "background-color: #f2f2f2;"), 
                e.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"), 
                e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;"), 
                e.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"), 
                e.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;"), 
                e.add(".month_default_cell_header", "text-align: right; padding: 4px; box-sizing: border-box;"), 
                e.add(".month_default_header_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"), 
                e.add(".month_default_message", 'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'), 
                e.add(".month_default_event_inner", 'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'), 
                e.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"), 
                e.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"), 
                e.add(".month_default_selected .month_default_event_inner", "background: #ddd;"), 
                e.add(".month_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"), 
                e.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"), 
                e.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".month_default_event_timeleft", "color: #ccc; font-size: 8pt"), 
                e.add(".month_default_event_timeright", "color: #ccc; font-size: 8pt; text-align: right;"), 
                e.add(".month_default_loading", "background-color: orange; color: white; padding: 2px;"), 
                e.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), 
                e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;"), 
                e.add(".navigator_default_month", "font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"), 
                e.add(".navigator_default_day", "color: black;"), e.add(".navigator_default_weekend", "background-color: #f0f0f0;"), 
                e.add(".navigator_default_dayheader", "color: black;"), e.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;"), 
                e.add(".navigator_default_dayother", "color: gray;"), e.add(".navigator_default_todaybox", "border: 1px solid red;"), 
                e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), 
                e.add(".navigator_default_busy", "font-weight: bold;"), e.add(".navigator_default_cell", "text-align: center;"), 
                e.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;"), 
                e.add(".navigator_default_title", "text-align: center;"), e.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;"), 
                e.add(".navigator_default_dayheader", "text-align: center;"), e.add(".navigator_default_weeknumber", "text-align: center;"), 
                e.add(".navigator_default_cell_text", "cursor: pointer;"), e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;"), 
                e.add(".scheduler_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"), 
                e.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;"), 
                e.add(".scheduler_default_timeheader", "cursor: default;color: #333;"), e.add(".scheduler_default_message", "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"), 
                e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;"), 
                e.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;"), 
                e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), 
                e.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;display: flex; align-items: center;"), 
                e.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), 
                e.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), 
                e.add(".scheduler_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), 
                e.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;"), 
                e.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;"), 
                e.add(".scheduler_default_matrix_vertical_break", "background-color: #999;"), e.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;"), 
                e.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".scheduler_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"), 
                e.add(".scheduler_default_event", "font-size:12px;color:#333;"), e.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), 
                e.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"), 
                e.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"), 
                e.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".scheduler_default_event_float", "display: flex; align-items: center;"), 
                e.add(".scheduler_default_event_float_inner", "padding:2px 2px 2px 8px; position: relative;"), 
                e.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:4px;left:-4px;'), 
                e.add(".scheduler_default_columnheader_inner", "font-weight: bold;"), e.add(".scheduler_default_columnheader_splitter", "box-sizing: border-box; border-right: 1px solid #c0c0c0;"), 
                e.add(".scheduler_default_columnheader_splitter:hover", "background-color: #c0c0c0;"), 
                e.add(".scheduler_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), 
                e.add(".scheduler_default_cell", "background-color: #f9f9f9;"), e.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;"), 
                e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), 
                e.add(".scheduler_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"), 
                e.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"), 
                e.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"), 
                e.add(".scheduler_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"), 
                e.add(".scheduler_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), 
                e.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), 
                e.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;"), 
                e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;"), 
                e.add(".scheduler_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"), 
                e.add(".scheduler_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"), 
                e.add(".scheduler_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), 
                e.add(".scheduler_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), 
                e.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red"), 
                e.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: red"), 
                e.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "background-color: red;"), 
                e.add(".scheduler_default_block", "background-color: #808080; opacity: 0.5;"), e.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:12px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"), 
                e.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"), 
                e.add(".scheduler_default_header_icon:hover", "background-color: #ccc;"), e.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';"), 
                e.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';"), e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), 
                e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;"), 
                e.add(".scheduler_default_rowheader textarea", "padding: 3px;"), e.add(".scheduler_default_rowheader_scroll", "cursor: default;"), 
                e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner", "background-color: red;"), 
                e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner", "background-color: red;"), 
                e.add(".scheduler_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);"), 
                e.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"), 
                e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;"), 
                e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"), 
                e.add(".scheduler_default_link_dot", "border-radius: 10px; background-color: red"), 
                e.add(".scheduler_default_task_milestone .scheduler_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), 
                e.add(".scheduler_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"), 
                e.add(".scheduler_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"), 
                e.add(".scheduler_default_main:focus", "outline: none;"), e.add(".scheduler_default_cell_focus", "outline: red 2px solid; z-index: 100; opacity: 0.5;"), 
                e.add(".scheduler_default_selectionrectangle", "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"), 
                e.add(".scheduler_default_link_shadow", "border:1px solid black;"), e.add(".scheduler_default_link_shadow_circle", "background-color:black;"), 
                e.add(".scheduler_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee"); display: flex; align-items: center;'), 
                e.add(".scheduler_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee"); display: flex; align-items: center;'), 
                e.add(".scheduler_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), 
                e.add(".scheduler_default_sorticon", "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"), 
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"), 
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"), 
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active", "opacity: 1;"), 
                e.add(".scheduler_default_loading", "background-color: orange; color: white; padding: 2px;"), 
                e.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;"), 
                e.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"), 
                e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;"), 
                e.add(".gantt_default_timeheader", "cursor: default;color: #666;"), e.add(".gantt_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"), 
                e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;"), 
                e.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;"), 
                e.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;display: flex; align-items: center;"), 
                e.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), 
                e.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), 
                e.add(".gantt_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), 
                e.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #c0c0c0;"), 
                e.add(".gantt_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".gantt_default_matrix_vertical_line", "background-color: #eee;"), 
                e.add(".gantt_default_matrix_vertical_break", "background-color: #000;"), e.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;"), 
                e.add(".gantt_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".gantt_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"), 
                e.add(".gantt_default_event", "font-size:12px;color:#666;"), e.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), 
                e.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;");
                e.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;");
                e.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;"), e.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'), 
                e.add(".gantt_default_columnheader_inner", "font-weight: bold;"), e.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"), 
                e.add(".gantt_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), 
                e.add(".gantt_default_cell", "background-color: #f9f9f9;"), e.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;"), 
                e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".gantt_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"), 
                e.add(".gantt_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"), 
                e.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"), 
                e.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"), 
                e.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), 
                e.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;"), 
                e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;"), 
                e.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"), 
                e.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"), 
                e.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), 
                e.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), 
                e.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #1155cc; filter: none; border: 0px none;"), 
                e.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent #1155cc; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), 
                e.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent #1155cc transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"), 
                e.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), 
                e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""), 
                e.add(".gantt_default_event_left", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"), 
                e.add(".gantt_default_event_right", "white-space: nowrap; padding-top: 5px; color: #666; cursor: default;  display: flex; align-items: center;"), 
                e.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: red;"), 
                e.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: red;"), 
                e.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), 
                e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: red;"), 
                e.add(".gantt_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"), 
                e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), 
                e.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), 
                e.add(".gantt_default_header_icon:hover", "background-color: #ccc;"), e.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';"), 
                e.add(".gantt_default_header_icon_show:before", "content: '\\00BB';"), e.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), 
                e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;"), 
                e.add(".gantt_default_rowheader textarea", "padding: 5px;"), e.add(".gantt_default_rowheader_scroll", "cursor: default;"), 
                e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "background-color: red;"), 
                e.add(".gantt_default_event_moving_source", "opacity: 0.5; filter: alpha(opacity=50);"), 
                e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;"), 
                e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'), 
                e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;"), 
                e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'), 
                e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;"), 
                e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'), 
                e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;"), 
                e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'), 
                e.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"), 
                e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;"), 
                e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"), 
                e.add(".gantt_default_selectionrectangle", "background-color: #0000ff; border: 1px solid #000033; opacity: 0.4;"), 
                e.add(".gantt_default_link_shadow", "border:1px solid black;"), e.add(".gantt_default_link_shadow_circle", "background-color:black;"), 
                e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), 
                e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;"), 
                e.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"), 
                e.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;"), 
                e.add(".kanban_default_timeheader", "cursor: default;color: #333;"), e.add(".kanban_default_message", "opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"), 
                e.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;"), e.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;"), 
                e.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"), 
                e.add(".kanban_default_colheadercell", "text-align: center;"), e.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"), 
                e.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;"), 
                e.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".kanban_default_matrix_vertical_line", "background-color: #eee;"), 
                e.add(".kanban_default_matrix_vertical_break", "background-color: #000;"), e.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;"), 
                e.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;"), e.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"), 
                e.add(".kanban_default_card", "font-size:12px;color:#333;"), e.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"), 
                e.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), 
                e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,	color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),	color-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), 
                e.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"), 
                e.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"), 
                e.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"), 
                e.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"), 
                e.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;"), 
                e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;"), 
                e.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), 
                e.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), 
                e.add(".kanban_default_block", "background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"), 
                e.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), 
                e.add(".kanban_default_header_icon:hover", "background-color: #ccc;"), e.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';"), 
                e.add(".kanban_default_header_icon_show:before", "content: '\\00BB';"), e.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), 
                e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;"), 
                e.add(".kanban_default_rowheader textarea", "padding: 3px;"), e.add(".kanban_default_rowheader_scroll", "cursor: default;"), 
                e.add(".kanban_default_card_moving_source", "opacity: 0.5; filter: alpha(opacity=50);"), 
                e.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;"), 
                e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), 
                e.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;"), e.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;"), 
                e.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;"), 
                e.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), 
                e.add(".kanban_default_swimlane_collapse:before", "content: '^';"), e.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), 
                e.add(".kanban_default_swimlane_expand:before", "content: '>';"), e.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), 
                e.add(".kanban_default_columnmove_position", "background-color: #333;"), e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"), 
                e.commit(), DayPilot.Global.defaultCss = !0;
            }
        }();
        var o = function(e) {
            var t = this;
            this.id = e, this.widths = [], this.titles = [], this.data = [], this.height = null, 
            this.splitterWidth = 3, this.css = {}, this.css.title = null, this.css.titleInner = null, 
            this.css.splitter = null, this.enabled = !0, this.blocks = [], this.drag = {}, this.updated = function() {}, 
            this.updating = function() {};
            var i = {};
            i.splitterWidth = function() {
                return t.enabled ? t.splitterWidth : 1;
            }, this.init = function() {
                var n;
                if (!e) throw "error: id not provided";
                if ("string" == typeof e) n = document.getElementById(e); else {
                    if (!e.appendChild) throw "error: invalid object provided";
                    n = e;
                }
                this.div = n, this.blocks = [];
                for (var a = 0; a < this.widths.length; a++) {
                    var r = document.createElement("div");
                    r.style.display = "inline-block", null !== t.height ? r.style.height = t.height + "px" : r.style.height = "100%", 
                    r.style.width = this.widths[a] - i.splitterWidth() + "px", r.style.overflow = "hidden", 
                    r.style.position = "relative", r.setAttribute("unselectable", "on"), r.className = this.css.title, 
                    n.appendChild(r);
                    var o = this.titles[a], s = null, l = [];
                    "object" == typeof o && (s = o.html, l = o.areas);
                    var d = document.createElement("div");
                    d.innerHTML = s, d.setAttribute("unselectable", "on"), d.className = this.css.titleInner, 
                    r.appendChild(d), DayPilot.Areas.attach(r, t.data[a], {
                        areas: l
                    });
                    var c = document.createElement("div");
                    c.style.display = "inline-block", null !== t.height ? c.style.height = t.height + "px" : c.style.height = "100%", 
                    c.style.width = i.splitterWidth() + "px", c.style.position = "relative", c.appendChild(document.createElement("div")), 
                    t.enabled && (c.style.cursor = "col-resize"), c.setAttribute("unselectable", "on"), 
                    c.className = this.css.splitter;
                    var h = {};
                    h.index = a, h.width = this.widths[a], c.data = h, c.onmousedown = function(e) {
                        if (t.enabled) {
                            var i = DayPilot.page(e);
                            i && (t.drag.start = i, t.drag.data = this.data, t.div.style.cursor = "col-resize", 
                            e = e || window.event, e.preventDefault ? e.preventDefault() : e.returnValue = !1);
                        }
                    }, n.appendChild(c);
                    var u = {};
                    u.section = r, u.handle = c, this.blocks.push(u);
                }
                this.registerGlobalHandlers();
            }, this.updateWidths = function() {
                for (var e = 0; e < this.blocks.length; e++) {
                    var t = this.blocks[e], i = this.widths[e];
                    t.handle.data.width = i, this.q(e);
                }
            }, this.q = function(e) {
                var t = this.blocks[e], n = this.widths[e];
                t.section.style.width = n - i.splitterWidth() + "px";
            }, this.totalWidth = function() {
                for (var e = 0, t = 0; t < this.widths.length; t++) e += this.widths[t];
                return e;
            }, this.gMouseMove = function(e) {
                if (t.drag.start) {
                    var i = t.drag.data, n = DayPilot.page(e);
                    if (n) {
                        var a = n.x - t.drag.start.x, r = i.index;
                        t.widths[r] = Math.max(5, i.width + a), t.q(r);
                        var o = {};
                        o.widths = this.widths, o.index = i.index, t.updating(o);
                    }
                }
            }, this.gMouseUp = function(e) {
                if (t.drag.start) {
                    t.drag.start = null, document.body.style.cursor = "", t.div.style.cursor = "";
                    var i = t.drag.data;
                    i.width = t.widths[i.index];
                    var n = {};
                    n.widths = this.widths, n.index = i.index, t.updated(n);
                }
            }, this.dispose = function() {
                DayPilot.list(this.blocks).each(function(e) {
                    e.handle.onmousedown = null, DayPilot.de(e.section), DayPilot.de(e.handle);
                }), this.unregisterGlobalHandlers();
            }, this.registerGlobalHandlers = function() {
                DayPilot.re(document, "mousemove", this.gMouseMove), DayPilot.re(document, "mouseup", this.gMouseUp);
            }, this.unregisterGlobalHandlers = function() {
                DayPilot.ue(document, "mousemove", this.gMouseMove), DayPilot.ue(document, "mouseup", this.gMouseUp);
            };
        };
        DayPilot.Splitter = o;
    }
}(DayPilot), function() {
    "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
}(), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Bubble) {
        var e = {};
        e.mouseMove = function(t) {
            if ("undefined" != typeof e) {
                e.mouse = e.mousePosition(t);
                var i = e.active;
                if (i && i.s.showPosition) {
                    var n = i.s.showPosition, a = e.mouse;
                    n.clientX !== a.clientX || n.clientY !== a.clientY;
                }
            }
        }, e.touchPosition = function(e) {
            if (!e || !e.touches) return null;
            var t = e.touches[0], i = {};
            return i.x = t.pageX, i.y = t.pageY, i.clientX = t.clientX, i.clientY = t.clientY, 
            i;
        }, e.mousePosition = function(e) {
            var t = DayPilot.mo3(null, e);
            return e && (t.clientY = e.clientY, t.clientX = e.clientX), t;
        }, DayPilot.Bubble = function(t) {
            this.v = "2020.2.4327";
            var i = this, n = {};
            if (this.hideAfter = 500, this.loadingText = "Loading...", this.animated = !0, this.animation = "fast", 
            this.position = "Above", this.hideOnClick = !0, this.showAfter = 500, this.showLoadingLabel = !0, 
            this.zIndex = 10, this.theme = "bubble_default", this.onLoad = null, this.onBeforeDomAdd = null, 
            this.onBeforeDomRemove = null, this.s = function() {}, this.callBack = function(e) {
                this.aspnet() ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0) : e.calendar.internal.bubbleCallBack ? e.calendar.internal.bubbleCallBack(e, this) : e.calendar.bubbleCallBack(e, this);
            }, this.callbackError = function(e, t) {
                alert(e);
            }, this.updateView = function(t, a) {
                if (i !== a) throw "Callback object mismatch (internal error)";
                if (!t) return void i.t();
                var r = null, o = null, s = null;
                if ("string" == typeof t ? o = t : "object" == typeof t && (r = t, o = t.html, s = t.element), 
                e.active = i, i) {
                    var l = !1;
                    if (n.div) {
                        if (s) {
                            n.div.firstChild.innerHTML = "";
                            if (DayPilot.Util.isReactComponent(s)) {
                                var d = i.u.calendar && i.u.calendar.internal.reactRefs().reactDOM;
                                if (!d) throw new DayPilot.Exception("Can't reach ReactDOM");
                                d.render(s, n.div.firstChild);
                            } else n.div.firstChild.appendChild(s);
                            l = !0;
                        } else o && (n.div.firstChild.innerHTML = o, l = !0);
                        n.div.domArgs = r;
                    }
                    l && i.z();
                }
            }, this.init = function() {}, this.aspnet = function() {
                return "undefined" != typeof WebForm_DoCallback;
            }, this.showEvent = function(t, i) {
                var n = new e.CallBackArgs(t.calendar || t.root, "Event", t, t.bubbleHtml ? t.bubbleHtml() : null);
                i ? this.show(n) : this.showOnMouseOver(n);
            }, this.showCell = function(t) {
                e.cancelShowing();
                var i = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                this.showOnMouseOver(i);
            }, this.showLink = function(t) {
                e.cancelShowing();
                var i = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.data && t.data.bubbleHtml);
                this.showOnMouseOver(i);
            }, this.showTime = function(t) {
                var i = new e.CallBackArgs(t.calendar || t.root, "Time", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                this.showOnMouseOver(i);
            }, this.showResource = function(t, i) {
                var n = {};
                n.calendar = t.calendar, n.id = t.id, n.name = t.name, n.start = t.start, t.bubbleHtml ? n.bubbleHtml = function() {
                    return t.bubbleHtml;
                } : t.data && t.data.bubbleHtml && (n.bubbleHtml = function() {
                    return t.data.bubbleHtml;
                }), n.toJSON = function() {
                    var e = {};
                    return e.id = this.id, e;
                };
                var a = new e.CallBackArgs(n.calendar || n.root, "Resource", n, n.bubbleHtml ? n.bubbleHtml() : null);
                a.div = t.div, i ? this.show(a) : this.showOnMouseOver(a);
            }, this.showHtml = function(t, i) {
                var n = new e.CallBackArgs(null, "Html", null, t);
                n.div = i, this.show(n);
            }, this.show = function(t) {
                if (i.A(t)) {
                    var a = this.animated;
                    if (this.s.showPosition = e.mouse, e.showing = null, !e.mouse) return void setTimeout(function() {
                        i.show(t);
                    }, 100);
                    var r = this.getDiv(t);
                    if ("Above" === i.B() && r) {
                        var o = 2, s = DayPilot.abs(r, !0);
                        if (!s) return;
                        this.s.mouse = e.mouse, this.s.mouse.x = s.x, this.s.mouse.y = s.y, this.s.mouse.h = s.h + o, 
                        this.s.mouse.w = s.w;
                    } else this.s.mouse = e.mouse;
                    var l;
                    try {
                        l = JSON.stringify(t.object);
                    } catch (e) {
                        return;
                    }
                    if (!(e.active === this && this.s.sourceId === l || "undefined" != typeof DayPilot.Menu && DayPilot.Menu.active)) {
                        i.cssOnly || (i.cssOnly = !0), e.hideActive(), e.active = this, this.s.sourceId = l;
                        var d = document.createElement("div");
                        d.setAttribute("unselectable", "on"), d.style.position = "absolute", this.showLoadingLabel || (d.style.display = "none"), 
                        d.className = this.C("_main"), d.style.top = "0px", d.style.left = "0px", d.style.zIndex = this.zIndex + 1, 
                        a && (d.style.visibility = "hidden"), this.hideOnClick && (d.onclick = function() {
                            e.hideActive();
                        }), d.onmousemove = function(t) {
                            e.cancelShowing(), e.cancelHiding();
                            var t = t || window.event;
                            t.cancelBubble = !0;
                        }, d.oncontextmenu = function() {
                            return !1;
                        }, d.onmouseout = function() {
                            i.delayedHide();
                        };
                        var c = document.createElement("div");
                        d.appendChild(c), c.className = this.C("_main_inner"), c.innerHTML = this.loadingText, 
                        document.body.appendChild(d), n.div = d, i.u = function() {}, i.u.calendar = t.calendar;
                        var h = {};
                        h.source = t.object, h.async = !1, h.html = t.staticHTML, h.loaded = function() {
                            this.async && i.D(h);
                        }, this.showLoadingLabel && !a && this.z(), t.staticHTML && "function" != typeof this.onLoad ? i.D(h) : "function" == typeof this.onLoad ? (this.onLoad(h), 
                        h.async || i.D(h)) : "function" == typeof i.onDomAdd || "function" == typeof i.onBeforeDomAdd ? i.D(h) : this.E(t) && this.callBack(t);
                    }
                }
            }, this.A = function(e) {
                return !!e.staticHTML || ("function" == typeof this.onLoad || ("function" == typeof i.onDomAdd || "function" == typeof i.onBeforeDomAdd || !!this.E(e)));
            }, this.D = function(e) {
                var t = {};
                t.source = e.source, t.html = e.html, t.element = null, "function" == typeof i.onDomAdd && i.onDomAdd(t), 
                "function" == typeof i.onBeforeDomAdd && i.onBeforeDomAdd(t), i.updateView(t, i);
            }, this.getDiv = function(e) {
                return e.div ? e.div : "Event" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0;
            }, this.C = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : "";
            }, this.B = function() {
                var e = i.position;
                if (!e) return "Above";
                if ("eventtop" === e.toLowerCase()) return "Above";
                if ("above" === e.toLowerCase()) return "Above";
                if ("mouse" === e.toLowerCase()) return "Mouse";
                throw new DayPilot.Error("Unrecognized DayPilot.Bubble.position value: " + e);
            }, this.z = function() {
                var t = this.animated, a = i.B(), r = 10;
                if (n.div && this.s.mouse) {
                    if (!this.s.mouse.x || !this.s.mouse.y) return void e.hideActive();
                    var o = n.div;
                    o.style.display = "";
                    var s = o.offsetHeight, l = o.offsetWidth;
                    o.style.display = "none";
                    var d = DayPilot.wd(), c = d.width, h = d.height, u = "bottom", f = "left";
                    if ("Mouse" === a) {
                        var v = 0;
                        if (this.s.mouse.clientY > h - s + r) {
                            this.s.mouse.clientY - (h - s) + r;
                            v = this.s.mouse.y - s - 10;
                        } else v = this.s.mouse.y + 22;
                        if ("number" == typeof v && (o.style.top = Math.max(v, 0) + "px"), this.s.mouse.clientX > c - l + r) {
                            var p = this.s.mouse.clientX - (c - l) + r;
                            o.style.left = this.s.mouse.x - p + "px";
                        } else o.style.left = this.s.mouse.x + "px";
                    } else if ("Above" === a) {
                        var m = 2, v = this.s.mouse.y - s - m, g = d.scrollTop;
                        v < g && (v = this.s.mouse.y + this.s.mouse.h + m, u = "top"), "number" == typeof v && (o.style.top = Math.max(v, 0) + "px");
                        var y = this.s.mouse.x;
                        this.s.mouse.x + l + r > c && (y = c - l - r, f = "right"), o.style.left = y + "px";
                    }
                    if (o.style.display = "", t) {
                        o.style.display = "";
                        var b = {};
                        b.color = o.firstChild.style.color, b.overflow = o.style.overflow, o.firstChild.style.color = "transparent", 
                        o.style.overflow = "hidden", DayPilot.pop(o, {
                            finished: function() {
                                o.firstChild.style.color = b.color, o.style.overflow = b.overflow;
                            },
                            vertical: u,
                            horizontal: f,
                            animation: i.animation
                        });
                    }
                }
            }, this.delayedHide = function() {
                e.showing === this && e.cancelShowing();
                var t = e.active;
                if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
                    var i = t.hideAfter;
                    e.timeoutHide = window.setTimeout(e.hideActive, i);
                }
            }, this.showOnMouseOver = function(t) {
                e.active === this && e.cancelHiding();
                var n = function(e) {
                    return function() {
                        i.show(e);
                    };
                };
                clearTimeout(e.timeoutShow), e.timeoutShow = window.setTimeout(n(t), this.showAfter), 
                e.showing = this;
            }, this.hideOnMouseOut = function() {
                this.delayedHide();
            }, this.E = function(e) {
                return !!e.calendar.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID);
            }, this.t = function() {
                if (n.div) {
                    var e = n.div.domArgs;
                    if (n.div.domArgs = null, e && ("function" == typeof i.onDomRemove && i.onDomRemove(e), 
                    "function" == typeof i.onBeforeDomRemove && i.onBeforeDomRemove(e), "function" == typeof i.onDomAdd || "function" == typeof i.onBeforeDomAdd)) {
                        var t = n.div.firstChild;
                        if (t) {
                            if (DayPilot.Util.isReactComponent(e.element)) {
                                var a = i.u.calendar && i.u.calendar.internal.reactRefs().reactDOM;
                                if (!a) throw new DayPilot.Exception("Can't reach ReactDOM");
                                a.unmountComponentAtNode(t);
                            }
                        }
                    }
                    document.body.removeChild(n.div), n.div = null;
                }
            }, t) for (var a in t) this[a] = t[a];
            this.init();
        }, DayPilot.Bubble.touchPosition = function(t) {
            t.touches && (e.mouse = e.touchPosition(t));
        }, e.cancelShowing = function() {
            e.showing = null, e.timeoutShow && (window.clearTimeout(e.timeoutShow), e.timeoutShow = null);
        }, e.cancelHiding = function() {
            e.timeoutHide && window.clearTimeout(e.timeoutHide);
        }, e.hideActive = function() {
            e.cancelHiding();
            var t = e.active;
            t && t.t(), e.active = null;
        }, e.CallBackArgs = function(e, t, i, n) {
            this.calendar = e, this.type = t, this.object = i, this.staticHTML = n, this.toJSON = function() {
                var e = {};
                return e.uid = this.calendar.uniqueID, e.type = this.type, e.object = i, e;
            };
        }, DayPilot.re(document, "mousemove", e.mouseMove), DayPilot.Bubble.hideActive = e.hideActive, 
        DayPilot.Bubble.cancelShowing = e.cancelShowing, DayPilot.Bubble.hide = function() {
            e.hideActive();
        }, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar) {
        var e = 10;
        DayPilot.Calendar = function(i, n) {
            this.v = "2020.2.4327";
            var a = !1;
            if (this instanceof DayPilot.Calendar && !this.F && (a = !0, this.F = !0), !a) throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";
            var r = this;
            this.uniqueID = null, this.clientName = i, this.id = i, this.isCalendar = !0, this.allDayEnd = "DateTime", 
            this.allDayEventHeight = 25, this.allowEventOverlap = !0, this.allowMultiSelect = !0, 
            this.api = 2, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, 
            this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.backendUrl = null, 
            "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble() : this.bubble = null, 
            this.cellBubble = null, this.columnBubble = null, this.businessBeginsHour = 9, this.businessEndsHour = 18, 
            this.cellHeight = 30, this.cellDuration = 30, this.clientState = {}, this.columnMarginRight = 5, 
            this.columnWidth = 200, this.columnWidthSpec = "Auto", this.columnsLoadMethod = "GET", 
            this.contextMenu = null, this.contextMenuSelection = null, this.cornerHtml = "", 
            this.crosshairType = "Header", this.cssOnly = !0, this.dayBeginsHour = 0, this.dayEndsHour = 24, 
            this.days = 1, this.doubleClickTimeout = 300, this.durationBarVisible = !0, this.eventArrangement = "Cascade", 
            this.eventsLoadMethod = "GET", this.headerHeight = 30, this.headerLevels = 1, this.height = 300, 
            this.heightSpec = "BusinessHours", this.hideFreeCells = !1, this.hideUntilInit = !0, 
            this.headerDateFormat = null, this.hourWidth = 60, this.initEventEnabled = !1, this.initScrollPos = null, 
            this.loadingLabelText = "Loading...", this.loadingLabelVisible = !0, this.locale = "en-us", 
            this.messageHideAfter = 5e3, this.moveBy = "Full", this.notifyCommit = "Immediate", 
            this.rtl = !1, this.scrollLabelsVisible = !1, this.showToolTip = !0, this.showAllDayEvents = !1, 
            this.showEventStartEnd = !1, this.showHeader = !0, this.showHours = !0, this.showCurrentTime = !0, 
            this.showCurrentTimeMode = "Day", this.showCurrentTimeOffset = 0, this.startDate = DayPilot.Date.today(), 
            this.cssClassPrefix = "calendar_default", this.tapAndHoldTimeout = 300, this.theme = null, 
            this.timeFormat = "Auto", this.timeHeaderCellDuration = 60, this.timeRangeSelectingStartEndEnabled = !1, 
            this.timeRangeSelectingStartEndFormat = "Auto", this.eventMovingStartEndEnabled = !1, 
            this.eventMovingStartEndFormat = "Auto", this.eventResizingStartEndEnabled = !1, 
            this.eventResizingStartEndFormat = "Auto", this.useEventBoxes = "Always", this.viewType = "Days", 
            this.visible = !0, this.weekStarts = "Auto", this.width = null, this.eventClickHandling = "Enabled", 
            this.eventDoubleClickHandling = "Disabled", this.eventRightClickHandling = "ContextMenu", 
            this.eventDeleteHandling = "Disabled", this.eventEditHandling = "Update", this.eventHoverHandling = "Bubble", 
            this.eventResizeHandling = "Update", this.eventMoveHandling = "Update", this.eventSelectHandling = "Update", 
            this.eventTapAndHoldHandling = "Move", this.headerClickHandling = "Enabled", this.timeRangeTapAndHoldHandling = "Select", 
            this.timeRangeSelectedHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", 
            this.timeRangeRightClickHandling = "ContextMenu", this.onAutoRefresh = null, this.onColumnFilter = null, 
            this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onTimeRangeDoubleClick = null, 
            this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, 
            this.onTimeRangeSelecting = null, this.onEventFilter = null, this.onEventMove = null, 
            this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, 
            this.onEventResized = null, this.onEventResizing = null, this.onEventSelect = null, 
            this.onEventSelected = null, this.onEventEdit = null, this.onEventEdited = null, 
            this.onEventDelete = null, this.onEventDeleted = null, this.onHeaderClick = null, 
            this.onHeaderClicked = null, this.onEventRightClick = null, this.onEventRightClicked = null, 
            this.onEventDoubleClick = null, this.onEventDoubleClicked = null, this.onEventClick = null, 
            this.onEventClicked = null, this.onBeforeEventRender = null, this.onBeforeEventExport = null, 
            this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onAfterEventRender = null, 
            this.onBeforeCellRender = null, this.onBeforeCellExport = null, this.onBeforeCornerDomAdd = null, 
            this.onBeforeCornerDomRemove = null, this.onBeforeCornerRender = null, this.onBeforeHeaderRender = null, 
            this.onBeforeHeaderExport = null, this.onBeforeTimeHeaderRender = null, this.G = !0, 
            this.H = e, this.I = !0, this.J = !0, this.K = !0, this.L = {}, this.L.pixels = {}, 
            this.L.events = [], this.elements = {}, this.elements.events = [], this.elements.separators = [], 
            this.elements.selection = [], this.events = {}, this.nav = {}, this.M = 0, this.N = !1, 
            this.members = {}, this.members.obsolete = [ "Init", "cleanSelection", "cssClassPrefix", "cssOnly", "clientName", "uniqueID" ], 
            this.members.ignore = [ "internal", "nav", "debug", "temp", "elements", "members", "onCallbackError" ], 
            this.members.noCssOnly = [], this.O = "javasc", this.P = {}, this.P.ie = navigator && navigator.userAgent && navigator.userAgent.indexOf("MSIE") !== -1, 
            this.P.ff = navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1, 
            this.clearSelection = function() {
                return this.selectedCells ? (t.topSelectedCell = null, t.bottomSelectedCell = null, 
                DayPilot.Global.selecting = null, this.Q(), void (this.selectedCells = [])) : void (this.selectedCells = []);
            }, this.Q = function() {
                this.selectedCells && (DayPilot.de(r.elements.selection), r.elements.selection = [], 
                r.nav.activeSelection = null);
            }, this.cleanSelection = this.clearSelection, this.R = function(e, t, i) {
                var n = {};
                n.action = e, n.parameters = i, n.data = t, n.header = this.S();
                var a = "JSON" + JSON.stringify(n);
                __doPostBack(r.uniqueID, a);
            }, this.T = function(e, t, i, n) {
                if (!this.E()) return void r.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof n && (n = "CallBack"), r.U();
                var a = {};
                a.action = e, a.type = n, a.parameters = t, a.data = i, a.header = this.S();
                var o = "JSON" + JSON.stringify(a);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.V, o, this.W) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, o, this.X, this.clientName, this.onCallbackError, !0);
            }, this.E = function() {
                return "javasc" !== r.O && r.O.indexOf("DCODE") === -1 || r.devsb;
            }, this.Y = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
            }, this.W = function(e) {
                if ("function" == typeof r.onAjaxError) {
                    var t = {};
                    t.request = e, r.onAjaxError(t);
                } else "function" == typeof r.ajaxError && r.ajaxError(e);
            }, this.dispose = function() {
                var e = r;
                if (e.nav.top) {
                    e.Z(), e._(), e.nav.messageClose && (e.nav.messageClose.onclick = null), e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null), 
                    e.nav.hourTable && (e.nav.hourTable.onmousemove = null), e.nav.header && (e.nav.header.oncontextmenu = null), 
                    e.nav.corner && (e.nav.corner.oncontextmenu = null), e.nav.zoom.onmousemove = null, 
                    e.nav.zoom.oncontextmenu = null, e.nav.scroll.onscroll = null, e.nav.scroll.root = null, 
                    DayPilot.pu(e.nav.loading), e.aa(), e.ba(), e.ca(), e.nav.select = null, e.nav.cornerRight = null, 
                    e.nav.scrollable = null, e.nav.bottomLeft = null, e.nav.bottomRight = null, e.nav.allday = null, 
                    e.nav.zoom = null, e.nav.loading = null, e.nav.events = null, e.nav.header = null, 
                    e.nav.hourTable = null, e.nav.scrolltop = null, e.nav.scroll = null, e.nav.vsph = null, 
                    e.nav.main = null, e.nav.message = null, e.nav.messageClose = null, e.nav.top.removeAttribute("style"), 
                    e.nav.top.removeAttribute("class");
                    !(r.da.reactDOM && DayPilot.browser.ie) && (e.nav.top.innerHTML = ""), e.nav.top.dp = null, 
                    e.nav.top = null, DayPilot.ue(window, "resize", e.ea), t.unregister(e);
                }
            }, this.fa = function() {
                this.nav.top.dispose = this.dispose;
            }, this.V = function(e) {
                r.X(e.responseText);
            }, this.S = function() {
                var e = {};
                return e.v = this.v, e.control = "dpc", e.id = this.id, e.clientState = r.clientState, 
                e.columns = this.ga(), e.days = r.days, e.startDate = r.startDate, e.cellDuration = r.cellDuration, 
                e.cssClassPrefix = r.cssClassPrefix, e.heightSpec = r.heightSpec, e.businessBeginsHour = r.businessBeginsHour, 
                e.businessEndsHour = r.businessEndsHour, e.viewType = r.viewType, e.dayBeginsHour = r.dayBeginsHour, 
                e.dayEndsHour = r.dayEndsHour, e.headerLevels = r.headerLevels, e.eventHeaderVisible = r.eventHeaderVisible, 
                e.timeFormat = r.timeFormat, e.timeHeaderCellDuration = r.timeHeaderCellDuration, 
                e.locale = r.locale, e.scrollY = r.scrollPos, e.showAllDayEvents = r.showAllDayEvents, 
                e.tagFields = r.tagFields, e.weekStarts = r.weekStarts, e.selected = r.multiselect.events(), 
                e.hashes = r.hashes, e;
            }, this.ha = function() {
                r.ia(), DayPilot.Areas.hideAll(), r.ja = null;
            }, this.ga = function() {
                var e = [];
                if (e.ignoreToJSON = !0, !this.ka) return e;
                for (var t = 0; t < this.ka.length; t++) {
                    var i = this.ka[t], n = this.la(i);
                    e.push(n);
                }
                return e;
            }, this.la = function(e) {
                var t = {};
                return t.Value = e.id, t.Name = e.name, t.ToolTip = e.toolTip, t.Date = e.start, 
                t.Children = this.ma(e.children), t;
            }, this.ma = function(e) {
                var t = [];
                if (t.ignoreToJSON = !0, !e) return t;
                for (var i = 0; i < e.length; i++) t.push(this.la(e[i]));
                return t;
            }, this.X = function(e, t) {
                var e = JSON.parse(e);
                if (e.BubbleGuid) {
                    var i = e.BubbleGuid, n = this.bubbles[i];
                    return delete this.bubbles[i], r.na(), void ("undefined" != typeof e.Result.BubbleHTML && n.updateView(e.Result.BubbleHTML, n));
                }
                if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                if ("undefined" != typeof e.ClientState && (r.clientState = e.ClientState), "None" === e.UpdateType) return r.na(), 
                r.oa(e.CallBackData, !0), void (e.Message && r.message(e.Message));
                if (e.VsUpdate) {
                    var a = document.createElement("input");
                    a.type = "hidden", a.name = r.id + "_vsupdate", a.id = a.name, a.value = e.VsUpdate, 
                    r.nav.vsph.innerHTML = "", r.nav.vsph.appendChild(a);
                }
                if (r._(), r.multiselect.clear(!0), r.multiselect.pa = e.SelectedEvents, "undefined" != typeof e.TagFields && (r.tagFields = e.TagFields), 
                "undefined" != typeof e.SortDirections && (r.sortDirections = e.SortDirections), 
                "Full" === e.UpdateType && (r.colors = e.Colors, r.palette = e.Palette, r.dirtyColors = e.DirtyColors, 
                r.cellProperties = e.CellProperties, r.cellConfig = e.CellConfig, r.qa() === r.columns ? r.columns = e.Columns : r.columns.list = e.Columns, 
                r.days = e.Days, r.startDate = new DayPilot.Date(e.StartDate).getDatePart(), r.cellDuration = e.CellDuration, 
                r.heightSpec = e.HeightSpec ? e.HeightSpec : r.heightSpec, r.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : r.businessBeginsHour, 
                r.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : r.businessEndsHour, 
                r.viewType = e.ViewType, r.headerLevels = e.HeaderLevels, r.backColor = e.BackColor ? e.BackColor : r.backColor, 
                r.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : r.nonBusinessBackColor, 
                r.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : r.eventHeaderVisible, 
                r.timeFormat = e.TimeFormat ? e.TimeFormat : r.timeFormat, r.timeHeaderCellDuration = "undefined" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : r.timeHeaderCellDuration, 
                r.locale = e.Locale ? e.Locale : r.locale, r.dayBeginsHour = "undefined" != typeof e.DayBeginsHour ? e.DayBeginsHour : r.dayBeginsHour, 
                r.dayEndsHour = "undefined" != typeof e.DayEndsHour ? e.DayEndsHour : r.dayEndsHour, 
                r.cornerHtml = e.CornerHTML, r.hours = e.Hours, r.ra(), r.sa()), e.Hashes) for (var o in e.Hashes) r.hashes[o] = e.Hashes[o];
                if (r.ta(e.Events), r.va(), ("Full" === e.UpdateType || r.hideFreeCells) && (r.wa(), 
                r.xa(), r.ya(), r.za(), r.Aa(), r.Ba(), r.Ca(), r.Da(), r.clearSelection(), r.Ea(), 
                "undefined" != typeof e.ScrollY ? r.scrollToY(e.ScrollY) : r.scrollToY(r.initScrollPos)), 
                r.Fa(), r.Ga(), r.Ha(), r.Ia(), "Parent100Pct" === r.heightSpec && r.ea(), "HoldForever" !== r.timeRangeSelectedHandling && r.clearSelection(), 
                r.Ja(), r.todo && r.todo.del) {
                    var s = r.todo.del;
                    s.parentNode.removeChild(s), r.todo.del = null;
                }
                r.oa(e.CallBackData, !0), r.na(), r.Ka(), e.Message && r.message(e.Message);
            }, this.oa = function(e, t) {
                var i = function(e, t) {
                    return function() {
                        if (r.La()) {
                            if ("function" == typeof r.onAfterRender) {
                                var i = {};
                                i.isCallBack = t, i.data = e, r.onAfterRender(i);
                            }
                        } else r.afterRender && r.afterRender(e, t);
                    };
                };
                window.setTimeout(i(e, t), 0);
            }, this.Ma = function(e, t) {
                var i = r.nav.events, n = i.rows[0].cells.length, a = i.clientWidth / n, o = Math.floor(r.coords.x / a);
                o < 0 && (o = 0), o >= n && (o = n - 1), r.rtl && (o = r.Na.length - o - 1);
                var s = i.rows[0].cells[o], l = 0, d = 0, c = 0;
                if ("undefined" != typeof e.duration) {
                    var h = e.duration;
                    c = Math.floor((r.coords.y - l + r.cellHeight / 2) / r.cellHeight) * r.cellHeight + l, 
                    d = h * r.cellHeight / (60 * r.cellDuration), d = Math.max(d, r.cellHeight);
                } else {
                    var u = e.event;
                    d = u.part.height, c = u.part.top;
                }
                var f = document.createElement("div");
                f.setAttribute("unselectable", "on"), f.style.position = "absolute", f.style.width = "100%", 
                f.style.height = d + "px", f.style.left = "0px", f.style.top = c + "px", f.style.zIndex = r.H, 
                f.exclude = !0;
                var v = document.createElement("div");
                return f.appendChild(v), f.className = r.C("_shadow"), v.className = this.C("_shadow_inner"), 
                s.events.appendChild(f), f;
            }, this.Oa = function() {
                return this.Pa() / 36e5;
            }, this.Qa = function() {
                return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour;
            }, this.Ra = function() {
                return this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour;
            }, this.Pa = function(e) {
                var t = 0;
                if ("BusinessHoursNoScroll" === this.heightSpec) t = this.Qa(); else if (this.hideFreeCells && !e) {
                    var i = (this.Sa - 1) * this.cellDuration / this.cellHeight, n = Math.ceil(i / 60), a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                    t = Math.max(this.dayBeginsHour + n, a) - this.Ta();
                } else t = this.Ra();
                return 60 * t * 60 * 1e3;
            }, this.message = function(e, t, i, n) {
                if (e) {
                    var a, t = t || this.messageHideAfter || 2e3, o = this.Ua(), s = this.showHours ? this.hourWidth : 0, l = DayPilot.sw(r.Va());
                    if (r.rtl) {
                        var d = s;
                        s = l, l = d;
                    }
                    if (this.nav.message) a = r.nav.message, this.nav.message.style.top = o + "px"; else {
                        a = document.createElement("div"), a.style.position = "absolute", a.style.left = s + "px", 
                        a.style.top = o + "px", a.style.right = "0px", a.style.display = "none", a.onmousemove = function() {
                            a.messageTimeout && !a.status && clearTimeout(a.messageTimeout);
                        }, a.onmouseout = function() {
                            "none" !== r.nav.message.style.display && (a.messageTimeout = setTimeout(r.Wa, 500));
                        };
                        var c = document.createElement("div");
                        c.onclick = function() {
                            r.nav.message.style.display = "none";
                        }, c.className = this.C("_message"), a.appendChild(c);
                        var h = document.createElement("div");
                        h.style.position = "absolute", h.className = this.C("_message_close"), h.onclick = function() {
                            r.nav.message.style.display = "none";
                        }, a.appendChild(h), this.nav.top.insertBefore(a, this.nav.loading), this.nav.message = a, 
                        this.nav.messageClose = h;
                    }
                    this.nav.cornerRight ? this.nav.message.style.right = l + "px" : this.nav.message.style.right = "0px";
                    var u = function() {
                        if (r.nav.message) {
                            r.nav.message.firstChild.innerHTML = e;
                            var i = function() {
                                a.messageTimeout = setTimeout(r.Wa, t);
                            };
                            DayPilot.fade(r.nav.message, .2, i);
                        }
                    };
                    clearTimeout(a.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(r.nav.message, -.2, u) : u();
                }
            }, this.message.show = function(e) {
                r.message(e);
            }, this.message.hide = function() {
                r.Wa();
            }, this.Wa = function() {
                var e = function() {
                    r.nav.message.style.display = "none";
                };
                DayPilot.fade(r.nav.message, -.2, e);
            }, this.za = function() {
                this.nav.message && (this.nav.message.style.top = this.Ua() + "px");
            }, this.Xa = function() {
                return this.Pa() / (6e4 * this.cellDuration);
            }, this.eventClickPostBack = function(e, t) {
                this.R("EventClick", t, e);
            }, this.eventClickCallBack = function(e, t) {
                this.T("EventClick", e, t);
            }, this.Ya = function(e) {
                var t = this, e = e || window.event, i = e.ctrlKey, n = e.metaKey;
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === r.eventDoubleClickHandling) return void r.Za(t, i, n, e);
                if (r.timeouts) {
                    for (var a in r.timeouts) window.clearTimeout(r.timeouts[a]);
                    r.timeouts = [];
                } else r.timeouts = [];
                var o = function(e, t, i, n) {
                    return function() {
                        r.Za(e, t, i, n);
                    };
                };
                r.timeouts.push(window.setTimeout(o(this, i, n, e), r.doubleClickTimeout));
            }, this.Za = function(e, t, i, n) {
                var a = e.event;
                if (a.client.clickEnabled()) if (r.La()) {
                    var o = {};
                    if (o.e = a, o.ctrl = t, o.meta = i, o.originalEvent = n, o.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventClick && (r.onEventClick(o), o.preventDefault.value)) return;
                    switch (r.eventClickHandling) {
                      case "PostBack":
                        r.eventClickPostBack(a);
                        break;

                      case "CallBack":
                        r.eventClickCallBack(a);
                        break;

                      case "Edit":
                        r.$a(e);
                        break;

                      case "Select":
                        r._a(e, a, t, i);
                        break;

                      case "Bubble":
                        r.bubble && r.bubble.showEvent(a);
                        break;

                      case "ContextMenu":
                        var s = a.client.contextMenu();
                        s ? s.show(a) : r.contextMenu && r.contextMenu.show(a);
                    }
                    "function" == typeof r.onEventClicked && r.onEventClicked(o);
                } else switch (r.eventClickHandling) {
                  case "PostBack":
                    r.eventClickPostBack(a);
                    break;

                  case "CallBack":
                    r.eventClickCallBack(a);
                    break;

                  case "JavaScript":
                    r.onEventClick(a);
                    break;

                  case "Edit":
                    r.$a(e);
                    break;

                  case "Select":
                    r._a(e, a, t, i);
                    break;

                  case "Bubble":
                    r.bubble && r.bubble.showEvent(a);
                    break;

                  case "ContextMenu":
                    var s = a.client.contextMenu();
                    s ? s.show(a) : r.contextMenu && r.contextMenu.show(a);
                }
            }, this.eventDoubleClickPostBack = function(e, t) {
                this.R("EventDoubleClick", t, e);
            }, this.eventDoubleClickCallBack = function(e, t) {
                this.T("EventDoubleClick", e, t);
            }, this.ab = function(e) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), r.timeouts) {
                    for (var t in r.timeouts) window.clearTimeout(r.timeouts[t]);
                    r.timeouts = null;
                }
                var i = this.event, e = e || window.event;
                if (r.La()) {
                    var n = {};
                    if (n.e = i, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventDoubleClick && (r.onEventDoubleClick(n), n.preventDefault.value)) return;
                    switch (r.eventDoubleClickHandling) {
                      case "PostBack":
                        r.eventDoubleClickPostBack(i);
                        break;

                      case "CallBack":
                        r.eventDoubleClickCallBack(i);
                        break;

                      case "Edit":
                        i.allday() || r.$a(this);
                        break;

                      case "Select":
                        i.allday() || r._a(this, i, e.ctrlKey);
                        break;

                      case "Bubble":
                        r.bubble && r.bubble.showEvent(i);
                    }
                    "function" == typeof r.onEventDoubleClicked && r.onEventDoubleClicked(n);
                } else switch (r.eventDoubleClickHandling) {
                  case "PostBack":
                    r.eventDoubleClickPostBack(i);
                    break;

                  case "CallBack":
                    r.eventDoubleClickCallBack(i);
                    break;

                  case "JavaScript":
                    r.onEventDoubleClick(i);
                    break;

                  case "Edit":
                    i.allday() || r.$a(this);
                    break;

                  case "Select":
                    i.allday() || r._a(this, i, e.ctrlKey);
                    break;

                  case "Bubble":
                    r.bubble && r.bubble.showEvent(i);
                }
            }, this.eventRightClickPostBack = function(e, t) {
                this.R("EventRightClick", t, e);
            };
            this.eventRightClickCallBack = function(e, t) {
                this.T("EventRightClick", e, t);
            };
            this.bb = function(e) {
                var t = this.event;
                if (e.stopPropagation && e.stopPropagation(), !t.client.rightClickEnabled()) return !1;
                if (r.La()) {
                    var i = {};
                    if (i.e = t, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventRightClick && (r.onEventRightClick(i), i.preventDefault.value)) return !1;
                    switch (r.eventRightClickHandling) {
                      case "PostBack":
                        r.eventRightClickPostBack(t);
                        break;

                      case "CallBack":
                        r.eventRightClickCallBack(t);
                        break;

                      case "ContextMenu":
                        var n = t.client.contextMenu();
                        n ? n.show(t) : r.contextMenu && r.contextMenu.show(this.event);
                        break;

                      case "Bubble":
                        r.bubble && r.bubble.showEvent(t);
                    }
                    "function" == typeof r.onEventRightClicked && r.onEventRightClicked(i);
                } else switch (r.eventRightClickHandling) {
                  case "PostBack":
                    r.eventRightClickPostBack(t);
                    break;

                  case "CallBack":
                    r.eventRightClickCallBack(t);
                    break;

                  case "JavaScript":
                    r.onEventRightClick(t);
                    break;

                  case "ContextMenu":
                    var n = t.client.contextMenu();
                    n ? n.show(t) : r.contextMenu && r.contextMenu.show(this.event);
                    break;

                  case "Bubble":
                    r.bubble && r.bubble.showEvent(t);
                }
                return e.preventDefault && e.preventDefault(), !1;
            }, this.cb = function(e) {
                return new DayPilot.Column(e, r);
            }, this.headerClickPostBack = function(e, t) {
                this.R("HeaderClick", t, e);
            }, this.headerClickCallBack = function(e, t) {
                this.T("HeaderClick", e, t);
            }, this.db = function(e) {
                var t = this.data, i = r.cb(t);
                if (r.La()) {
                    var n = {};
                    if (n.header = {}, n.header.id = t.id, n.header.name = t.name, n.header.start = t.start, 
                    n.column = i, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onHeaderClick && (r.onHeaderClick(n), n.preventDefault.value)) return;
                    switch (r.headerClickHandling) {
                      case "PostBack":
                        r.headerClickPostBack(i);
                        break;

                      case "CallBack":
                        r.headerClickCallBack(i);
                    }
                    "function" == typeof r.onHeaderClicked && r.onHeaderClicked(n);
                } else switch (r.headerClickHandling) {
                  case "PostBack":
                    r.headerClickPostBack(i);
                    break;

                  case "CallBack":
                    r.headerClickCallBack(i);
                    break;

                  case "JavaScript":
                    r.onHeaderClick(i);
                }
            }, this.eb = function() {
                if ("undefined" != typeof DayPilot.Bubble && r.columnBubble) if ("Resources" === r.viewType) {
                    var e = {};
                    e.calendar = r, e.start = this.data.start, e.name = this.data.name, e.id = this.data.id, 
                    e.toJSON = function() {
                        var e = {};
                        return e.id = this.id, e.start = this.start, e.name = this.name, e;
                    }, r.columnBubble.showResource(e);
                } else {
                    var t = new DayPilot.Date(this.data.start), i = t.addDays(1), n = {};
                    n.calendar = r, n.start = t, n.end = i, n.toJSON = function() {
                        var e = {};
                        return e.start = this.start, e.end = this.end, e;
                    }, r.columnBubble.showTime(n);
                }
                var a = this, o = a.firstChild;
                if (!o.active) {
                    var s = a.data, l = r.cb(s);
                    l.areas = a.data.areas, DayPilot.Areas.showAreas(o, l);
                }
            }, this.fb = function(e) {
                "undefined" != typeof DayPilot.Bubble && r.columnBubble && r.columnBubble.hideOnMouseOut(), 
                DayPilot.Areas.hideAreas(this.firstChild, e);
            }, this.eventDeletePostBack = function(e, t) {
                this.R("EventDelete", t, e);
            }, this.eventDeleteCallBack = function(e, t) {
                this.T("EventDelete", e, t);
            }, this.gb = function(e) {
                var t;
                if (t = e && e.isEvent ? e : e.parentNode.parentNode.event, "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), 
                DayPilot.Bubble.cancelShowing()), r.La()) {
                    var i = {};
                    if (i.e = t, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventDelete && (r.onEventDelete(i), i.preventDefault.value)) return;
                    switch (r.eventDeleteHandling) {
                      case "PostBack":
                        r.eventDeletePostBack(t);
                        break;

                      case "CallBack":
                        r.eventDeleteCallBack(t);
                        break;

                      case "Update":
                        r.events.remove(t);
                    }
                    "function" == typeof r.onEventDeleted && r.onEventDeleted(i);
                } else switch (r.eventDeleteHandling) {
                  case "PostBack":
                    r.eventDeletePostBack(t);
                    break;

                  case "CallBack":
                    r.eventDeleteCallBack(t);
                    break;

                  case "JavaScript":
                    r.onEventDelete(t);
                }
            }, this.eventResizePostBack = function(e, t, i, n) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var a = {};
                a.e = e, a.newStart = t, a.newEnd = i, this.R("EventResize", n, a);
            }, this.eventResizeCallBack = function(e, t, i, n) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var a = {};
                a.e = e, a.newStart = t, a.newEnd = i, this.T("EventResize", a, n);
            }, this.hb = function(e, t, i, n) {
                if ("PostBack" === e) r.postBack2(t, i, n); else if ("CallBack" === e) r.T(t, i, n, "CallBack"); else if ("Immediate" === e) r.T(t, i, n, "Notify"); else if ("Queue" === e) r.queue.add(new DayPilot.Action(this, t, i, n)); else {
                    if ("Notify" !== e) throw "Invalid event invocation type";
                    "Notify" === s.notifyType() ? r.T(t, i, n, "Notify") : r.queue.add(new DayPilot.Action(r, t, i, n));
                }
            }, this.Ta = function(e) {
                if ("BusinessHoursNoScroll" === this.heightSpec) return this.businessBeginsHour;
                if (this.hideFreeCells && !e) {
                    var t = this.ib * this.cellDuration / this.cellHeight, i = Math.floor(t / 60);
                    return i = Math.max(0, i), Math.min(this.dayBeginsHour + i, this.businessBeginsHour);
                }
                return this.dayBeginsHour;
            }, this.visibleStart = function() {
                if ("Resources" === r.viewType) {
                    if (r.Na.isEmpty()) return DayPilot.Date.today();
                    var e = DayPilot.list(r.Na).map(function(e) {
                        return e.start.getTime();
                    }), t = Math.min.apply(null, e);
                    return new DayPilot.Date(t);
                }
                return this.Na[0].start;
            }, this.visibleEnd = function() {
                if ("Resources" === r.viewType) {
                    if (r.Na.isEmpty()) return DayPilot.Date.today().addDays(1);
                    var e = DayPilot.list(r.Na).map(function(e) {
                        return e.start.getTime();
                    }), t = Math.max.apply(null, e);
                    return new DayPilot.Date(t).addDays(1);
                }
                var i = this.Na, t = i.length - 1;
                return i[t].start.addDays(1);
            }, this.La = function() {
                return 2 === r.api;
            }, this.jb = function(e, t) {
                var i = e.start(), n = i.getDatePart(), a = Math.floor(t / r.cellHeight), o = a * r.cellDuration, s = 60 * o * 1e3, l = 60 * r.Ta() * 60 * 1e3;
                return n.addTime(s + l);
            }, this.kb = function(e, t) {
                var i = Math.floor(t / r.cellHeight), n = i * r.cellDuration, a = 60 * n * 1e3, o = 60 * r.Ta() * 60 * 1e3;
                return r.Na[e.part.dayIndex].start.addTime(a + o);
            }, this.lb = function(e, t, i, n) {
                if ("Disabled" !== this.eventResizeHandling) {
                    var a, o;
                    if ("top" === n ? (a = r.jb(e, i), o = e.end()) : "bottom" === n && (a = e.start(), 
                    o = r.kb(e, i + t)), r.La()) {
                        var s = {}, l = function() {
                            if (s.loaded = function() {}, r.mb(), !s.preventDefault.value) {
                                switch (r.eventResizeHandling) {
                                  case "PostBack":
                                    r.eventResizePostBack(e, a, o);
                                    break;

                                  case "CallBack":
                                    r.eventResizeCallBack(e, a, o);
                                    break;

                                  case "Notify":
                                    r.eventResizeNotify(e, a, o);
                                    break;

                                  case "Update":
                                    e.start(a), e.end(o), r.events.update(e);
                                }
                                "function" == typeof r.onEventResized && r.onEventResized(s);
                            }
                        };
                        if (s.e = e, s.newStart = a, s.newEnd = o, s.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, s.async = !1, s.hideShadow = function() {
                            r.mb();
                        }, s.loaded = function() {
                            l();
                        }, "function" == typeof r.onEventResize && (r.onEventResize(s), s.preventDefault.value)) return;
                        s.async || l();
                    } else switch (r.mb(), r.eventResizeHandling) {
                      case "PostBack":
                        r.eventResizePostBack(e, a, o);
                        break;

                      case "CallBack":
                        r.eventResizeCallBack(e, a, o);
                        break;

                      case "JavaScript":
                        r.onEventResize(e, a, o);
                        break;

                      case "Notify":
                        r.eventResizeNotify(e, a, o);
                    }
                }
            }, this.eventResizeNotify = function(e, t, i, n) {
                var a = new DayPilot.Event(e.copy(), this);
                e.start(t), e.end(i), e.commit(), r.update(), this.nb("Notify", a, t, i, n);
            }, this.nb = function(e, t, i, n, a) {
                var r = {};
                r.e = t, r.newStart = i, r.newEnd = n, this.hb(e, "EventResize", r, a);
            }, this.eventMovePostBack = function(e, t, i, n, a) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var r = {};
                r.e = e, r.newStart = t, r.newEnd = i, r.newResource = n, this.R("EventMove", a, r);
            }, this.eventMoveCallBack = function(e, t, i, n, a) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var r = {};
                r.e = e, r.newStart = t, r.newEnd = i, r.newResource = n, this.T("EventMove", r, a);
            }, this.ob = function(e, t, i) {
                var n = 0, a = Math.floor((i - n) / r.cellHeight), o = r.cellDuration, s = a * o * 60 * 1e3, l = e.start(), d = e.end(), c = new Date();
                l instanceof DayPilot.Date && (l = l.toDate()), c.setTime(Date.UTC(l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate()));
                var h = "Never" !== r.useEventBoxes ? l.getTime() - (c.getTime() + 3600 * l.getUTCHours() * 1e3 + Math.floor(l.getUTCMinutes() / o) * o * 60 * 1e3) : 0, u = d.getTime() - l.getTime(), f = 3600 * r.Ta() * 1e3;
                "undefined" == typeof t && (t = e.part.dayIndex);
                var v = this.Na[t], p = v.start.getTime(), m = new Date();
                m.setTime(p + s + h + f);
                var g = new DayPilot.Date(m);
                return {
                    start: g,
                    end: g.addTime(u),
                    resource: v.id
                };
            }, this.pb = function(e, t, i, n, a) {
                if ("Disabled" !== r.eventMoveHandling) {
                    var o = r.ob(e, t, i), s = o.start, l = o.end, d = o.resource, c = !!a;
                    if (r.La()) {
                        var h = {}, u = function() {
                            if (h.loaded = function() {}, r.qb(), !h.preventDefault.value) {
                                switch (r.eventMoveHandling) {
                                  case "PostBack":
                                    r.eventMovePostBack(e, s, l, d);
                                    break;

                                  case "CallBack":
                                    r.eventMoveCallBack(e, s, l, d);
                                    break;

                                  case "Notify":
                                    r.eventMoveNotify(e, s, l, d);
                                    break;

                                  case "Update":
                                    e.start(s), e.end(l), e.resource(d), c ? (e.commit(), r.events.add(e)) : r.events.update(e), 
                                    r.rb();
                                }
                                "function" == typeof r.onEventMoved && r.onEventMoved(h);
                            }
                        };
                        if (h.e = e, h.newStart = o.start, h.newEnd = o.end, h.newResource = o.resource, 
                        h.external = c, h.ctrl = !1, n && (h.ctrl = n.ctrlKey), h.shift = !1, n && (h.shift = n.shiftKey), 
                        h.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, h.async = !1, h.hideShadow = function() {
                            r.qb();
                        }, h.loaded = function() {
                            u();
                        }, "function" == typeof r.onEventMove && (r.onEventMove(h), h.preventDefault.value)) return;
                        h.async || u();
                    } else switch (r.qb(), r.eventMoveHandling) {
                      case "PostBack":
                        r.eventMovePostBack(e, s, l, d);
                        break;

                      case "CallBack":
                        r.eventMoveCallBack(e, s, l, d);
                        break;

                      case "JavaScript":
                        r.onEventMove(e, s, l, d, c, !!n && n.ctrlKey, !!n && n.shiftKey);
                        break;

                      case "Notify":
                        r.eventMoveNotify(e, s, l, d, null);
                    }
                }
            }, this.eventMoveNotify = function(e, t, i, n, a) {
                var o = new DayPilot.Event(e.copy(), this);
                e.start(t), e.end(i), e.resource(n), e.commit(), r.update(), this.sb("Notify", o, t, i, n, a);
            }, this.sb = function(e, t, i, n, a, r) {
                var o = {};
                o.e = t, o.newStart = i, o.newEnd = n, o.newResource = a, this.hb(e, "EventMove", o, r);
            }, this.rb = function() {
                if (r.todo && r.todo.del) {
                    var e = r.todo.del;
                    e.parentNode.removeChild(e), r.todo.del = null;
                }
            }, this.tb = function(e, t) {
                var i = r.ub(t), n = {};
                n.args = e, n.guid = i, r.T("Bubble", n);
            }, this.ub = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;
            }, this.eventMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.R("EventMenuClick", i, n);
            }, this.eventMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.T("EventMenuClick", n, i);
            }, this.vb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    r.eventMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    r.eventMenuClickCallBack(t, e);
                }
            }, this.timeRangeMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.R("TimeRangeMenuClick", i, n);
            }, this.timeRangeMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.T("TimeRangeMenuClick", n, i);
            }, this.wb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    r.timeRangeMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    r.timeRangeMenuClickCallBack(t, e);
                }
            }, this.timeRangeSelectedPostBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.R("TimeRangeSelected", n, a);
            }, this.timeRangeSelectedCallBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.T("TimeRangeSelected", a, n);
            }, this.xb = function(e, t, i) {
                e = new DayPilot.Date(e), t = new DayPilot.Date(t);
                var n = i;
                if (r.La()) {
                    var a = {};
                    if (a.start = e, a.end = t, a.resource = n, a.control = r, a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, a.toJSON = function() {
                        return DayPilot.Util.copyProps(a, {}, [ "start", "end", "resource" ]);
                    }, "function" == typeof r.onTimeRangeSelect && (r.onTimeRangeSelect(a), a.preventDefault.value)) return;
                    switch (r.timeRangeSelectedHandling) {
                      case "PostBack":
                        r.timeRangeSelectedPostBack(e, t, n);
                        break;

                      case "CallBack":
                        r.timeRangeSelectedCallBack(e, t, n);
                    }
                    "function" == typeof r.onTimeRangeSelected && r.onTimeRangeSelected(a);
                } else switch (r.timeRangeSelectedHandling) {
                  case "PostBack":
                    r.timeRangeSelectedPostBack(e, t, i);
                    break;

                  case "CallBack":
                    r.timeRangeSelectedCallBack(e, t, i);
                    break;

                  case "JavaScript":
                    r.onTimeRangeSelected(e, t, i);
                }
            }, this.timeRangeDoubleClickPostBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.R("TimeRangeDoubleClick", n, a);
            }, this.timeRangeDoubleClickCallBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.T("TimeRangeDoubleClick", a, n);
            }, this.yb = function(e, t, i) {
                if (r.La()) {
                    var n = i, a = {};
                    if (a.start = e, a.end = t, a.resource = n, a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onTimeRangeDoubleClick && (r.onTimeRangeDoubleClick(a), 
                    a.preventDefault.value)) return;
                    switch (r.timeRangeDoubleClickHandling) {
                      case "PostBack":
                        r.timeRangeDoubleClickPostBack(e, t, n);
                        break;

                      case "CallBack":
                        r.timeRangeDoubleClickCallBack(e, t, n);
                    }
                    "function" == typeof r.onTimeRangeDoubleClicked && r.onTimeRangeDoubleClicked(a);
                } else switch (r.timeRangeDoubleClickHandling) {
                  case "PostBack":
                    r.timeRangeDoubleClickPostBack(e, t, i);
                    break;

                  case "CallBack":
                    r.timeRangeDoubleClickCallBack(e, t, i);
                    break;

                  case "JavaScript":
                    r.onTimeRangeDoubleClick(e, t, i);
                }
            }, this.eventEditPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.newText = t, this.R("EventEdit", i, n);
            }, this.eventEditCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.newText = t, this.T("EventEdit", n, i);
            }, this.zb = function(e, t) {
                if (r.La()) {
                    var i = {};
                    if (i.e = e, i.newText = t, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventEdit && (r.onEventEdit(i), i.preventDefault.value)) return;
                    switch (r.eventEditHandling) {
                      case "PostBack":
                        r.eventEditPostBack(e, t);
                        break;

                      case "CallBack":
                        r.eventEditCallBack(e, t);
                        break;

                      case "Update":
                        e.text(t), r.events.update(e);
                    }
                    if ("function" == typeof r.onEventEdited && (r.onEventEdited(i), i.preventDefault.value)) return;
                } else switch (r.eventEditHandling) {
                  case "PostBack":
                    r.eventEditPostBack(e, t);
                    break;

                  case "CallBack":
                    r.eventEditCallBack(e, t);
                    break;

                  case "JavaScript":
                    r.onEventEdit(e, t);
                }
            }, this.eventSelectPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.R("EventSelect", i, n);
            }, this.eventSelectCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.T("EventSelect", n, i);
            }, this.Ab = function(e, t, i, n) {
                var a = r.multiselect, o = a.isSelected(t);
                if (i || n || !o || 1 !== a.Bb.length) if (r.La()) {
                    a.previous = a.events();
                    var s = {};
                    if (s.e = t, s.selected = a.isSelected(t), s.ctrl = i, s.meta = n, s.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof r.onEventSelect && (r.onEventSelect(s), s.preventDefault.value)) return;
                    switch (r.eventSelectHandling) {
                      case "PostBack":
                        r.eventSelectPostBack(t, l);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        r.eventSelectCallBack(t, l);
                        break;

                      case "Update":
                        a.Eb(e, i);
                    }
                    "function" == typeof r.onEventSelected && (s.change = a.isSelected(t) ? "selected" : "deselected", 
                    s.selected = a.isSelected(t), r.onEventSelected(s));
                } else {
                    a.previous = a.events(), a.Eb(e, i);
                    var l = a.isSelected(t) ? "selected" : "deselected";
                    switch (r.eventSelectHandling) {
                      case "PostBack":
                        r.eventSelectPostBack(t, l);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        r.eventSelectCallBack(t, l);
                        break;

                      case "JavaScript":
                        r.onEventSelect(t, l);
                    }
                }
            }, this.commandCallBack = function(e, t) {
                this.Z();
                var i = {};
                i.command = e, this.T("Command", i, t);
            }, this.Fb = function(e) {
                if (!o.active && !o.using && (clearTimeout(t.selectedTimeout), !DayPilot.Global.selecting)) {
                    if (t.editing) return void t.editing.blur();
                    if (r.selectedCells && "Disabled" !== r.timeRangeDoubleClickHandling) for (var i = 0; i < r.selectedCells.length; i++) if (this === r.selectedCells[i]) return;
                    if ("Disabled" !== r.timeRangeSelectedHandling) {
                        DayPilot.Util.mouseButton(e).left && (t.firstMousePos = r.coords, t.firstMousePos.calendar = r, 
                        r.clearSelection(), t.topSelectedCell = this, t.bottomSelectedCell = this, t.column = t.getColumn(this), 
                        r.selectedCells.push(this), t.firstSelected = this, DayPilot.Global.selecting = {
                            calendar: r
                        }, r.Gb());
                    }
                }
            }, this.Gb = function() {
                this.getSelection() && r.selectedCells && !function() {
                    var e = t.topSelectedCell, i = t.bottomSelectedCell, n = function() {
                        if (e.data) return e.data.x;
                        for (var t = e.parentNode.cells, i = 0; i < t.length; i++) if (t[i] === e) return i;
                        return -1;
                    }(), a = r.timeRangeSelectingStartEndFormat;
                    "Auto" === a && (a = "Clock24Hours" === s.timeFormat() ? "H:mm" : "h:mm tt");
                    var o = r.Na[n];
                    if (o) {
                        var l = {};
                        l.start = e.start, l.end = i.end, l.duration = new DayPilot.Duration(l.start, l.end), 
                        l.resource = o.id, l.allowed = !0, l.html = null, l.cssClass = null, l.top = {}, 
                        l.top.width = null, l.top.space = 5, l.top.html = l.start.toString(a, s.locale()), 
                        l.top.enabled = r.timeRangeSelectingStartEndEnabled, l.bottom = {}, l.bottom.width = null, 
                        l.bottom.space = 5, l.bottom.html = l.end.toString(a, s.locale()), l.bottom.enabled = r.timeRangeSelectingStartEndEnabled;
                        var d = DayPilot.Global.selecting && DayPilot.Global.selecting.args;
                        if (!d || d.start !== l.start || d.end !== l.end || d.resource != l.resource) {
                            if (!r.allowEventOverlap) {
                                var c = {
                                    id: null,
                                    start: l.start,
                                    end: l.end,
                                    resource: l.resource
                                };
                                r.events.Hb(c) && (l.allowed = !1);
                            }
                            r.Ib(l.start, l.end, l.resource) && (l.allowed = !1), "function" == typeof r.onTimeRangeSelecting && l.allowed && r.onTimeRangeSelecting(l), 
                            DayPilot.Global.selecting && (DayPilot.Global.selecting.args = l);
                            var h = r.Jb(e.start, o.start).boxTop - r.Kb(), u = r.Jb(i.end, o.start).boxBottom - r.Kb(), f = u - h, v = function() {
                                if (r.nav.activeSelection) return r.nav.activeSelection;
                                var e = document.createElement("div");
                                e.style.zIndex = r.H, e.style.position = "absolute", e.style.left = "0px", e.style.width = "100%", 
                                e.ondblclick = function(e) {
                                    if ("Disabled" !== r.timeRangeDoubleClickHandling) {
                                        clearTimeout(r.Lb);
                                        var t = r.getSelection();
                                        t && r.yb(t.start, t.end, t.resource);
                                    }
                                };
                                var t = document.createElement("div");
                                return t.className = r.C("_shadow_inner"), e.appendChild(t), r.nav.events.rows[0].cells[n].selection.appendChild(e), 
                                r.elements.selection.push(e), r.nav.activeSelection = e, e;
                            }();
                            v.className = r.C("_shadow"), v.firstChild.innerHTML = "", v.style.top = h + "px", 
                            v.style.height = f + "px";
                            var p = v.firstChild;
                            l.html && (p.innerHTML = l.html), l.cssClass && DayPilot.Util.addClass(v, l.cssClass), 
                            l.allowed || DayPilot.Util.addClass(v, r.C("_shadow_forbidden")), r.Mb(v, n, l);
                        }
                    }
                }();
            }, this.qb = function() {
                r.Nb(t.movingShadow), t.movingShadow = null;
            }, this.mb = function() {
                r.Nb(t.resizingShadow), t.resizingShadow = null;
            }, this.Nb = function(e) {
                DayPilot.de(e), DayPilot.de(r.nav.indicatorTop), DayPilot.de(r.nav.indicatorBottom);
            }, this.Mb = function(e, t, i) {
                var n = r.nav.events.rows[0].cells, a = n[t].events, o = t === n.length - 1;
                if (DayPilot.de(r.nav.indicatorTop), DayPilot.de(r.nav.indicatorBottom), i.top.enabled) {
                    var s = document.createElement("div");
                    s.style.zIndex = r.H, s.style.position = "absolute", s.style.top = e.offsetTop + "px", 
                    o ? s.style.right = "0px" : s.style.left = e.offsetWidth + i.top.space + "px", i.top.width ? s.style.width = i.top.width + "px" : s.style.whiteSpace = "nowrap", 
                    i.top.html && (s.innerHTML = i.top.html), s.className = r.C("_shadow_top"), a.appendChild(s), 
                    r.elements.selection.push(s), r.nav.indicatorTop = s;
                }
                if (i.bottom.enabled) {
                    var l = document.createElement("div");
                    l.style.zIndex = r.H, l.style.position = "absolute", l.style.top = e.offsetTop + e.offsetHeight + "px", 
                    o ? l.style.right = "0px" : l.style.left = e.offsetWidth + i.bottom.space + "px", 
                    i.bottom.width ? l.style.width = i.bottom.width + "px" : l.style.whiteSpace = "nowrap", 
                    i.bottom.html && (l.innerHTML = i.bottom.html), l.className = r.C("_shadow_bottom"), 
                    a.appendChild(l);
                    var d = l.offsetHeight;
                    l.style.top = e.offsetTop + e.offsetHeight - d + "px", r.elements.selection.push(l), 
                    r.nav.indicatorBottom = l;
                }
            }, this.Ob = function(e) {
                "undefined" != typeof DayPilot.Bubble && r.cellBubble && r.cellBubble.hideOnMouseOut();
            }, this.Pb = function(e) {
                if ("undefined" != typeof t && !o.active && !o.using && "undefined" != typeof DayPilot.Bubble && r.cellBubble) {
                    var i = t.getColumn(this), n = r.Na[i].id, a = {};
                    a.calendar = r, a.start = this.start, a.end = this.end, a.resource = n, a.toJSON = function() {
                        var e = {};
                        return e.start = this.start, e.end = this.end, e.resource = this.resource, e;
                    }, r.cellBubble.showCell(a);
                }
            }, this.getSelection = function() {
                if (!t.topSelectedCell) return null;
                if (!t.bottomSelectedCell) return null;
                var e = t.topSelectedCell.start, i = t.bottomSelectedCell.end, n = t.topSelectedCell.resource;
                return new DayPilot.Selection(e, i, n, r);
            }, this.Qb = function(e) {}, this.Rb = function(e) {
                if ("Fixed" === r.columnWidthSpec || r.I) {
                    if (!r.nav.bottomLeft) return;
                    r.nav.bottomLeft.scrollTop = r.nav.bottomRight.scrollTop, r.nav.upperRight && (r.nav.upperRight.scrollLeft = r.nav.bottomRight.scrollLeft), 
                    r.nav.scrollLayer.scrollLeft = r.nav.bottomRight.scrollLeft;
                }
                var t = r.Sb();
                r.scrollPos = t.scrollTop, r.Tb = t.clientHeight, r.nav.scrollpos.value = r.scrollPos, 
                r.Ja();
            }, this.Ja = function() {
                if (this.scrollLabelsVisible && this.Ub) {
                    if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) {
                        for (var e = (this.Na, this.showHours ? this.hourWidth : 0), t = this.nav.main.rows[0].cells[0].clientWidth, i = 1, n = 0; n < this.nav.scrollUp.length; n++) {
                            var a = this.nav.scrollUp[n], o = this.nav.scrollDown[n], s = Math.floor(e + n * t + t / 2 - 5 + i);
                            s < 0 && (s = 0), s -= r.nav.bottomRight.scrollLeft, a && a.style && (a.style.left = s + "px"), 
                            o && o.style && (o.style.left = s + "px");
                        }
                        for (var l = this.Kb(), n = 0; n < this.nav.scrollUp.length; n++) {
                            var d = this.nav.scrollUp[n], c = this.nav.scrollDown[n], h = this.Ub[n].minEnd - l, u = this.Ub[n].maxStart - l;
                            d && c && (h <= r.scrollPos && parseInt(d.style.left) >= r.hourWidth ? (d.style.top = this.Ua() + "px", 
                            d.style.display = "") : d.style.display = "none", u >= r.scrollPos + r.Tb && parseInt(c.style.left) >= r.hourWidth ? (c.style.top = this.Ua() + this.Tb - 10 + "px", 
                            c.style.display = "") : c.style.display = "none");
                        }
                    }
                }
            }, this.Vb = function(e) {
                var t = e.parentNode, i = 0, n = e.offsetTop, a = e.parentNode.offsetWidth, r = e.offsetHeight;
                e.event.allday() && (i = e.offsetLeft, a = e.offsetWidth);
                var o = document.createElement("textarea");
                o.style.boxSizing = "border-box", o.style.position = "absolute", o.style.width = a + "px", 
                o.style.height = r + "px";
                var s = DayPilot.gs(e, "fontFamily");
                s || (s = DayPilot.gs(e, "font-family")), o.style.fontFamily = s;
                var l = DayPilot.gs(e, "fontSize");
                return l || (l = DayPilot.gs(e, "font-size")), o.style.fontSize = l, o.style.left = i + "px", 
                o.style.top = n + "px", o.style.border = "1px solid black", o.style.padding = "0px", 
                o.style.marginTop = "0px", o.style.backgroundColor = "white", o.value = (e.event.text() || "").trim(), 
                o.event = e.event, t.appendChild(o), o;
            }, this._a = function(e, t, i, n) {
                r.Ab(e, t, i, n);
            }, this.multiselect = {}, this.multiselect.pa = [], this.multiselect.Bb = [], this.multiselect.Wb = [], 
            this.multiselect.Xb = [], this.multiselect.Yb = function() {
                var e = r.multiselect;
                return JSON.stringify(e.events());
            }, this.multiselect.events = function() {
                var e = r.multiselect, t = [];
                t.ignoreToJSON = !0;
                for (var i = 0; i < e.Bb.length; i++) t.push(e.Bb[i]);
                return t;
            }, this.multiselect.Zb = function() {
                r.nav.select.value = r.multiselect.Yb();
            }, this.multiselect.Eb = function(e, t) {
                var i = r.multiselect;
                if (i.isSelected(e.event)) if (r.allowMultiSelect) if (t) i.remove(e.event, !0); else {
                    var n = i.Bb.length;
                    i.clear(!0), n > 1 && i.add(e.event, !0);
                } else i.clear(!0); else r.allowMultiSelect && t ? i.add(e.event, !0) : (i.clear(!0), 
                i.add(e.event, !0));
                i.redraw(), i.Zb();
            }, this.multiselect.$b = function(e) {
                var t = r.multiselect;
                return t._b(e, t.pa);
            }, this.multiselect.bc = function() {
                for (var e = r.multiselect, t = [], i = 0; i < e.Bb.length; i++) {
                    var n = e.Bb[i];
                    t.push(n.value());
                }
                alert(t.join("\n"));
            }, this.multiselect.add = function(e, t) {
                var i = r.multiselect;
                i.cc(e) === -1 && i.Bb.push(e), i.Zb(), t || i.redraw();
            }, this.multiselect.remove = function(e, t) {
                var i = r.multiselect, n = i.cc(e);
                n !== -1 && i.Bb.splice(n, 1), i.Zb(), t || i.redraw();
            }, this.multiselect.clear = function(e) {
                var t = r.multiselect;
                t.Bb = [], t.Zb(), e || t.redraw();
            }, this.multiselect.redraw = function() {
                for (var e = r.multiselect, t = 0; t < r.elements.events.length; t++) {
                    var i = r.elements.events[t];
                    e.isSelected(i.event) ? e.dc(i) : e.ec(i);
                }
            }, this.multiselect.dc = function(e) {
                var t = r.multiselect, i = r.C("_selected"), n = t.fc(e);
                DayPilot.Util.addClass(n, i), t.Wb.push(e);
            }, this.multiselect.fc = function(e) {
                return e;
            }, this.multiselect.gc = function() {
                for (var e = r.multiselect, t = 0; t < e.Wb.length; t++) {
                    var i = e.Wb[t];
                    e.ec(i, !0);
                }
                e.Wb = [];
            }, this.multiselect.ec = function(e, t) {
                var i = r.multiselect, n = r.C("_selected"), a = i.fc(e);
                if (DayPilot.Util.removeClass(a, n), !t) {
                    var o = DayPilot.indexOf(i.Wb, e);
                    o !== -1 && i.Wb.splice(o, 1);
                }
            }, this.multiselect.isSelected = function(e) {
                return r.multiselect._b(e, r.multiselect.Bb);
            }, this.multiselect.cc = function(e) {
                return DayPilot.indexOf(r.multiselect.Bb, e);
            }, this.multiselect._b = function(e, t) {
                if (!t) return !1;
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    if (e === n) return !0;
                    if ("function" == typeof n.value) {
                        if (null !== n.value() && null !== e.value() && n.value() === e.value()) return !0;
                        if (null === n.value() && null === e.value() && n.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === n.start()) return !0;
                    } else {
                        if (null !== n.value && null !== e.value() && n.value === e.value()) return !0;
                        if (null === n.value && null === e.value() && n.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === n.start) return !0;
                    }
                }
                return !1;
            }, this.$a = function(e) {
                if (t.editing) return void t.editing.blur();
                var i = this.Vb(e);
                t.editing = i, DayPilot.re(i, DayPilot.touch.start, function(e) {
                    e.stopPropagation();
                }), i.onblur = function() {
                    if (e.event) {
                        var n = (e.event.value(), e.event.tag(), e.event.text()), a = i.value;
                        t.editing = null, i.onblur = null, DayPilot.de(i), n !== a && (e.style.display = "none", 
                        r.zb(e.event, a));
                    }
                }, i.onkeypress = function(e) {
                    if (13 === (window.event ? event.keyCode : e.keyCode)) return this.onblur(), e.preventDefault(), 
                    !1;
                }, i.onkeyup = function(e) {
                    return 27 === (window.event ? event.keyCode : e.keyCode) && (i.onblur = null, i.parentNode && i.parentNode.removeChild(i), 
                    t.editing = !1), !0;
                }, i.select(), i.focus();
            }, this.hc = function() {
                return "Resources" !== r.viewType && (!r.qa() || !r.E());
            }, this.qa = function() {
                return DayPilot.isArray(r.columns) ? r.columns : r.columns.list;
            }, this.columns = {}, this.columns.list = [], this.columns.ic = !1, this.columns.filter = function(e) {
                r.jc.params = e, r.N && r.kc();
            }, this.columns.find = function(e, t) {
                var i = "Resources" === r.viewType;
                e = new DayPilot.Date(e);
                var n = r.Na.find(function(n) {
                    var a = !i || n.id === t, r = n.start.addDays(1);
                    return !!(a && n.start <= e && e < r);
                });
                return n ? r.cb(n, r) : null;
            }, this.columns.load = function(e, t, i) {
                if (!e) throw new DayPilot.Exception("columns.load(): 'url' parameter required");
                var n = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, a = function(e) {
                    var i, a = e.request;
                    try {
                        i = JSON.parse(a.responseText);
                    } catch (e) {
                        var o = {};
                        return o.exception = e, void n(o);
                    }
                    if (DayPilot.isArray(i)) {
                        var s = {};
                        if (s.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, s.data = i, "function" == typeof t && t(s), s.preventDefault.value) return;
                        r.columns.list = i, r.N && r.update();
                    }
                };
                r.columnsLoadMethod && "POST" === r.columnsLoadMethod.toUpperCase() ? DayPilot.ajax({
                    method: "POST",
                    url: e,
                    success: a,
                    error: n
                }) : DayPilot.ajax({
                    method: "GET",
                    url: e,
                    success: a,
                    error: n
                });
            }, this.ra = function() {
                if (r.hc()) {
                    var e = this.lc();
                    this.Na = this.nc(e);
                } else this.ka = this.nc(this.qa() || []), this.Na = this.oc(this.headerLevels, !0);
            }, this.pc = function() {
                var e = this.startDate.getDatePart(), t = this.days;
                switch (this.viewType) {
                  case "Day":
                    t = 1;
                    break;

                  case "Week":
                    t = 7, e = e.firstDayOfWeek(s.weekStarts());
                    break;

                  case "WorkWeek":
                    for (t = 5, e = e.firstDayOfWeek(s.weekStarts()); 1 !== e.dayOfWeek(); ) e = e.addDays(1);
                }
                var i = e.addDays(t), n = {};
                return n.start = e, n.end = i, n.days = t, n;
            }, this.lc = function() {
                for (var e = [], t = this.pc(), i = t.start, n = t.days, a = 0; a < n; a++) {
                    var o = {};
                    o.start = i.addDays(a);
                    var l = s.locale().datePattern;
                    r.headerDateFormat && (l = r.headerDateFormat), o.name = o.start.toString(l, s.locale()), 
                    o.html = o.name, e.push(o);
                }
                return e;
            }, this.jc = {}, this.qc = function(e, t) {
                var i = {};
                i.id = e.id, i.start = new DayPilot.Date(e.start || r.startDate).getDatePart(), 
                i.name = e.name, i.html = e.html || e.name, i.toolTip = e.toolTip, i.backColor = e.backColor, 
                i.areas = e.areas, i.parent = t;
                var n = !e.children || 0 === e.children.length;
                if ("function" == typeof r.onColumnFilter && r.jc.params) if (n) {
                    var t = i.parent, a = {};
                    a.visible = !0, a.column = {
                        id: e.id,
                        name: e.name,
                        start: e.start,
                        data: e
                    }, a.filter = r.jc.params, r.onColumnFilter(a), a.visible ? t && t.rc() : i.hidden = !0;
                } else i.hidden = !0;
                return i.rc = function() {
                    i.hidden = !1, i.parent && i.parent.rc();
                }, i.getChildren = function(e, t) {
                    var i = [];
                    if (e <= 1) return this.hidden || i.push(this), i;
                    if (!this.children || 0 === this.children.length) return t ? this.hidden || i.push(this) : i.push("empty"), 
                    i;
                    for (var n = 0; n < this.children.length; n++) for (var a = this.children[n], r = a.getChildren(e - 1, t), o = 0; o < r.length; o++) i.push(r[o]);
                    return i;
                }, i.getChildrenCount = function(e) {
                    var t = 0;
                    if (!this.children || this.children.length <= 0 || e <= 1) {
                        return !this.hidden ? 1 : 0;
                    }
                    for (var i = 0; i < this.children.length; i++) t += this.children[i].getChildrenCount(e - 1);
                    return t;
                }, i.putIntoBlock = function(e) {
                    for (var t = 0; t < this.blocks.length; t++) {
                        var i = this.blocks[t];
                        if (i.overlapsWith(e.part.top, e.part.height)) return i.events.push(e), i.min = Math.min(i.min, e.part.top), 
                        i.max = Math.max(i.max, e.part.top + e.part.height), t;
                    }
                    var i = [];
                    return i.lines = [], i.events = [], i.overlapsWith = function(e, t) {
                        return !(e + t - 1 < this.min || e > this.max - 1);
                    }, i.putIntoLine = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var i = this.lines[t];
                            if (i.isFree(e.part.top, e.part.height)) return i.push(e), t;
                        }
                        var i = [];
                        return i.isFree = function(e, t) {
                            for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {
                                var r = this[a];
                                if (!(i < r.part.top || e > r.part.top + r.part.height - 1)) return !1;
                            }
                            return !0;
                        }, i.push(e), this.lines.push(i), this.lines.length - 1;
                    }, i.events.push(e), i.min = e.part.top, i.max = e.part.top + e.part.height, this.blocks.push(i), 
                    this.blocks.length - 1;
                }, i.putIntoLine = function(e) {
                    for (var t = 0; t < this.lines.length; t++) {
                        var i = this.lines[t];
                        if (i.isFree(e.part.top, e.part.height)) return i.push(e), t;
                    }
                    var i = [];
                    return i.isFree = function(e, t) {
                        for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {
                            var r = this[a];
                            if (!(i < r.part.top || e > r.part.top + r.part.height - 1)) return !1;
                        }
                        return !0;
                    }, i.push(e), this.lines.push(i), this.lines.length - 1;
                }, i.visibleStart = function() {
                    return i.start.addHours(r.Ta(!0));
                }, i.visibleEnd = function() {
                    var e = r.Pa(!0);
                    return i.visibleStart().addTime(e);
                }, e.children && (i.children = this.nc(e.children, i)), i;
            }, this.nc = function(e, t) {
                var i = DayPilot.list();
                return DayPilot.list(e).each(function(e) {
                    var n = r.qc(e, t);
                    i.push(n);
                }), i;
            }, this.oc = function(e, t) {
                for (var i = this.hc() ? this.Na : this.ka, n = DayPilot.list(), a = 0; a < i.length; a++) for (var r = i[a].getChildren(e, t), o = 0; o < r.length; o++) n.push(r[o]);
                return n;
            }, this.Ia = function() {
                if (this.showAllDayEvents) {
                    var e = this.nav.header;
                    if (e) {
                        e.style.display = "none";
                        for (var t = this.Na.length, i = 0; i < this.sc.lines.length; i++) for (var n = this.sc.lines[i], a = 0; a < n.length; a++) {
                            var o = n[a], l = o.cache || o.data, d = document.createElement("div");
                            d.event = o, d.setAttribute("unselectable", "on"), d.style.position = "absolute", 
                            r.rtl ? d.style.right = 100 * o.part.colStart / t + "%" : d.style.left = 100 * o.part.colStart / t + "%", 
                            d.style.width = 100 * o.part.colWidth / t + "%", d.style.height = s.allDayEventHeight() + "px", 
                            d.className = this.C("_alldayevent"), d.style.top = this.headerLevels * s.headerHeight() + i * s.allDayEventHeight() + "px", 
                            l.cssClass && DayPilot.Util.addClass(d, l.cssClass), d.style.textAlign = "left", 
                            d.style.lineHeight = "1.2", o.client.clickEnabled() && (d.onclick = this.Ya), o.client.doubleClickEnabled() && (d.ondblclick = this.ab), 
                            o.client.clickEnabled() || o.client.doubleClickEnabled() ? d.style.cursor = "pointer" : d.style.cursor = "default", 
                            DayPilot.re(d, "contextmenu", this.bb), d.onmousemove = function(e) {
                                var t = this;
                                if (!t.active) {
                                    var i = [];
                                    o.client.deleteEnabled() && i.push({
                                        action: "JavaScript",
                                        v: "Hover",
                                        w: 17,
                                        h: 17,
                                        top: 3,
                                        right: 3,
                                        css: r.C("_event_delete"),
                                        js: function(e) {
                                            r.gb(e);
                                        }
                                    });
                                    var n = l.areas;
                                    n && n.length > 0 && (i = i.concat(n)), DayPilot.Areas.showAreas(t, t.event, null, i), 
                                    DayPilot.Util.addClass(t, r.C("_alldayevent_hover"));
                                }
                                "undefined" != typeof DayPilot.Bubble && r.bubble && "Disabled" !== r.eventHoverHandling && r.bubble.showEvent(this.event);
                            }, d.onmouseout = function(e) {
                                var t = this;
                                DayPilot.Util.removeClass(t, r.C("_alldayevent_hover")), DayPilot.Areas.hideAreas(this, e), 
                                r.bubble && r.bubble.hideOnMouseOut();
                            }, this.showToolTip && !this.bubble && d.setAttribute("title", o.client.toolTip());
                            var c = o.start().getTime() === o.part.start.getTime(), h = o.end().getTime() === o.part.end.getTime(), u = l.backColor, f = document.createElement("div");
                            if (f.setAttribute("unselectable", "on"), f.className = this.C("_alldayevent_inner"), 
                            u && (f.style.background = u), l.fontColor && (f.style.color = l.fontColor), "darker" === l.borderColor && l.backColor ? f.style.borderColor = DayPilot.ColorUtil.darker(l.backColor, 2) : f.style.borderColor = l.borderColor, 
                            r.rtl ? (c || DayPilot.Util.addClass(d, this.C("_alldayevent_continueright")), h || DayPilot.Util.addClass(d, this.C("_alldayevent_continueleft"))) : (c || DayPilot.Util.addClass(d, this.C("_alldayevent_continueleft")), 
                            h || DayPilot.Util.addClass(d, this.C("_alldayevent_continueright"))), d.appendChild(f), 
                            r.La()) {
                                if ("function" == typeof r.onAfterEventRender) {
                                    var v = {};
                                    v.e = d.event, v.div = d, r.onAfterEventRender(v);
                                }
                            } else r.afterEventRender && r.afterEventRender(d.event, d);
                            !function() {
                                var e = {};
                                if (e.control = r, e.e = o, e.element = null, d.domArgs = e, "function" == typeof r.onBeforeEventDomAdd && r.onBeforeEventDomAdd(e), 
                                e.element) {
                                    var t = f;
                                    if (t) {
                                        e.tc = t;
                                        if (DayPilot.Util.isReactComponent(e.element)) {
                                            if (!r.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            r.da.reactDOM.render(e.element, t);
                                        } else t.appendChild(e.element);
                                    }
                                } else f.innerHTML = o.client.innerHTML();
                            }(), this.nav.allday.appendChild(d), this.elements.events.push(d);
                        }
                        e.style.display = "";
                    }
                }
            }, this._ = function(e) {
                if (r.multiselect.gc(), this.elements.events) for (var t = 0; t < this.elements.events.length; t++) {
                    var i = this.elements.events[t], n = i.event;
                    n && e && !n.allday() || r.uc(i);
                }
                this.elements.events = [];
            }, this.uc = function(e) {
                var t = e.event, i = e.domArgs;
                if (e.domArgs = null, i && "function" == typeof r.onBeforeEventDomRemove && r.onBeforeEventDomRemove(i), 
                i && "function" == typeof r.onBeforeEventDomAdd && r.da.reactDOM) {
                    var n = i && i.tc;
                    if (n) {
                        if (DayPilot.Util.isReactComponent(i.element)) {
                            if (!r.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                            r.da.reactDOM.unmountComponentAtNode(n);
                        }
                    }
                }
                if (t && (t.div = null, t.root = null), e.onclick = null, e.onclickSave = null, 
                e.ondblclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, 
                e.onmousemove = null, e.onmousedown = null, e.firstChild && e.firstChild.firstChild && e.firstChild.firstChild.tagName && "IMG" === e.firstChild.firstChild.tagName.toUpperCase()) {
                    var a = e.firstChild.firstChild;
                    a.onmousedown = null, a.onmousemove = null, a.onclick = null;
                }
                e.helper = null, e.event = null, DayPilot.de(e);
            }, this.vc = function(e) {
                var t = this.nav.events, i = e.cache || e.data, n = document.createElement("div");
                n.setAttribute("unselectable", "on"), n.style.MozUserSelect = "none", n.style.KhtmlUserSelect = "none", 
                n.style.WebkitUserSelect = "none", n.style.position = "absolute", n.className = this.C("_event"), 
                n.style.left = e.part.left + "%", n.style.top = e.part.top - this.Kb() + "px", n.style.width = e.part.width + "%", 
                n.style.height = Math.max(e.part.height, 2) + "px", n.style.overflow = "hidden", 
                n.isFirst = e.part.start.getTime() === e.start().getTime(), n.isLast = e.part.end.getTime() === e.end().getTime(), 
                e.client.clickEnabled() && (n.onclick = this.Ya), e.client.doubleClickEnabled() && (n.ondblclick = this.ab), 
                DayPilot.re(n, "contextmenu", this.bb), n.onmousemove = this.wc, n.onmouseout = this.xc, 
                n.onmousedown = this.yc, DayPilot.re(n, DayPilot.touch.start, this.zc.onEventTouchStart), 
                DayPilot.re(n, DayPilot.touch.move, this.zc.onEventTouchMove), DayPilot.re(n, DayPilot.touch.end, this.zc.onEventTouchEnd), 
                i.cssClass && DayPilot.Util.addClass(n, i.cssClass), this.showToolTip && !this.bubble && n.setAttribute("title", e.client.toolTip());
                var a = document.createElement("div");
                if (a.setAttribute("unselectable", "on"), a.className = r.C("_event_inner"), i.fontColor && (a.style.color = i.fontColor), 
                i.backColor && (a.style.background = i.backColor), i.borderColor && (a.style.borderColor = i.borderColor), 
                i.backgroundImage && (a.style.backgroundImage = "url(" + i.backgroundImage + ")", 
                i.backgroundRepeat && (a.style.backgroundRepeat = i.backgroundRepeat)), n.appendChild(a), 
                e.client.barVisible()) {
                    var o = e.part.height - 2, s = 100 * e.part.barTop / o, l = Math.ceil(100 * e.part.barHeight / o);
                    "PercentComplete" === this.durationBarMode && (s = 0, l = i.complete);
                    var d = document.createElement("div");
                    d.setAttribute("unselectable", "on"), d.className = this.C("_event_bar"), d.style.position = "absolute", 
                    i.barBackColor && (d.style.backgroundColor = i.barBackColor);
                    var c = document.createElement("div");
                    c.setAttribute("unselectable", "on"), c.className = this.C("_event_bar_inner"), 
                    c.style.top = s + "%", 0 < l && l <= 1 ? c.style.height = "1px" : c.style.height = l + "%", 
                    i.barColor && (c.style.backgroundColor = i.barColor), d.appendChild(c), n.appendChild(d);
                }
                if (i.areas) {
                    var h = DayPilot.Areas.copy(i.areas), u = r.Na[e.part.dayIndex];
                    h.forEach(function(t) {
                        t.start && (t.top = r.Jb(new DayPilot.Date(t.start), u.start).top - e.part.top - r.Kb()), 
                        t.end && (t.bottom = e.part.top + e.part.height - r.Jb(new DayPilot.Date(t.end), u.start).top - r.Kb());
                    }), e.client.deleteEnabled() && h.push({
                        action: "JavaScript",
                        v: "Hover",
                        w: 17,
                        h: 17,
                        top: 2,
                        right: 2,
                        css: r.C("_event_delete"),
                        js: function(e) {
                            r.gb(e);
                        }
                    }), DayPilot.Areas.attach(n, e, {
                        areas: h
                    });
                }
                if (function() {
                    var t = {};
                    if (t.control = r, t.e = e, t.element = null, n.domArgs = t, "function" == typeof r.onBeforeEventDomAdd && r.onBeforeEventDomAdd(t), 
                    t.element) {
                        var i = a;
                        if (i) {
                            t.tc = i;
                            if (DayPilot.Util.isReactComponent(t.element)) {
                                if (!r.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                r.da.reactDOM.render(t.element, i);
                            } else i.appendChild(t.element);
                        }
                    } else a.innerHTML = e.client.innerHTML();
                }(), t.rows[0].cells[e.part.dayIndex]) {
                    if (t.rows[0].cells[e.part.dayIndex].events.appendChild(n), r.Ac(n), n.event = e, 
                    r.multiselect.$b(e) && r.multiselect.add(n.event, !0), r.La()) {
                        if ("function" == typeof r.onAfterEventRender) {
                            var f = {};
                            f.e = n.event, f.div = n, r.onAfterEventRender(f);
                        }
                    } else r.afterEventRender && r.afterEventRender(n.event, n);
                }
                r.elements.events.push(n);
            }, this.Ac = function(e) {
                for (var t = e && e.childNodes ? e.childNodes.length : 0, i = 0; i < t; i++) try {
                    var n = e.childNodes[i];
                    1 === n.nodeType && (n.setAttribute("unselectable", "on"), this.Ac(n));
                } catch (e) {}
            }, this.Ha = function() {
                for (var e = new Date(), t = 0; t < this.Na.length; t++) {
                    var i = this.Na[t];
                    if (i.blocks) for (var n = 0; n < i.blocks.length; n++) for (var a = i.blocks[n], r = 0; r < a.lines.length; r++) for (var o = a.lines[r], s = 0; s < o.length; s++) {
                        var l = o[s];
                        if (l.part.width = 100 / a.lines.length, l.part.left = l.part.width * r, "Cascade" === this.eventArrangement) {
                            var d = r === a.lines.length - 1;
                            d || (l.part.width = 1.5 * l.part.width);
                        }
                        "Full" === this.eventArrangement && (l.part.left = l.part.left / 2, l.part.width = 100 - l.part.left), 
                        l.allday() || this.vc(l);
                    }
                }
                this.multiselect.redraw();
                var c = new Date();
                c.getTime() - e.getTime();
            }, this.Bc = function() {
                this.multiselect.Bb = [];
                for (var e = 0; e < this.Na.length; e++) for (var t = this.Na[e], i = 0; i < t.lines.length; i++) for (var n = t.lines[i], a = 0; a < n.length; a++) {
                    var r = n[a];
                    r.part.width = 100 / t.lines.length, r.part.left = r.Width * i, r.allday() || this.vc(r);
                }
            }, this.C = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : "";
            }, this.Cc = function() {
                switch (r.O) {
                  case "aspnet":
                    if (!this.Y()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;

                  case "netmvc":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;

                  case "javaxx":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                }
            }, this.Ga = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
            }, this.Dc = function() {
                var e = this.Ua() + this.Ec();
                return r.debug.message("Getting totalHeight, headerHeight: " + this.Ua() + " scrollable: " + this.Ec()), 
                e < 0 ? 0 : e;
            }, this.Fc = function() {
                if (this.nav.top.dp = this, this.nav.top.innerHTML = "", this.nav.top.style.MozUserSelect = "none", 
                this.nav.top.style.KhtmlUserSelect = "none", this.nav.top.style.WebkitUserSelect = "none", 
                this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", this.nav.top.style.WebkitTouchCallout = "none", 
                this.nav.top.style.position = "relative", this.width && (this.nav.top.style.width = this.width), 
                this.rtl && (this.nav.top.style.direction = "rtl"), "Parent100Pct" === this.heightSpec ? this.nav.top.style.height = "100%" : this.nav.top.style.height = this.Dc() + "px", 
                this.hideUntilInit && (this.nav.top.style.visibility = "hidden"), this.visible || (this.nav.top.style.display = "none"), 
                this.nav.scroll = document.createElement("div"), this.nav.scroll.style.height = this.Ec() + "px", 
                DayPilot.Util.addClass(this.nav.top, this.C("_main")), r.rtl && DayPilot.Util.addClass(this.nav.top, this.C("_direction_rtl")), 
                this.nav.scroll.style.position = "relative", this.showHeader) {
                    var e = this.Gc();
                    this.nav.top.appendChild(e);
                }
                this.nav.scroll.style.zoom = 1, this.nav.scroll.style.position = "absolute", this.nav.scroll.style.left = "0px", 
                this.nav.scroll.style.right = "0px", this.nav.scroll.style.top = this.Ua() + "px", 
                this.nav.scroll.className = r.C("_scroll");
                var t = this.Hc();
                this.nav.scrollable = t.firstChild, this.nav.scroll.appendChild(t), this.nav.top.appendChild(this.nav.scroll), 
                this.nav.vsph = document.createElement("div"), this.nav.vsph.style.display = "none", 
                this.nav.top.appendChild(this.nav.vsph), this.nav.scrollpos = document.createElement("input"), 
                this.nav.scrollpos.type = "hidden", this.nav.scrollpos.id = r.id + "_scrollpos", 
                this.nav.scrollpos.name = this.nav.scrollpos.id, this.nav.top.appendChild(this.nav.scrollpos), 
                this.nav.select = document.createElement("input"), this.nav.select.type = "hidden", 
                this.nav.select.id = r.id + "_select", this.nav.select.name = this.nav.select.id, 
                this.nav.select.value = null, this.nav.top.appendChild(this.nav.select), this.nav.scrollLayer = document.createElement("div"), 
                this.nav.scrollLayer.style.position = "absolute", this.nav.scrollLayer.style.top = "0px", 
                this.nav.scrollLayer.style.left = "0px", this.nav.top.appendChild(this.nav.scrollLayer), 
                this.nav.scrollUp = [], this.nav.scrollDown = [], this.nav.loading = document.createElement("div"), 
                this.nav.loading.style.position = "absolute", this.nav.loading.style.top = "0px", 
                this.nav.loading.style.left = this.hourWidth + 5 + "px", this.nav.loading.className = r.C("_loading"), 
                this.nav.loading.innerHTML = this.loadingLabelText, this.nav.loading.style.display = "none", 
                this.nav.top.appendChild(this.nav.loading);
            }, this.Ic = function() {
                for (var e = "Fixed" === this.columnWidthSpec, t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], i = this.nav.events.rows[0], n = 0; n < r.Na.length; n++) {
                    var a = t && t.cells[n], o = i.cells[n], s = a && a.firstChild, l = r.Na[n];
                    if (e) {
                        var d = l.width ? l.width : r.columnWidth;
                        s && (s.style.width = d + "px"), o && (o.style.width = d + "px");
                    } else r.J || (s && (s.style.width = null), o && (o.style.width = null));
                }
            }, this.Va = function() {
                return this.I ? r.nav.bottomRight : r.nav.scroll;
            }, this.Ea = function() {
                var e = "Fixed" === this.columnWidthSpec;
                if (!e) {
                    var t = r.Va();
                    "Fixed" === this.heightSpec ? t.style.overflowY = "scroll" : "BusinessHours" === this.heightSpec && this.Oa() <= this.businessEndsHour - this.businessBeginsHour ? t.style.overflow = "hidden" : "Full" !== this.heightSpec && "BusinessHoursNoScroll" !== this.heightSpec ? t.style.overflow = "auto" : t.style.overflow = "hidden";
                }
                if (e) {
                    var i = 0, n = this.Na.length * this.columnWidth;
                    n > r.Sb().clientWidth && (i = DayPilot.sw(r.nav.bottomRight)), r.nav.headerParent && (r.nav.headerParent.style.width = n + i + "px"), 
                    r.nav.main.style.width = n + "px", r.nav.events.style.width = n + "px", r.nav.crosshair.style.width = n + "px";
                } else r.nav.headerParent && (r.nav.headerParent.style.width = "100%"), r.nav.main.style.width = "100%", 
                r.nav.events.style.width = "100%", r.nav.crosshair.style.width = "100%";
                this.Ic();
            }, this.Ba = function() {
                this.K ? this.Jc() : DayPilot.pu(this.nav.hourTable), this.nav.hoursPlaceholder && (this.nav.hoursPlaceholder.innerHTML = "", 
                this.nav.hourTable = this.Kc(), this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));
            }, this.Jc = function() {
                if (this.nav.hourTable) for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                    var t = this.nav.hourTable.rows[e], i = t.cells[0].firstChild;
                    i.data = null, i.onmousemove = null, i.onmouseout = null;
                }
            }, this.Hc = function() {
                var e = document.createElement("div");
                e.style.zoom = 1, e.style.position = "relative", e.onmousemove = this.Lc, e.oncontextmenu = this.Mc, 
                DayPilot.re(e, DayPilot.touch.start, this.zc.onMainTouchStart), DayPilot.re(e, DayPilot.touch.move, this.zc.onMainTouchMove), 
                DayPilot.re(e, DayPilot.touch.end, this.zc.onMainTouchEnd), DayPilot.re(e, "contextmenu", function(e) {
                    var e = e || window.event;
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1;
                }), navigator.msPointerEnabled && (e.style.msTouchAction = "none", e.style.touchAction = "none"), 
                e.daypilotMainD = !0, e.calendar = this;
                var t = null, i = null;
                if (this.showHours) {
                    var n = document.createElement("div");
                    n.style.cssFloat = "left", r.rtl && (n.style.cssFloat = "right"), n.style.width = this.hourWidth + "px", 
                    n.style.height = this.Ec() + "px", n.style.overflow = "hidden", n.style.position = "relative", 
                    e.appendChild(n), t = n;
                    var a = 30, o = r.Nc() + a;
                    i = document.createElement("div"), i.style.height = o + "px", n.appendChild(i);
                }
                var s = document.createElement("div");
                s.style.height = this.Ec() + "px", this.showHours && (r.rtl ? s.style.marginRight = this.hourWidth + "px" : s.style.marginLeft = this.hourWidth + "px"), 
                s.style.position = "relative", s.style.overflow = "auto", e.appendChild(s), i && (this.nav.hourTable = this.Kc(), 
                i.appendChild(this.nav.hourTable));
                var l = document.createElement("div");
                l.style.height = "0px", l.style.position = "relative", l.appendChild(this.Oc());
                var d = document.createElement("div");
                return d.style.position = "absolute", d.style.top = "0px", d.style.left = "0px", 
                d.style.width = "100%", d.style.height = "0px", l.appendChild(d), this.nav.crosshair = d, 
                l.appendChild(this.Pc()), s.appendChild(l), this.nav.grid = l, this.nav.zoom = e, 
                this.nav.bottomLeft = t, this.nav.bottomRight = s, this.nav.hoursPlaceholder = i, 
                e;
            }, this.Oc = function() {
                if (r.J) {
                    var e = document.createElement("div");
                    return r.nav.main = e, e;
                }
                var t = document.createElement("table");
                return t.cellPadding = "0", t.cellSpacing = "0", t.border = "0", "Fixed" === this.columnWidthSpec || (t.style.width = "100%"), 
                t.style.border = "0px none", t.style.tableLayout = "fixed", this.nav.main = t, t;
            }, this.Qc = function() {
                if ("Fixed" === this.columnWidthSpec) {
                    for (var e = 0, t = 0; t < r.Na.length; t++) {
                        var i = r.Na[t];
                        e += i.width ? i.width : r.columnWidth;
                    }
                    return e + "px";
                }
                return "100%";
            }, this.Pc = function() {
                if (r.J) {
                    var e = document.createElement("div");
                    return e.style.userSelect = "none", e.style.position = "absolute", e.style.left = "0px", 
                    e.style.right = "0px", e.style.top = "0px", e.style.height = "0px", r.nav.events = e, 
                    e;
                }
                var t = document.createElement("table");
                t.style.position = "absolute", t.style.top = "0px", t.cellPadding = "0", t.cellSpacing = "0", 
                t.border = "0", t.style.width = r.Qc(), t.style.border = "0px none", t.style.tableLayout = "fixed", 
                this.nav.events = t;
                for (var i = this.Na, n = i.length, a = t.insertRow(-1), o = 0; o < n; o++) {
                    var s = a.insertCell(-1);
                    s.style.padding = "0px", s.style.border = "0px none", s.style.height = "0px", s.style.overflow = "visible", 
                    r.rtl || (s.style.textAlign = "left"), r.Rc(s);
                }
                return t;
            }, this.Kc = function() {
                var e = document.createElement("table");
                e.cellSpacing = "0", e.cellPadding = "0", e.border = "0", e.style.border = "0px none", 
                e.style.width = this.hourWidth + "px", e.oncontextmenu = function() {
                    return !1;
                }, e.onmousemove = function() {
                    r.ia();
                };
                for (var t = r.Sc(), i = 0; i < t; i++) this.Tc(e, i);
                return e;
            }, this.Sc = function() {
                return this.Pa() / (60 * this.timeHeaderCellDuration * 1e3);
            }, this.Uc = function() {
                return 60 * this.cellHeight / this.cellDuration / (60 / this.timeHeaderCellDuration);
            }, this.Vc = function() {
                return (this.Ta() - this.Ta(!0)) * (60 / this.cellDuration);
            }, this.Wc = function() {
                return this.Ta() - this.Ta(!0);
            }, this.Kb = function() {
                return this.Vc() * this.cellHeight;
            }, this.Tc = function(e, t) {
                var i = r.Uc(), n = e.insertRow(-1);
                n.style.height = i + "px";
                var a = n.insertCell(-1);
                a.valign = "bottom", a.setAttribute("unselectable", "on"), a.style.padding = "0px", 
                a.style.border = "0px none";
                var o = document.createElement("div");
                o.className = this.C("_rowheader"), o.style.position = "relative", o.style.width = this.hourWidth + "px", 
                o.style.height = i + "px", o.style.overflow = "hidden", o.setAttribute("unselectable", "on");
                var s = document.createElement("div");
                s.className = this.C("_rowheader_inner"), s.setAttribute("unselectable", "on");
                var l = r.Xc(t), d = l.html, c = l.data;
                c && (o.data = c, o.onmousemove = r.Yc, o.onmouseout = r.Zc), s.innerHTML = d, o.appendChild(s), 
                a.appendChild(o);
            }, this.Xc = function(e) {
                var t, i;
                if (this.hours) {
                    var n = e + this.Wc();
                    i = this.hours[n], t = i.html;
                }
                var a, o = this.timeHeaderCellDuration, s = this.startDate.addMinutes(o * e + 60 * this.Ta()), l = s.getHours(), d = l < 12;
                if (a = "Clock12Hours" === this.$c.timeFormat() ? d ? "AM" : "PM" : "00", !t) {
                    var c = document.createElement("div");
                    c.setAttribute("unselectable", "on"), "Clock12Hours" === this.$c.timeFormat() && (l %= 12, 
                    0 === l && (l = 12)), 60 !== this.timeHeaderCellDuration && (l += ":" + s.toString("mm")), 
                    c.innerHTML = l;
                    var h = document.createElement("span");
                    h.setAttribute("unselectable", "on"), h.className = this.C("_rowheader_minutes"), 
                    h.innerHTML = a, c.appendChild(h), t = c.outerHTML;
                }
                if ("function" == typeof r.onBeforeTimeHeaderRender) {
                    var u = {};
                    u.header = {}, u.header.hours = l, u.header.minutes = s.getMinutes(), u.header.start = s.toString("HH:mm"), 
                    u.header.html = t, u.header.areas = i ? i.areas : null, u.header.time = new DayPilot.Duration(s.getTimePart()), 
                    r.onBeforeTimeHeaderRender(u), null !== u.header.html && (t = u.header.html), i = u.header;
                }
                var f = {};
                return f.start = s, f.hour = l, f.html = t, f.data = i, f.sup = a, f;
            }, this.Yc = function(e) {
                r.ia();
                var t = this;
                t.active || DayPilot.Areas.showAreas(t, t.data);
            }, this.Zc = function(e) {
                DayPilot.Areas.hideAreas(this, e);
            }, this.Ec = function() {
                switch (this.heightSpec) {
                  case "Fixed":
                    return this.height;

                  case "Parent100Pct":
                    return this.height;

                  case "Full":
                    return this.Nc();

                  case "BusinessHours":
                  case "BusinessHoursNoScroll":
                    return this.Qa() * this.cellHeight * 60 / this.cellDuration;

                  default:
                    throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";
                }
            }, this.Nc = function() {
                return r.Pa() * this.cellHeight / (6e4 * r.cellDuration);
            }, this.Ua = function() {
                if (!this.showHeader) return 0;
                var e = this.headerLevels * s.headerHeight();
                return this.showAllDayEvents && s.allDayHeaderHeight() ? e + s.allDayHeaderHeight() : e;
            }, this.xa = function() {
                if (this.headerHeightAutoFit) {
                    for (var e = 0, t = 0; t < this.nav.header.rows.length; t++) for (var i = this.nav.header.rows[t], n = 0; n < i.cells.length; n++) {
                        var a = i.cells[n], r = a.firstChild, o = r.firstChild, s = r.style.height;
                        r.style.height = "auto", o.style.position = "static";
                        var l = r.offsetHeight;
                        r.style.height = s, o.style.position = "", e = Math.max(e, l);
                    }
                    e > this.headerHeight && (this.L.headerHeight = e, this.va(), this.wa());
                }
            }, this._c = function() {
                var e = this.I ? r.nav.bottomRight : r.nav.scroll;
                return DayPilot.sw(e) > 0;
            }, this.Gc = function() {
                var e = document.createElement("div"), t = "Fixed" === this.columnWidthSpec;
                t || (e.style.overflow = "auto"), e.style.position = "absolute", e.style.left = "0px", 
                e.style.right = "0px";
                var i = document.createElement("div");
                i.style.position = "relative", i.style.zoom = "1";
                var n = null, t = "Fixed" === this.columnWidthSpec;
                if (t || this.I) {
                    var a = document.createElement("div");
                    if (a.style.cssFloat = "left", r.rtl && (a.style.cssFloat = "right"), a.style.width = this.hourWidth + "px", 
                    this.showHours) {
                        var o = this.ad();
                        this.nav.corner = o, a.appendChild(o), i.appendChild(a), this.nav.upperLeft = a;
                    }
                    var s = document.createElement("div");
                    this.showHours && (r.rtl ? s.style.marginRight = this.hourWidth + "px" : s.style.marginLeft = this.hourWidth + "px"), 
                    s.style.position = "relative", s.style.overflow = "hidden", s.style.height = this.Ua() + "px", 
                    i.appendChild(s), this.nav.upperRight = s, n = document.createElement("div"), n.style.position = "relative", 
                    s.appendChild(n);
                } else {
                    var l = document.createElement("table");
                    l.cellPadding = "0", l.cellSpacing = "0", l.border = "0", l.style.width = "100%", 
                    l.style.borderCollapse = "separate", l.style.border = "0px none";
                    var d = l.insertRow(-1);
                    if (this.nav.fullHeader = l, this.showHours) {
                        var c = d.insertCell(-1);
                        c.style.padding = "0px", c.style.border = "0px none";
                        var o = this.ad();
                        c.appendChild(o), this.nav.corner = o;
                    }
                    c = d.insertCell(-1), c.style.width = "100%", c.valign = "top", c.style.position = "relative", 
                    c.style.padding = "0px", c.style.border = "0px none", n = document.createElement("div"), 
                    n.style.position = "relative", n.style.height = this.Ua() + "px", n.style.overflow = "hidden", 
                    c.appendChild(n), this.nav.mid = n, i.appendChild(l);
                }
                this.nav.headerParent = n, this.nav.headerParent.onmousemove = function(e) {
                    e.insideMainD = !0;
                }, this.bd();
                var h = this._c(), t = "Fixed" === this.columnWidthSpec;
                return h && !t && this.cd(), e.appendChild(i), e;
            }, this.bd = function() {
                if (this.nav.unifiedCornerRight = null, r.J) this.nav.header = document.createElement("div"), 
                this.nav.header.style.position = "relative"; else {
                    this.nav.header = document.createElement("table"), this.nav.header.cellPadding = "0", 
                    this.nav.header.cellSpacing = "0";
                    "Fixed" === this.columnWidthSpec || (this.nav.header.width = "100%"), this.nav.header.style.tableLayout = "fixed", 
                    this.nav.header.oncontextmenu = function() {
                        return !1;
                    };
                }
                this.nav.header.setAttribute("dp-id", "header"), this.nav.headerParent.appendChild(this.nav.header), 
                this.nav.header.onmousemove = function() {
                    r.ia();
                }, this.nav.allday && DayPilot.de(this.nav.allday);
                var e = document.createElement("div");
                e.style.position = "absolute", e.style.top = "0px", e.style.height = "0px", e.setAttribute("dp-id", "allday"), 
                "Fixed" === this.columnWidthSpec ? e.style.width = this.Na.length * this.columnWidth + "px" : (e.style.left = "0px", 
                e.style.right = "0px"), this.nav.allday = e, this.nav.headerParent.appendChild(e);
            }, this.cd = function() {
                if (this.nav.fullHeader) {
                    var e = this.nav.fullHeader.rows[0], t = e.insertCell(-1);
                    t.style.padding = "0px", t.style.verticalAlign = "top", t.setAttribute("unselectable", "on");
                    var i = document.createElement("div");
                    i.setAttribute("unselectable", "on"), i.className = this.C("_cornerright"), i.style.overflow = "hidden", 
                    i.style.position = "relative", i.style.width = "16px", i.style.height = this.Ua() + "px";
                    var n = document.createElement("div");
                    n.className = this.C("_cornerright_inner"), i.appendChild(n), t.appendChild(i), 
                    this.nav.cornerRight = i;
                }
            }, this.ad = function() {
                var e = document.createElement("div");
                e.style.position = "relative", e.className = this.C("_corner"), e.style.width = this.hourWidth + "px", 
                e.style.height = this.Ua() + "px", e.style.overflow = "hidden", e.oncontextmenu = function() {
                    return !1;
                };
                var t = document.createElement("div");
                t.className = this.C("_corner_inner"), t.setAttribute("unselectable", "on"), e.appendChild(t);
                var i = document.createElement("div");
                return i.style.position = "absolute", i.style.padding = "2px", i.style.top = "0px", 
                i.style.left = "1px", i.style.backgroundColor = "#FF6600", i.style.color = "white", 
                i.innerHTML = "DE" + "MO", i.setAttribute("unselectable", "on"), DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i), 
                e;
            }, this.ca = function() {
                if (r.nav.corner && r.nav.corner.firstChild) {
                    var e = r.nav.corner.firstChild, t = e.domArgs;
                    if (e.domArgs = null, t && ("function" == typeof r.onBeforeCornerDomRemove && r.onBeforeCornerDomRemove(t), 
                    "function" == typeof r.onBeforeCornerDomAdd && r.da.reactDOM && e)) {
                        if (DayPilot.Util.isReactComponent(t.element)) {
                            if (!r.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                            r.da.reactDOM.unmountComponentAtNode(e);
                        }
                    }
                }
            }, this.aa = function() {
                var e = this.nav.main;
                e.root = null, e.onmouseup = null;
                for (var t = 0; t < e.rows.length; t++) for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {
                    var a = i.cells[n];
                    a.root = null, a.onmousedown = null, a.onmousemove = null, a.onmouseout = null, 
                    a.onmouseup = null, a.onclick = null, a.ondblclick = null, a.oncontextmenu = null;
                }
                this.K || DayPilot.pu(e);
            }, this.ya = function() {
                for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
                for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
                this.nav.scrollUp = [], this.nav.scrollDown = [];
            }, this.Rc = function(e) {
                var t = document.createElement("div");
                t.style.marginRight = r.columnMarginRight + "px", t.style.position = "relative", 
                t.style.height = "1px", t.style.marginTop = "-1px", e.events = t;
                var i = document.createElement("div");
                i.style.position = "relative", i.style.height = "1px", i.style.marginTop = "-1px", 
                e.separators = i;
                var n = document.createElement("div");
                n.style.position = "relative", n.style.height = "1px", n.style.marginTop = "-1px", 
                e.selection = n, e.appendChild(i), e.appendChild(n), e.appendChild(t);
            }, this.Aa = function() {
                r.J ? r.dd() : r.ed();
            }, this.fd = function() {
                if (this.scrollLabelsVisible) for (var e = this.Na, t = this.showHours ? this.hourWidth : 0, i = (this.nav.scroll.clientWidth - t) / e.length, n = 0; n < e.length; n++) {
                    var a = document.createElement("div");
                    a.style.position = "absolute", a.style.top = "0px", a.style.left = t + 2 + n * i + i / 2 + "px", 
                    a.style.display = "none";
                    var r = document.createElement("div");
                    r.style.height = "10px", r.style.width = "10px", r.className = this.C("_scroll_up"), 
                    a.appendChild(r), this.nav.scrollLayer.appendChild(a), this.nav.scrollUp.push(a);
                    var o = document.createElement("div");
                    o.style.position = "absolute", o.style.top = "0px", o.style.left = t + 2 + n * i + i / 2 + "px", 
                    o.style.display = "none";
                    var r = document.createElement("div");
                    r.style.height = "10px", r.style.width = "10px", r.className = this.C("_scroll_down"), 
                    o.appendChild(r), this.nav.scrollLayer.appendChild(o), this.nav.scrollDown.push(o);
                }
            }, this.gd = function() {
                var e = this.nav.events;
                e.innerHTML = "", e.rows = [ {
                    cells: []
                } ], r.hd().forEach(function(t, i) {
                    var n = document.createElement("div");
                    n.style.height = "1px", n.style.overflow = "visible", n.style.position = "absolute", 
                    n.style.left = t.left + t.unit, n.style.right = t.left + t.unit, n.style.width = t.width + t.unit, 
                    r.Rc(n), e.appendChild(n), e.rows[0].cells.push(n);
                });
            }, this.hd = function() {
                function e(e) {
                    return DayPilot.browser.ie || DayPilot.browser.edge ? Math.floor(100 * e) / 100 : e;
                }
                var t = r.Na, i = "Fixed" === this.columnWidthSpec, n = 0;
                return DayPilot.list.for(t.length, function(a) {
                    var o = {}, s = 0, l = "";
                    return i ? (l = "px", s = t[a].width ? t[a].width : r.columnWidth) : (l = "%", s = e(100 / t.length)), 
                    o.left = n, o.width = s, o.unit = l, n += s, o;
                });
            }, this.dd = function() {
                function e(e, n) {
                    var a = o[e], s = r.Na[e], d = document.createElement("div");
                    d.style.position = "absolute", d.style.left = a.left + a.unit, d.style.right = a.left + a.unit, 
                    d.style.width = a.width + a.unit, d.style.top = l + "px", d.start = s.start.addTime(n * i).addHours(r.Ta()), 
                    d.end = d.start.addTime(i), d.resource = s.id, d.data = {}, d.data.x = e, d.data.y = n, 
                    d.data.start = d.start, d.data.end = d.end, d.data.resource = d.resource, d.data.calendar = r, 
                    r.cellProperties || (r.cellProperties = {});
                    var c = {};
                    c.resource = d.resource, c.start = d.start, c.end = d.end;
                    var h = e + "_" + n;
                    if (c.cssClass = null, c.html = null, c.backImage = null, c.backRepeat = null, c.backColor = null, 
                    c.business = r.jd(d.start, d.end), r.cellProperties[h] && DayPilot.Util.copyProps(r.cellProperties[h], c, [ "cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled" ]), 
                    "function" == typeof r.onBeforeCellRender) {
                        var u = {};
                        u.cell = c, r.onBeforeCellRender(u);
                    }
                    r.cellProperties[h] = c;
                    var f, v = r.kd(e, n);
                    d.root = r, d.setAttribute("unselectable", "on"), f = document.createElement("div"), 
                    f.className = r.C("_cell"), f.style.position = "relative", f.style.height = r.cellHeight + "px", 
                    f.style.overflow = "hidden", f.setAttribute("unselectable", "on");
                    var p = document.createElement("div");
                    p.className = r.C("_cell_inner"), f.appendChild(p), d.appendChild(f), d.onmousedown = r.Fb, 
                    d.onmousemove = r.Pb, d.onmouseout = r.Ob, DayPilot.re(d, DayPilot.touch.end, r.zc.onCellTouchEnd), 
                    d.oncontextmenu = function() {
                        return this.selected || (r.clearSelection(), t.column = t.getColumn(this), r.selectedCells.push(this), 
                        t.firstSelected = this, t.topSelectedCell = this, t.bottomSelectedCell = this, r.Gb()), 
                        "Disabled" === r.timeRangeRightClickHandling, !1;
                    };
                    var m = r.ld(e, n);
                    f = d.firstChild, "Fixed" === r.columnWidthSpec && (s.width ? f.style.width = s.width + "px" : f.style.width = r.columnWidth + "px"), 
                    m && (f.firstChild.style.background = m), (v ? v.business : r.jd(d.start, d.end)) && DayPilot.Util.addClass(f, r.C("_cell_business"));
                    var g = f.firstChild;
                    if (g && (g.innerHTML = ""), f.style.backgroundImage = "", f.style.backgroundRepeat = "", 
                    v && (v.html && (g.innerHTML = v.html), v.cssClass && DayPilot.Util.addClass(f, v.cssClass), 
                    v.backImage && (f.style.backgroundImage = "url('" + v.backImage + "')"), v.backRepeat && (f.style.backgroundRepeat = v.backRepeat), 
                    v.areas)) {
                        var y = {};
                        y.start = d.start, y.end = d.end, y.resource = d.resource;
                        var b = DayPilot.list(v.areas).filter(function(e) {
                            return !(e.end && new DayPilot.Date(e.end) <= d.start) && !(e.start && new DayPilot.Date(e.start) >= d.end);
                        });
                        b.forEach(function(e) {
                            if (e.start || e.end) {
                                if (e.start) {
                                    var t = new DayPilot.Date(e.start).getTime() - d.start.getTime();
                                    e.top = r.md(t);
                                }
                                if (e.end) {
                                    var i = new DayPilot.Date(e.end).getTime() - d.start.getTime();
                                    e.height = r.md(i) - e.top;
                                }
                            }
                        }), DayPilot.Areas.attach(f, y, {
                            areas: b
                        });
                    }
                    r.nav.main.appendChild(d), r.nav.main.rows[n].cells.push(d);
                }
                var i = (this.nav.main, 60 * this.cellDuration * 1e3), n = this.Xa(), a = (this.Wc() * (60 / this.cellDuration), 
                r.Na);
                !function() {
                    r.elements.cells = [], r.nav.main.innerHTML = "", r.nav.main.rows = [];
                }(), this.nav.scrollable.daypilotMainD = !0, this.nav.scrollable.calendar = this, 
                r.fd();
                a.length;
                r.gd();
                for (var o = r.hd(), s = 0; s < n; s++) {
                    var l = s * r.cellHeight;
                    if (r.nav.main.rows.push({
                        cells: []
                    }), DayPilot.browser.ie) for (var d = a.length - 1; d >= 0; d--) e(d, s); else for (var d = 0; d < a.length; d++) e(d, s);
                }
            }, this.ed = function() {
                var e = this.nav.main, i = 60 * this.cellDuration * 1e3, n = this.Xa(), a = (this.Wc() * (60 / this.cellDuration), 
                r.Na), o = 0;
                for (e && (o = r.Sb().scrollTop, this.aa()), this.nav.scrollable.daypilotMainD = !0, 
                this.nav.scrollable.calendar = this; e && e.rows && e.rows.length > 0; ) this.K || DayPilot.pu(e.rows[0]), 
                e.deleteRow(0);
                if (this.nd = !0, this.scrollLabelsVisible) for (var a = this.Na, s = this.showHours ? this.hourWidth : 0, l = (this.nav.scroll.clientWidth - s) / a.length, d = 0; d < a.length; d++) {
                    var c = document.createElement("div");
                    c.style.position = "absolute", c.style.top = "0px", c.style.left = s + 2 + d * l + l / 2 + "px", 
                    c.style.display = "none";
                    var h = document.createElement("div");
                    h.style.height = "10px", h.style.width = "10px", h.className = this.C("_scroll_up"), 
                    c.appendChild(h), this.nav.scrollLayer.appendChild(c), this.nav.scrollUp.push(c);
                    var u = document.createElement("div");
                    u.style.position = "absolute", u.style.top = "0px", u.style.left = s + 2 + d * l + l / 2 + "px", 
                    u.style.display = "none";
                    var h = document.createElement("div");
                    h.style.height = "10px", h.style.width = "10px", h.className = this.C("_scroll_down"), 
                    u.appendChild(h), this.nav.scrollLayer.appendChild(u), this.nav.scrollDown.push(u);
                }
                var f = a.length;
                if (this.cssOnly || this.G) {
                    for (var v = this.nav.events; v && v.rows && v.rows.length > 0; ) this.K || DayPilot.pu(v.rows[0]), 
                    v.deleteRow(0);
                    for (var p = v.insertRow(-1), m = 0; m < f; m++) {
                        var g = p.insertCell(-1);
                        g.style.padding = "0px", g.style.border = "0px none", g.style.height = "1px", g.style.overflow = "visible";
                        var y = "Fixed" === this.columnWidthSpec;
                        y && (a[m].width ? g.style.width = a[m].width + "px" : g.style.width = this.columnWidth + "px"), 
                        r.rtl || (g.style.textAlign = "left"), r.Rc(g);
                    }
                }
                for (var d = 0; d < n; d++) {
                    var p = e.insertRow(-1), b = d;
                    p.style.MozUserSelect = "none", p.style.KhtmlUserSelect = "none", p.style.WebkitUserSelect = "none";
                    for (var m = 0; m < f; m++) {
                        var w = this.Na[m], g = p.insertCell(-1);
                        g.start = w.start.addTime(b * i).addHours(this.Ta()), g.end = g.start.addTime(i), 
                        g.resource = w.id, this.cellProperties || (this.cellProperties = {});
                        var k = {};
                        k.resource = g.resource, k.start = g.start, k.end = g.end;
                        var C = m + "_" + b;
                        if (k.cssClass = null, k.html = null, k.backImage = null, k.backRepeat = null, k.backColor = null, 
                        k.business = this.jd(g.start, g.end), this.cellProperties[C] && DayPilot.Util.copyProps(this.cellProperties[C], k, [ "cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled" ]), 
                        "function" == typeof this.onBeforeCellRender) {
                            var x = {};
                            x.cell = k, this.onBeforeCellRender(x);
                        }
                        this.cellProperties[C] = k;
                        var S, E = r.kd(m, b);
                        g.root = this, g.setAttribute("unselectable", "on"), S = document.createElement("div"), 
                        S.className = r.C("_cell"), S.style.position = "relative", S.style.height = r.cellHeight + "px", 
                        S.style.overflow = "hidden", S.setAttribute("unselectable", "on");
                        var T = document.createElement("div");
                        T.className = r.C("_cell_inner"), S.appendChild(T), g.appendChild(S), g.onmousedown = this.Fb, 
                        g.onmousemove = this.Pb, g.onmouseout = this.Ob, DayPilot.re(g, DayPilot.touch.end, this.zc.onCellTouchEnd), 
                        g.oncontextmenu = function() {
                            return this.selected || (r.clearSelection(), t.column = t.getColumn(this), r.selectedCells.push(this), 
                            t.firstSelected = this, t.topSelectedCell = this, t.bottomSelectedCell = this, r.Gb()), 
                            "Disabled" === r.timeRangeRightClickHandling, !1;
                        };
                        var A = r.ld(m, b);
                        S = g.firstChild;
                        var y = "Fixed" === this.columnWidthSpec;
                        y && (w.width ? S.style.width = w.width + "px" : S.style.width = this.columnWidth + "px"), 
                        A && (S.firstChild.style.background = A);
                        (E ? E.business : this.jd(g.start, g.end)) && DayPilot.Util.addClass(S, r.C("_cell_business"));
                        var D = S.firstChild;
                        if (D && (D.innerHTML = ""), S.style.backgroundImage = "", S.style.backgroundRepeat = "", 
                        E && (E.html && (D.innerHTML = E.html), E.cssClass && DayPilot.Util.addClass(S, E.cssClass), 
                        E.backImage && (S.style.backgroundImage = "url('" + E.backImage + "')"), E.backRepeat && (S.style.backgroundRepeat = E.backRepeat), 
                        E.areas)) {
                            var H = {};
                            H.start = g.start, H.end = g.end, H.resource = g.resource;
                            var M = DayPilot.list(E.areas).filter(function(e) {
                                return !(e.end && new DayPilot.Date(e.end) <= g.start) && !(e.start && new DayPilot.Date(e.start) >= g.end);
                            });
                            M.forEach(function(e) {
                                if (e.start || e.end) {
                                    if (e.start) {
                                        var t = new DayPilot.Date(e.start).getTime() - g.start.getTime();
                                        e.top = r.md(t);
                                    }
                                    if (e.end) {
                                        var i = new DayPilot.Date(e.end).getTime() - g.start.getTime();
                                        e.height = r.md(i) - e.top;
                                    }
                                }
                            }), DayPilot.Areas.attach(S, H, {
                                areas: M
                            });
                        }
                    }
                }
                e.onmouseup = this.Qb, e.root = this, e.style.height = n * r.cellHeight + "px", 
                r.nav.scrollable.style.display = "", r.Sb().scrollTop = o;
            }, this.Mc = function(e) {
                if (!o.detected) {
                    var t = r.getSelection();
                    if (t) {
                        var i = {};
                        if (i.start = t.start, i.end = t.end, i.resource = t.resource, i.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, "function" == typeof r.onTimeRangeRightClick && (r.onTimeRangeRightClick(i), 
                        i.preventDefault.value)) return !1;
                        "ContextMenu" === r.timeRangeRightClickHandling && r.contextMenuSelection && r.contextMenuSelection.show(r.getSelection()), 
                        "function" == typeof r.onTimeRangeRightClicked && r.onTimeRangeRightClicked(i);
                    }
                }
            }, this.jd = function(e, t) {
                return this.businessBeginsHour < this.businessEndsHour ? !(e.getHours() < this.businessBeginsHour || e.getHours() >= this.businessEndsHour || 6 === e.getDayOfWeek() || 0 === e.getDayOfWeek()) : e.getHours() >= this.businessBeginsHour || e.getHours() < this.businessEndsHour;
            }, this.Lc = function(e) {
                e = e || window.event, e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), 
                t.activeCalendar = this;
                var i = r.nav.main;
                r.coords = DayPilot.mo3(i, e);
                var n = DayPilot.mc(e), a = r.crosshairType && "Disabled" !== r.crosshairType;
                if (DayPilot.Global.moving || DayPilot.Global.resizing || DayPilot.Global.selecting ? r.ia() : a && r.od(), 
                DayPilot.Global.resizing) r.pd(n); else if (DayPilot.Global.moving) {
                    if (!DayPilot.Global.moving.helper) return void (t.movingShadow = null);
                    if (!t.movingShadow) {
                        var o = 3;
                        if (!(DayPilot.distance(n, t.originalMouse) > o)) return;
                        t.movingShadow = r.Ma(DayPilot.Global.moving, !r.P.ie), t.movingShadow.style.width = t.movingShadow.parentNode.offsetWidth + 1 + "px";
                    }
                    if (!r.coords) return;
                    var l = r.cellHeight, d = 0, c = t.moveOffsetY;
                    c || (c = l / 2), "Top" === this.moveBy && (c = 0);
                    var h = Math.floor((r.coords.y - c - d + l / 2) / l) * l + d;
                    h < d && (h = d);
                    var u = r.nav.main, f = r.J ? r.Xa() * r.cellHeight : u.clientHeight, v = parseInt(t.movingShadow.style.height);
                    h + v > f && (h = f - v);
                    var p = u.clientWidth / u.rows[0].cells.length, m = Math.floor(r.coords.x / p);
                    m < 0 && (m = 0), r.rtl && (m = r.Na.length - m - 1);
                    var g = t.movingShadow, y = DayPilot.Global.moving.event, b = r.ob(y, m, h), w = r.eventMovingStartEndFormat;
                    "Auto" === w && (w = "Clock24Hours" === s.timeFormat() ? "H:mm" : "h:mm tt");
                    var k = {};
                    k.e = y, k.start = b.start, k.end = b.end, k.resource = b.resource, k.html = null, 
                    k.cssClass = null, k.allowed = !0, k.top = {}, k.top.width = null, k.top.space = 5, 
                    k.top.html = k.start.toString(w, s.locale()), k.top.enabled = r.eventMovingStartEndEnabled, 
                    k.bottom = {}, k.bottom.width = null, k.bottom.space = 5, k.bottom.html = k.end.toString(w, s.locale()), 
                    k.bottom.enabled = r.eventMovingStartEndEnabled, function() {
                        var e = r.ja;
                        if (!(e && e.start.getTime() === b.start.getTime() && e.end.getTime() === b.end.getTime() && e.resource === b.resource)) {
                            if (g.className = r.C("_shadow"), g.firstChild.innerHTML = "", r.ja = k, g.args = k, 
                            !r.allowEventOverlap) {
                                var i = {
                                    id: y.id(),
                                    start: k.start,
                                    end: k.end,
                                    resource: k.resource
                                };
                                r.events.Hb(i) && (DayPilot.Util.addClass(g, r.C("_shadow_forbidden")), k.allowed = !1);
                            }
                            r.Ib(k.start, k.end, k.resource) && (DayPilot.Util.addClass(g, r.C("_shadow_forbidden")), 
                            k.allowed = !1), DayPilot.Util.removeClass(g, r.C("_shadow_forbidden")), "function" == typeof r.onEventMoving && k.allowed && r.onEventMoving(k), 
                            k.html && (g.firstChild.innerHTML = k.html), k.cssClass && DayPilot.Util.addClass(g, k.cssClass), 
                            k.allowed || DayPilot.Util.addClass(g, r.C("_shadow_forbidden")), t.movingShadow.style.top = h + "px";
                            var n = r.nav.events;
                            m < n.rows[0].cells.length && m >= 0 && t.movingShadow.column !== m && (t.movingShadow.column = m, 
                            t.moveShadow(n.rows[0].cells[m]));
                            var a = m, o = g;
                            r.Mb(o, a, k);
                        }
                    }();
                } else if (t.firstMousePos) {
                    var C = r.qd(r.coords.x), x = Math.floor(r.coords.y / r.cellHeight), S = r.nav.main.rows[x].cells[C];
                    if (!DayPilot.Global.selecting) {
                        var E = t.firstMousePos, T = r.coords;
                        E.x === T.x && E.y === T.y || (DayPilot.Global.selecting = {
                            calendar: r
                        });
                    }
                    if (!DayPilot.Global.selecting) return;
                    var n = r.coords, A = t.getColumn(S);
                    A !== t.column && (S = r.nav.main.rows[x].cells[t.column]);
                    var D = DayPilot.Global.selecting;
                    if (D.last && D.last.x === C && D.last.y === x) return;
                    D.last = {
                        x: C,
                        y: x
                    }, n.y < t.firstMousePos.y ? (r.selectedCells = t.getCellsBelow(S), t.topSelectedCell = r.selectedCells[0], 
                    t.bottomSelectedCell = t.firstSelected) : (r.selectedCells = t.getCellsAbove(S), 
                    t.topSelectedCell = t.firstSelected, t.bottomSelectedCell = r.selectedCells[0]), 
                    r.Gb();
                }
                if (t.drag) {
                    if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingShadow && r.coords) {
                        var g = r.Ma(t.drag, !1);
                        if (g) {
                            t.movingShadow = g;
                            var T = DayPilot.Date.today(), e = {
                                id: t.drag.id,
                                start: T,
                                end: T.addSeconds(t.drag.duration),
                                text: t.drag.text
                            }, H = t.drag.data;
                            if (H) {
                                var M = [ "duration", "element", "remove", "id", "text" ];
                                for (var _ in H) DayPilot.contains(M, _) || (e[_] = H[_]);
                            }
                            var R = new DayPilot.Event(e, r);
                            R.external = !0, DayPilot.Global.moving = {}, DayPilot.Global.moving.event = R, 
                            DayPilot.Global.moving.helper = {};
                        }
                    }
                    e.cancelBubble = !0;
                }
            }, this.rd = function(e) {
                t.movingShadow.offsetTop, DayPilot.Global.moving.event, t.movingShadow.column;
            }, this.Ib = function(e, t, i) {
                return r.sd(e, t, i).some(function(e) {
                    return e.disabled;
                });
            }, this.sd = function(e, t, i) {
                var n = [];
                for (var a in r.cellProperties) {
                    var o = r.cellProperties[a];
                    (!i || i === o.resource) && DayPilot.Util.overlaps(e, t, o.start, o.end) && n.push(o);
                }
                return n;
            }, this.pd = function(e) {
                if (!DayPilot.Global.resizing.event) return DayPilot.Global.resizing = null, DayPilot.de(t.resizingShadow), 
                void (t.resizingShadow = null);
                t.resizingShadow || (t.resizingShadow = r.Ma(DayPilot.Global.resizing, !1));
                var i = DayPilot.Global.resizing.event.calendar.cellHeight, n = 0, a = e.y - t.originalMouse.y, o = DayPilot.Global.resizing.event, l = o.start(), d = o.end();
                if ("bottom" === DayPilot.Global.resizing.dpBorder) {
                    var c = Math.floor((t.originalHeight + t.originalTop + a + i / 2) / i) * i - t.originalTop + n;
                    c < i && (c = i);
                    var h = r.J ? r.Xa() * r.cellHeight : r.nav.main.clientHeight;
                    t.originalTop + c > h && (c = h - t.originalTop), t.resizingShadow.style.height = c + "px", 
                    d = r.kb(o, t.originalTop + c);
                } else if ("top" === DayPilot.Global.resizing.dpBorder) {
                    var u = Math.floor((t.originalTop + a - n + i / 2) / i) * i + n;
                    u < n && (u = n), u > t.originalTop + t.originalHeight - i && (u = t.originalTop + t.originalHeight - i);
                    var c = t.originalHeight - (u - t.originalTop);
                    c < i ? c = i : t.resizingShadow.style.top = u + "px", t.resizingShadow.style.height = c + "px", 
                    l = r.jb(o, u);
                }
                var f = t.resizingShadow, v = r.eventResizingStartEndFormat;
                "Auto" === v && (v = "Clock24Hours" === s.timeFormat() ? "H:mm" : "h:mm tt");
                var p = {};
                if (p.start = l, p.end = d, p.resource = o.resource(), p.allowed = !0, p.html = null, 
                p.cssClass = null, p.top = {}, p.top.width = null, p.top.space = 5, p.top.html = p.start.toString(v, s.locale()), 
                p.top.enabled = r.eventResizingStartEndEnabled, p.bottom = {}, p.bottom.width = null, 
                p.bottom.space = 5, p.bottom.html = p.end.toString(v, s.locale()), p.bottom.enabled = r.eventResizingStartEndEnabled, 
                f.args = p, f.firstChild.innerHTML = "", f.className = r.C("_shadow"), !r.allowEventOverlap) {
                    var m = {
                        id: o.id(),
                        start: p.start,
                        end: p.end,
                        resource: p.resource
                    };
                    r.events.Hb(m) && (DayPilot.Util.addClass(f, r.C("_shadow_forbidden")), p.allowed = !1);
                }
                r.Ib(p.start, p.end, p.resource) && (DayPilot.Util.addClass(f, r.C("_shadow_forbidden")), 
                p.allowed = !1), "function" == typeof r.onEventResizing && p.allowed && r.onEventResizing(p), 
                p.html && (f.firstChild.innerHTML = p.html), p.cssClass && DayPilot.Util.addClass(f, p.cssClass);
                var g = o.part.dayIndex, y = f;
                r.Mb(y, g, p);
            }, this.temp = {}, this.temp.getPosition = function() {
                var e = r.td.getCellCoords();
                if (!e) return null;
                var t = r.Na[e.x], i = {};
                return i.resource = t.id, i.start = new DayPilot.Date(t.start).addHours(r.Ta(!0)).addMinutes(e.y * r.cellDuration), 
                i.end = i.start.addMinutes(r.cellDuration), i;
            }, this.td = {}, this.td.getCellCoords = function() {
                var e = {};
                if (e.x = 0, e.y = 0, !r.coords) return null;
                for (var t = r.nav.main, i = r.coords.x, n = 0, a = this.col(t, n); a && i > a.left; ) n += 1, 
                a = this.col(t, n);
                e.x = n - 1;
                var o = 0, s = Math.floor((r.coords.y - o) / r.cellHeight);
                return e.y = s, e.x < 0 ? null : e;
            }, this.td.col = function(e, t) {
                var i = {};
                if (i.left = 0, i.width = 0, !e) return null;
                if (!e.rows) return null;
                if (0 === e.rows.length) return null;
                if (0 == e.rows[0].cells.length) return null;
                var n = e.rows[0].cells[t];
                if (!n) return null;
                var a = DayPilot.abs(e), r = DayPilot.abs(n);
                return i.left = r.x - a.x, i.width = n.offsetWidth, i;
            }, this.od = function() {
                this.ia(), this.elements.crosshair || (this.elements.crosshair = []);
                var e = this.td.getCellCoords();
                if (e) {
                    var t = e.x, i = Math.floor(e.y / (60 / r.cellDuration) * (60 / r.timeHeaderCellDuration));
                    if (!(i < 0)) {
                        if (this.nav.hourTable) {
                            if (i >= this.nav.hourTable.rows.length) return;
                            var n = document.createElement("div");
                            n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.top = "0px", 
                            n.style.bottom = "0px", n.className = r.C("_crosshair_left"), this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(n), 
                            this.elements.crosshair.push(n);
                        }
                        if (this.nav.header) {
                            var a = document.createElement("div");
                            a.style.position = "absolute", a.style.left = "0px", a.style.right = "0px", a.style.top = "0px", 
                            a.style.bottom = "0px", a.className = r.C("_crosshair_top");
                            var o = this.nav.header.rows[this.headerLevels - 1];
                            o.cells[t] && (o.cells[t].firstChild.appendChild(a), this.elements.crosshair.push(a));
                        }
                        if ("Header" !== this.crosshairType) {
                            var s = this.nav.crosshair, l = 0, d = Math.floor((r.coords.y - l) / r.cellHeight) * r.cellHeight + l, c = r.cellHeight, h = document.createElement("div");
                            h.style.position = "absolute", h.style.left = "0px", h.style.right = "0px", h.style.top = d + "px", 
                            h.style.height = c + "px", h.className = r.C("_crosshair_horizontal"), h.onmousedown = this.ud, 
                            s.appendChild(h), this.elements.crosshair.push(h);
                            var u = this.td.col(this.nav.main, t);
                            if (c = r.Nc(), u) {
                                var f = document.createElement("div");
                                f.style.position = "absolute", f.style.left = u.left + "px", f.style.width = u.width + "px", 
                                f.style.top = "0px", f.style.height = c + "px", f.className = r.C("_crosshair_vertical"), 
                                f.onmousedown = this.ud, s.appendChild(f), this.elements.crosshair.push(f);
                            }
                        }
                    }
                }
            }, this.ud = function(e) {
                r.ia();
                var t = r.td.getCellCoords(), i = 0, n = r.nav.main.rows[t.y + i].cells[t.x];
                r.Fb.apply(n, [ e ]);
            }, this.ia = function() {
                if (this.elements.crosshair && 0 !== this.elements.crosshair.length) {
                    for (var e = 0; e < this.elements.crosshair.length; e++) {
                        var t = this.elements.crosshair[e];
                        t && t.parentNode && t.parentNode.removeChild(t);
                    }
                    this.elements.crosshair = [];
                }
            }, this.sa = function() {
                if (this.cellConfig) {
                    var e = this.cellConfig;
                    if (e.vertical) for (var t = 0; t < e.x; t++) for (var i = this.cellProperties[t + "_0"], n = 1; n < e.y; n++) this.cellProperties[t + "_" + n] = i;
                    if (e.horizontal) for (var n = 0; n < e.y; n++) for (var i = this.cellProperties["0_" + n], t = 1; t < e.x; t++) this.cellProperties[t + "_" + n] = i;
                    if (e["default"]) for (var i = e["default"], n = 0; n < e.y; n++) for (var t = 0; t < e.x; t++) this.cellProperties[t + "_" + n] || (this.cellProperties[t + "_" + n] = i);
                }
            }, this.kd = function(e, t) {
                return this.cellProperties ? this.cellProperties[e + "_" + t] : null;
            }, this.vd = function(e, t) {
                var i = e + "_" + t;
                return !(!this.cellProperties || !this.cellProperties[i]) && this.cellProperties[i].business;
            }, this.ld = function(e, t) {
                var i = e + "_" + t;
                return this.cellProperties && this.cellProperties[i] ? this.cellProperties[i].backColor : null;
            }, this.ba = function() {
                var e = this.nav.header;
                if (e && e.rows) for (var t = 0; t < e.rows.length; t++) for (var i = e.rows[t], n = 0; n < i.cells.length; n++) {
                    var a = i.cells[n];
                    a.onclick = null, a.onmousemove = null, a.onmouseout = null;
                }
                this.K || DayPilot.pu(e);
            }, this.xd = function(e) {
                var t = e + 1, i = t === r.headerLevels, n = this.oc(t), a = 0, o = 0, s = r.hd(), l = [];
                if (!i) for (var d = 0; d < n.length; d++) {
                    var c = n[d], h = s[d], u = !!c.getChildren, f = u ? c.getChildrenCount(r.headerLevels - t + 1) : 1, v = h.width;
                    DayPilot.list.for(f - 1, function() {
                        v += s[d + a].width, a += 1;
                    }), l.push({
                        left: o,
                        width: v
                    }), o += v;
                }
                return l;
            }, this.yd = function(e) {
                function t(e) {
                    var t = n[e], i = l[e];
                    if (r.La() && "function" == typeof r.onBeforeHeaderRender) {
                        var a = {};
                        a.header = {}, a.column = r.cb(t, r), DayPilot.Util.copyProps(t, a.header, [ "id", "start", "name", "html", "backColor", "toolTip", "areas", "children" ]), 
                        r.onBeforeHeaderRender(a), DayPilot.Util.copyProps(a.header, t, [ "html", "backColor", "toolTip", "areas" ]);
                    }
                    var u = !!t.getChildren, f = i.width, v = i.left;
                    o || (v = h[e].left, f = h[e].width);
                    var p = document.createElement("div");
                    p.style.position = "absolute", p.style.top = d + "px", p.style.left = v + i.unit, 
                    p.style.right = v + i.unit, p.style.width = f + i.unit, p.data = t, c.push(p), u && (p.onclick = r.db, 
                    p.onmousemove = r.eb, p.onmouseout = r.fb, t.toolTip && (p.title = t.toolTip)), 
                    p.style.overflow = "hidden", p.style.height = s.headerHeight() + "px";
                    var m = document.createElement("div");
                    m.setAttribute("unselectable", "on"), m.style.userSelect = "none", m.style.position = "relative", 
                    m.style.height = s.headerHeight() + "px", m.className = r.C("_colheader");
                    var g = document.createElement("div");
                    g.className = r.C("_colheader_inner"), t.backColor && (g.style.background = t.backColor), 
                    m.appendChild(g), p.appendChild(m), r.zd(m, t), u && (m.firstChild.innerHTML = t.html), 
                    r.nav.header.appendChild(p);
                }
                var i = e + 1, n = this.oc(i), a = n.length, o = i === r.headerLevels, l = r.hd(), d = e * r.headerHeight, c = [];
                r.nav.header.rows.push({
                    cells: c
                });
                var h = r.xd(e);
                if (DayPilot.browser.ie) for (var u = a - 1; u >= 0; u--) t(u); else for (var u = 0; u < a; u++) t(u);
            }, this.Ad = function(e, t) {
                for (var i = t ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], n = this.oc(e), a = n.length, o = e === r.headerLevels, l = 0; l < a; l++) {
                    var d = n[l];
                    if (r.La() && "function" == typeof r.onBeforeHeaderRender) {
                        var c = {};
                        c.header = {}, DayPilot.Util.copyProps(d, c.header, [ "id", "start", "name", "html", "backColor", "toolTip", "areas", "children" ]), 
                        this.onBeforeHeaderRender(c), DayPilot.Util.copyProps(c.header, d, [ "html", "backColor", "toolTip", "areas" ]);
                    }
                    var h = !!d.getChildren, u = t ? i.insertCell(-1) : i.cells[l];
                    if (u.data = d, o) ; else {
                        var f = 1;
                        h && (f = d.getChildrenCount(r.headerLevels - e + 1)), u.colSpan = f;
                    }
                    h && (u.onclick = this.db, u.onmousemove = this.eb, u.onmouseout = this.fb, d.toolTip && (u.title = d.toolTip)), 
                    u.style.overflow = "hidden", u.style.padding = "0px", u.style.border = "0px none", 
                    u.style.height = s.headerHeight() + "px";
                    var v = t ? document.createElement("div") : u.firstChild;
                    if (t) {
                        v.setAttribute("unselectable", "on"), v.style.MozUserSelect = "none", v.style.KhtmlUserSelect = "none", 
                        v.style.WebkitUserSelect = "none", v.style.position = "relative", v.style.height = s.headerHeight() + "px", 
                        v.className = r.C("_colheader");
                        var p = document.createElement("div");
                        p.className = r.C("_colheader_inner"), d.backColor && (p.style.background = d.backColor), 
                        v.appendChild(p), u.appendChild(v);
                    } else v.style.height = s.headerHeight() + "px";
                    this.zd(v, d), h && (v.firstChild.innerHTML = d.html);
                }
            }, this.zd = function(e, t) {
                for (var i = [], n = 0; n < e.childNodes.length; n++) {
                    var a = e.childNodes[n];
                    a.isActiveArea && i.push(a);
                }
                for (var n = 0; n < i.length; n++) {
                    var a = i[n];
                    DayPilot.de(a);
                }
                if (t.areas) for (var o = t.areas, n = 0; n < o.length; n++) {
                    var s = o[n];
                    if (DayPilot.Areas.isVisible(s)) {
                        var l = r.cb(t), d = DayPilot.Areas.createArea(e, l, s);
                        e.appendChild(d);
                    }
                }
            }, this.wa = function() {
                r.J ? r.Bd() : r.Cd();
            }, this.Bd = function() {
                var e = r.nav.header;
                if (e.innerHTML = "", e.rows = [], this.showHeader) {
                    var t = this.oc(r.headerLevels, !0), i = t.length;
                    this.Dd = !0;
                    var n = r.nav.corner;
                    if (n) {
                        this.K || DayPilot.pu(n.firstChild);
                        var a = {};
                        a.html = r.cornerHTML || r.cornerHtml;
                        var o = null;
                        if (r.ca(), "function" == typeof r.onBeforeCornerRender && r.onBeforeCornerRender(a), 
                        "function" == typeof r.onBeforeCornerDomAdd && (a.element = null, r.onBeforeCornerDomAdd(a), 
                        o = a.element), o) {
                            var l = n.firstChild;
                            l.domArgs = a;
                            if (DayPilot.Util.isReactComponent(o)) {
                                if (!r.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                r.da.reactDOM.render(o, l);
                            } else l.appendChild(o);
                        } else n.firstChild.innerHTML = a.html || "";
                    }
                    for (var d = 0; d < r.headerLevels; d++) this.yd(d);
                    if (this.showAllDayEvents) {
                        var c = [];
                        r.nav.header.rows.push({
                            cells: c
                        });
                        for (var h = r.hd(), u = r.headerLevels * r.headerHeight, f = 0; f < i; f++) {
                            var v = t[f], p = h[f], m = document.createElement("div");
                            m.data = v, m.style.overflow = "hidden", m.style.position = "absolute", m.style.left = p.left + p.unit, 
                            m.style.right = p.left + p.unit, m.style.width = p.width + p.unit, m.style.top = u + "px";
                            var g = document.createElement("div");
                            g.setAttribute("unselectable", "on"), g.style.userSelect = "none", g.style.overflow = "hidden", 
                            g.style.position = "relative", g.style.height = s.allDayHeaderHeight() + "px", g.className = this.C("_alldayheader");
                            var y = document.createElement("div");
                            y.className = this.C("_alldayheader_inner"), g.appendChild(y), m.appendChild(g), 
                            g.style.height = s.allDayHeaderHeight() + "px", c.push(m), e.appendChild(m);
                        }
                    }
                }
            }, this.Cd = function() {
                if (this.showHeader) {
                    var e = this.nav.header, t = !0, i = this.oc(r.headerLevels, !0), n = i.length;
                    for (DayPilot.de(this.nav.header), this.bd(); this.Dd && e && e.rows && e.rows.length > 0; ) this.K || DayPilot.pu(e.rows[0]), 
                    e.deleteRow(0);
                    this.Dd = !0;
                    var a = r.nav.corner;
                    if (a) {
                        this.K || DayPilot.pu(a.firstChild);
                        var o = {};
                        o.html = r.cornerHTML || r.cornerHtml, "function" == typeof r.onBeforeCornerRender && r.onBeforeCornerRender(o), 
                        a.firstChild.innerHTML = o.html ? o.html : "";
                    }
                    for (var l = 0; l < r.headerLevels; l++) this.Ad(l + 1, t);
                    if (this.showAllDayEvents) for (var d = this.nav.header.insertRow(-1), l = 0; l < n; l++) {
                        var c = i[l], h = d.insertCell(-1);
                        h.data = c, h.style.padding = "0px", h.style.border = "0px none", h.style.overflow = "hidden";
                        var u = document.createElement("div");
                        u.setAttribute("unselectable", "on"), u.style.MozUserSelect = "none", u.style.KhtmlUserSelect = "none", 
                        u.style.WebkitUserSelect = "none", u.style.overflow = "hidden", u.style.position = "relative", 
                        u.style.height = s.allDayHeaderHeight() + "px", u.className = this.C("_alldayheader");
                        var f = document.createElement("div");
                        f.className = this.C("_alldayheader_inner"), u.appendChild(f), h.appendChild(u), 
                        u.style.height = s.allDayHeaderHeight() + "px";
                    }
                }
            }, this.U = function(e) {
                var t = e ? 0 : 100;
                this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.callbackTimeout = window.setTimeout(function() {
                    r.loadingLabelVisible && r.nav.loading && (r.nav.loading.innerHTML = r.loadingLabelText, 
                    r.nav.loading.style.top = r.Ua() + 5 + "px", r.nav.loading.style.display = "");
                }, t);
            }, this.na = function() {
                this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.nav.loading && (this.nav.loading.style.display = "none");
            }, this.Ed = function(e) {
                var t = r.Ta(!0);
                return e < t && (e += 24), (e - t) * (60 / r.cellDuration) * r.cellHeight;
            }, this.Fd = function() {
                var e = this.Sb(), t = this.initScrollPos;
                if (!t) {
                    var i = this.businessBeginsHour;
                    t = r.Ed(i);
                }
                e.root = this, e.onscroll = this.Rb, 0 === e.scrollTop ? e.scrollTop = t - this.Kb() : this.Rb();
            }, this.Gd = function() {
                var e = r.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
            }, this.Hd = function() {
                var e = r.Gd;
                e() || r.Id || (r.Id = setInterval(function() {
                    e() && (clearInterval(r.Id), r.Fd(), r.Da());
                }, 100));
            }, this.scrollToY = function(e) {
                this.Sb().scrollTop = e;
            }, this.scrollToHour = function(e) {
                var t = r.Ed(e);
                this.Sb().scrollTop = t - this.Kb();
            }, this.Sb = function() {
                return "Fixed" === this.columnWidthSpec || this.I ? this.nav.bottomRight : this.nav.scroll;
            }, this.onCallbackError = function(e, t) {
                alert("Error!\r\nResult: " + e + "\r\nContext:" + t);
            }, this.Da = function() {
                if (r.showHeader) {
                    var e = this._c(), t = !!this.nav.cornerRight;
                    if (this.I) {
                        this.nav.unifiedCornerRight && DayPilot.de(this.nav.unifiedCornerRight);
                        var i = (r.Sb(), r.nav.main.getBoundingClientRect().width), n = r.Qc();
                        if ("100%" != n && parseInt(n) < i) return;
                        var a, o = DayPilot.sw(this.nav.bottomRight);
                        r.J ? (a = document.createElement("div"), a.style.position = "absolute", a.style.left = i + "px", 
                        a.style.right = i + "px", a.style.height = r.Ua() + "px", r.nav.headerParent.appendChild(a), 
                        r.nav.unifiedCornerRight = a, r.nav.header.style.width = i + "px") : (this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1), 
                        a = this.nav.unifiedCornerRight, a.rowSpan = this.nav.header.rows.length), a.style.width = o + "px";
                        var s = document.createElement("div");
                        s.className = r.C("_cornerright"), s.setAttribute("unselectable", "on"), s.style.overflow = "hidden", 
                        s.style.height = this.Ua() + "px", s.style.position = "relative";
                        var l = document.createElement("div");
                        l.className = r.C("_cornerright_inner"), s.appendChild(l), a.appendChild(s);
                        return void (!("Fixed" === this.columnWidthSpec) && this.nav.allday && (r.rtl ? this.nav.allday.style.left = o + "px" : this.nav.allday.style.right = o + "px"));
                    }
                    if (e !== t) if (e) this.cd(); else {
                        if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) {
                            var a = this.nav.fullHeader.rows[0].cells[2];
                            a.parentNode && a.parentNode.removeChild(a);
                        }
                        this.nav.cornerRight = null;
                    }
                    var d = this.nav.cornerRight;
                    if (d) {
                        var o = DayPilot.sw(r.Va());
                        return d && (d.style.width = o + "px"), o;
                    }
                }
            }, this.Ka = function(e) {
                if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.M >= this.autoRefreshMaxCount)) {
                    this.Z();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10) throw "The minimum autoRefreshInterval is 10 seconds";
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        r.Jd();
                    }, 1e3 * this.autoRefreshInterval);
                }
            }, this.Z = function() {
                this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);
            }, this.Jd = function() {
                if (!(DayPilot.Global.resizing || DayPilot.Global.moving || t.drag || DayPilot.Global.selecting)) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var i = {};
                        i.i = this.M, i.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, r.onAutoRefresh(i), i.preventDefault.value && (e = !0);
                    }
                    !e && this.E() && this.commandCallBack(this.autoRefreshCommand), this.M++;
                }
                this.M < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    r.Jd();
                }, 1e3 * this.autoRefreshInterval));
            }, this.ea = function() {
                r.Ca(), "Parent100Pct" === r.heightSpec && r.setHeight(parseInt(r.nav.top.clientHeight, 10)), 
                r.Da(), r.Ja();
            }, this.Kd = function() {
                t.globalHandlers || (t.globalHandlers = !0, DayPilot.re(document, "mousemove", t.gMouseMove), 
                DayPilot.re(document, "mouseup", t.gMouseUp), DayPilot.re(document, DayPilot.touch.move, t.gTouchMove), 
                DayPilot.re(document, DayPilot.touch.end, t.gTouchEnd)), DayPilot.re(window, "resize", this.ea);
            }, this.yc = function(e) {
                if (!o.active && !o.using) {
                    e = e || window.event;
                    var i = DayPilot.Util.mouseButton(e);
                    if (t.editing) return void t.editing.blur();
                    if ("undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), 
                    "n-resize" !== this.style.cursor && "s-resize" !== this.style.cursor || !i.left) {
                        if (("move" === this.style.cursor || "Full" === r.moveBy && this.event.client.moveEnabled()) && i.left) {
                            DayPilot.Global.moving = this;
                            var n = DayPilot.Global.moving.helper = {};
                            n.oldColumn = r.Na[this.event.part.dayIndex].id, t.originalMouse = DayPilot.mc(e), 
                            t.originalTop = this.offsetTop;
                            var a = DayPilot.mo3(this, e);
                            a ? t.moveOffsetY = a.y : t.moveOffsetY = 0, r.nav.top.style.cursor = this.style.cursor;
                        }
                    } else DayPilot.Global.resizing = this, t.originalMouse = DayPilot.mc(e), t.originalHeight = this.offsetHeight, 
                    t.originalTop = this.offsetTop, r.nav.top.style.cursor = this.style.cursor;
                    return !1;
                }
            }, this.Ld = function(e) {
                var t = this.L.events, i = this.events.list[e], n = {};
                for (var a in i) n[a] = i[a];
                if (r.showEventStartEnd) {
                    var o = i.start.getDatePart().getTime() === i.end.getDatePart().getTime(), l = o ? s.locale().timePattern : s.locale().dateTimePattern, d = i.start.toString(l), c = i.end.toString(l);
                    n.html = n.text + " (" + d + " - " + c + ")";
                }
                if ("function" == typeof this.onBeforeEventRender) {
                    var h = {};
                    h.e = n, h.data = n, this.onBeforeEventRender(h);
                }
                t[e] = n;
            }, this.zc = {};
            var o = r.zc;
            o.active = !1, o.start = null, o.timeout = null, o.startcell = null, this.zc.getCellCoords = function(e) {
                var t, i;
                e.touches ? (t = e.touches[0].pageX, i = e.touches[0].pageY) : (t = e.pageX, i = e.pageY);
                var n = DayPilot.abs(r.nav.main), a = {
                    x: t - n.x,
                    y: i - n.y
                }, o = r.nav.main.clientWidth / r.Na.length;
                return {
                    pageX: t,
                    pageY: i,
                    x: Math.floor(a.x / o),
                    y: Math.floor(a.y / r.cellHeight),
                    toString: function() {
                        return "x: " + this.x + " y:" + this.y;
                    }
                };
            }, this.zc.startSelecting = function(e) {
                var i = r.nav.main.rows[e.y].cells[e.x];
                o.startcell = e, r.clearSelection(), t.column = t.getColumn(i), r.selectedCells.push(i), 
                t.firstSelected = i, t.topSelectedCell = i, t.bottomSelectedCell = i, DayPilot.Global.selecting = {
                    calendar: r
                }, r.Gb();
            }, this.zc.extendSelection = function(e) {
                var i = r.nav.main.rows[e.y].cells[e.x];
                r.clearSelection(), DayPilot.Global.selecting = {
                    calendar: r
                }, e.y < o.startcell.y ? (r.selectedCells = t.getCellsBelow(i), t.topSelectedCell = r.selectedCells[0], 
                t.bottomSelectedCell = t.firstSelected) : (r.selectedCells = t.getCellsAbove(i), 
                t.topSelectedCell = t.firstSelected, t.bottomSelectedCell = r.selectedCells[0]), 
                r.Gb();
            }, this.zc.detected = !1, this.zc.onMainTouchStart = function(e) {
                if (!(DayPilot.Util.isMouseEvent(e) || (o.start = !0, o.detected = !0, o.active || e.touches.length > 1))) {
                    o.using = !0;
                    var t = o.getCellCoords(e);
                    o.startCoords = t;
                    var i = r.tapAndHoldTimeout;
                    o.timeout = window.setTimeout(function() {
                        switch (e.preventDefault(), o.active = !0, o.start = !1, r.timeRangeTapAndHoldHandling) {
                          case "Select":
                            o.startSelecting(t);
                            break;

                          case "ContextMenu":
                            o.startSelecting(t), o.active = !1, r.contextMenuSelection && r.contextMenuSelection.show(r.getSelection());
                        }
                    }, i);
                }
            }, this.zc.onCellTouchMove = function(e) {}, this.zc.onCellTouchEnd = function(e) {
                if (!o.active) return window.clearTimeout(o.timeout), void (o.start && !function(e) {
                    if ("Disabled" !== r.timeRangeSelectedHandling) {
                        r.clearSelection(), r.selectedCells = [ e ], t.topSelectedCell = e, t.bottomSelectedCell = e, 
                        r.Gb();
                        var i = r.getSelection();
                        i.toString = function() {
                            return "start: " + this.start + "\nend: " + this.end;
                        }, setTimeout(function() {
                            r.xb(i.start, i.end, i.resource);
                        }, 10);
                    }
                }(this));
                e.preventDefault(), e.stopPropagation(), o.startcell = null, o.start = !1;
                var i = r.getSelection();
                i.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end;
                }, r.xb(i.start, i.end, i.resource), window.setTimeout(function() {
                    o.active = !1;
                }, 500);
            }, this.zc.startMoving = function(e, i) {
                DayPilot.Global.moving = e, (DayPilot.Global.moving.helper = {}).oldColumn = r.Na[e.event.part.dayIndex].id, 
                t.originalMouse = i, t.originalTop = this.offsetTop;
                var n = DayPilot.abs(e);
                t.moveOffsetY = i.y - n.y, t.movingShadow || (t.movingShadow = r.Ma(DayPilot.Global.moving, !r.P.ie), 
                t.movingShadow.style.width = t.movingShadow.parentNode.offsetWidth + 1 + "px");
            }, this.zc.startResizing = function(e, i, n) {
                DayPilot.Global.resizing = e, e.dpBorder = i, t.originalMouse = n, t.originalHeight = e.offsetHeight, 
                t.originalTop = e.offsetTop;
            }, this.zc.updateResizing = function(e) {
                r.pd(e);
            }, this.zc.updateMoving = function() {
                var e = r.coords, i = r.cellHeight, n = 0, a = t.moveOffsetY;
                a || (a = i / 2);
                var o = Math.floor((e.y - a - n + i / 2) / i) * i + n;
                o < n && (o = n);
                var s = r.nav.main, l = r.Nc(), d = parseInt(t.movingShadow.style.height);
                o + d > l && (o = l - d), t.movingShadow.style.top = o + "px", t.movingShadow.allowed = !0;
                var c = s.clientWidth / s.rows[0].cells.length, h = Math.floor(e.x / c);
                h < 0 && (h = 0);
                var u = r.nav.events;
                h < u.rows[0].cells.length && h >= 0 && t.movingShadow.column !== h && (t.movingShadow.column = h, 
                t.moveShadow(u.rows[0].cells[h]));
            }, this.zc.onEventTouchStart = function(e) {
                if (!o.active && !DayPilot.Util.isMouseEvent(e)) {
                    e.stopPropagation(), o.preventEventTap = !1, o.using = !0, o.startCoords = o.getCellCoords(e);
                    var t = this, i = e.touches ? e.touches[0].pageX : e.pageX, n = e.touches ? e.touches[0].pageY : e.pageY, a = {
                        x: i,
                        y: n,
                        div: this
                    };
                    r.coords = o.relativeCoords(e);
                    var s = r.tapAndHoldTimeout;
                    o.timeout = window.setTimeout(function() {
                        var i = t.event;
                        switch (o.active = !0, r.eventTapAndHoldHandling) {
                          case "Move":
                            i.client.moveEnabled() && o.startMoving(t, a);
                            break;

                          case "ContextMenu":
                            var n = i.client.contextMenu();
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e), n ? n.show(i) : r.contextMenu && r.contextMenu.show(i);
                        }
                    }, s);
                }
            }, this.zc.onMainTouchMove = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    if (o.start = !1, o.timeout) {
                        var i = o.getCellCoords(e);
                        i && o.startCoords && (i.pageX === o.startCoords.pageX && i.pageY === o.startCoords.pageY || window.clearTimeout(r.zc.timeout));
                    }
                    if (DayPilot.Global.moving && t.movingShadow) return e.preventDefault(), r.coords = o.relativeCoords(e), 
                    void o.updateMoving();
                    if (DayPilot.Global.resizing) {
                        e.preventDefault();
                        var n = e.touches ? e.touches[0] : e, i = {
                            x: n.pageX,
                            y: n.pageY
                        };
                        return void o.updateResizing(i);
                    }
                    if (o.startcell) {
                        if (e.preventDefault(), !o.active) return void window.clearTimeout(o.timeout);
                        var i = o.getCellCoords(e);
                        o.extendSelection(i);
                    }
                    o.preventEventTap = !0;
                }
            }, this.zc.relativeCoords = function(e) {
                var t = r.nav.main, i = e.touches ? e.touches[0].pageX : e.pageX, n = e.touches ? e.touches[0].pageY : e.pageY, a = DayPilot.abs(t);
                return {
                    x: i - a.x,
                    y: n - a.y,
                    toString: function() {
                        return "x: " + this.x + ", y:" + this.y;
                    }
                };
            }, this.zc.onMainTouchEnd = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) if (DayPilot.Global.moving) {
                    o.active = !1, e.preventDefault(), e.stopPropagation();
                    var i = t.movingShadow.offsetTop, n = DayPilot.Global.moving.event, a = n.calendar;
                    a.Nb(t.movingShadow);
                    var r = t.movingShadow.column, s = t.movingShadow;
                    if (DayPilot.Global.moving = null, t.movingShadow = null, !s.allowed) return;
                    n.calendar.pb(n, r, i, e, t.drag);
                } else if (o.startcell) {
                    if (!o.active) return void window.clearTimeout(o.timeout);
                    e.preventDefault(), o.startcell = null;
                    var l = a.getSelection();
                    l.toString = function() {
                        return "start: " + this.start + "\nend: " + this.end;
                    }, a.xb(l.start, l.end, l.resource), window.setTimeout(function() {
                        o.active = !1;
                    }, 500);
                }
            }, this.zc.onEventTouchMove = function(e) {
                o.preventEventTap = !0;
            }, this.zc.onEventTouchEnd = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    if (!o.active) {
                        if (o.preventEventTap) return;
                        return window.clearTimeout(o.timeout), void r.Za(this, !1, !1, e);
                    }
                    return o.active = !1, o.timeout ? void window.clearTimeout(o.timeout) : void 0;
                }
            }, this.wc = function(e) {
                var i = 5, n = 10, a = "Top" === r.moveBy;
                if ("undefined" != typeof t) {
                    var o = DayPilot.mo3(this, e);
                    if (o) {
                        r.eventOffset = o;
                        var s = this;
                        if (s.active || DayPilot.Util.addClass(s, r.C("_event_hover")), !DayPilot.Global.resizing && !DayPilot.Global.moving) {
                            var l = this.isFirst, d = this.isLast;
                            if ("Disabled" !== r.moveBy && "None" !== r.moveBy && (!a && o.x <= n && this.event.client.moveEnabled() ? l ? this.style.cursor = "move" : this.style.cursor = "not-allowed" : !a && o.y <= i && this.event.client.resizeEnabled() ? l ? (this.style.cursor = "n-resize", 
                            this.dpBorder = "top") : this.style.cursor = "not-allowed" : a && o.y <= n && this.event.client.moveEnabled() ? this.style.cursor = "move" : this.offsetHeight - o.y <= i && this.event.client.resizeEnabled() ? d ? (this.style.cursor = "s-resize", 
                            this.dpBorder = "bottom") : this.style.cursor = "not-allowed" : DayPilot.Global.resizing || DayPilot.Global.moving || (this.event.client.clickEnabled() ? this.style.cursor = "pointer" : this.style.cursor = "default"), 
                            "undefined" != typeof DayPilot.Bubble && r.bubble && "Disabled" !== r.eventHoverHandling && ("default" === this.style.cursor || "pointer" === this.style.cursor))) {
                                this.Md && o.x === this.Md.x && o.y === this.Md.y || (this.Md = o, r.bubble.showEvent(this.event));
                            }
                        }
                    }
                }
            }, this.xc = function(e) {
                DayPilot.Util.removeClass(this, r.C("_event_hover")), r.bubble && r.bubble.hideOnMouseOut(), 
                DayPilot.Areas.hideAreas(this, e);
            }, this.Nd = null, this.Fa = function() {
                if (this.showCurrentTime) {
                    this.Od();
                    var e = new DayPilot.Date().addMinutes(r.showCurrentTimeOffset);
                    if ("Full" === r.showCurrentTimeMode) this.Pd(e); else {
                        if ("Day" !== r.showCurrentTimeMode) throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: " + r.showCurrentTimeMode;
                        this.Qd(e);
                    }
                    if (this.nav.events && !this.Nd) {
                        this.Nd = setTimeout(function() {
                            r.Nd = null, r.Fa();
                        }, 3e4);
                    }
                }
            }, this.Od = function() {
                DayPilot.de(r.elements.separators), r.elements.separators = [];
            }, this.Qd = function(e) {
                var t = e.getTime(), i = r.nav.events;
                if (i) for (var n = 0; n < r.Na.length; n++) {
                    var a = r.Na[n], o = r.Pa(!0), s = new DayPilot.Date(a.start).addHours(this.Ta(!0)), l = s.getTime(), d = s.addTime(o), c = d.getTime();
                    if (l <= t && t <= c) {
                        var h = this.Jb(e, a.start).top - 1 - r.Kb(), u = i.rows[0].cells[n], f = u.separators, v = document.createElement("div");
                        v.style.position = "absolute", v.style.top = h + "px", v.style.height = "1px", v.style.left = "0px", 
                        v.style.right = "0px", v.className = r.C("_now"), f.insertBefore(v, f.firstChild), 
                        r.elements.separators.push(v);
                    }
                }
            }, this.Pd = function(e) {
                var t = e.getTime();
                if (r.nav.events) {
                    var i = r.Na[0];
                    if (i) for (var n = i.start.getDatePart().addTime(e.getTimePart()), a = this.Jb(n, i.start).top - 1, o = 0; o < r.Na.length; o++) {
                        var i = r.Na[o], s = r.Pa(!0), l = new DayPilot.Date(i.start).addHours(this.Ta(!0)), d = l.getTime(), c = l.addTime(s), h = c.getTime();
                        if (d <= t && t <= h) {
                            var u = document.createElement("div");
                            return u.style.position = "absolute", u.style.top = a + "px", u.style.height = "1px", 
                            u.style.left = "0px", u.style.right = "0px", u.className = r.C("_now"), r.nav.events.appendChild(u), 
                            void r.elements.separators.push(u);
                        }
                    }
                }
            }, this.ta = function(e) {
                if (e ? this.events.list = e : e = this.events.list, e) {
                    this.sc = {}, this.sc.events = [], this.sc.lines = [];
                    var t = e.length, i = this.Pa(!0);
                    this.L.pixels = {};
                    var n = [];
                    this.Ub = [], this.ib = 1e4, this.Sa = 0, this.startDate = new DayPilot.Date(this.startDate);
                    for (var a = 0; a < t; a++) {
                        var o = e[a];
                        if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object");
                        if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                        o.start = new DayPilot.Date(o.start), o.end = new DayPilot.Date(o.end);
                    }
                    if ("function" == typeof this.onBeforeEventRender || r.showEventStartEnd) for (var a = 0; a < t; a++) this.Ld(a);
                    for (var l = "Resources" === this.viewType, d = this.pc(), c = d.start, h = d.end, a = 0; a < this.Na.length; a++) {
                        var u = {};
                        u.minEnd = 1e6, u.maxStart = -1, this.Ub.push(u);
                        var f = this.Na[a];
                        f.events = [], f.lines = [], f.blocks = [];
                        var v = new DayPilot.Date(f.start).addHours(this.Ta(!0)), p = v.getTime(), m = v.addTime(i), g = m.getTime();
                        l && (c = v.getDatePart(), h = v.addDays(1));
                        for (var y = 0; y < t; y++) if (!n[y]) {
                            var o = e[y], b = null;
                            if ("function" == typeof r.onBeforeEventRender && (b = r.L.events[y]), b) {
                                if (b.hidden) continue;
                            } else if (o.hidden) continue;
                            var w = o.start, k = o.end, C = w.getTime(), x = k.getTime();
                            if (!(x < C)) if (o.allday) {
                                var S = !1;
                                if (S = C === x ? !(x < c.getTime() || C >= h.getTime()) : "Date" === r.allDayEnd ? !(x < c.getTime() || C >= h.getTime()) : !(x <= c.getTime() || C >= h.getTime()), 
                                l && (S = S && (o.resource === f.id || "*" === f.id)), S) {
                                    var E = new DayPilot.Event(o, this);
                                    if (E.part.start = c.getTime() < C ? w : c, E.part.end = h.getTime() > x ? k : h, 
                                    E.part.colStart = DayPilot.DateUtil.daysDiff(c, E.part.start), E.part.colWidth = DayPilot.DateUtil.daysSpan(E.part.start, E.part.end) + 1, 
                                    l && (E.part.colStart = a, E.part.colWidth = 1), "function" == typeof r.onEventFilter && r.events.Rd) {
                                        var T = {};
                                        if (T.filter = r.events.Rd, T.visible = !0, T.e = E, r.onEventFilter(T), !T.visible) continue;
                                    }
                                    this.sc.events.push(E), ("function" == typeof this.onBeforeEventRender || r.showEventStartEnd) && (E.cache = this.L.events[y]), 
                                    n[y] = !0, !l || E.part.start.getTime() === C && E.part.end.getTime() === x || (n[y] = !1);
                                }
                            } else {
                                var b = null;
                                if ("function" == typeof r.onBeforeEventRender && (b = r.L.events[y]), b) {
                                    if (b.hidden) continue;
                                } else if (o.hidden) continue;
                                var S = !1;
                                if (S = l ? f.id === o.resource && !(x <= p || C >= g) : !(x <= p || C >= g) || x === C && C === p) {
                                    var E = new DayPilot.Event(o, r);
                                    E.part.dayIndex = a, E.part.start = p < C ? w : v, E.part.end = g > x ? k : m;
                                    var A = this.Jb(E.part.start, f.start), D = this.Jb(E.part.end, f.start), H = A.top, M = D.top;
                                    if (H === M && (A.cut || D.cut)) continue;
                                    E.part.box = s.useBox(x - C);
                                    var _ = 0;
                                    if (E.part.box) {
                                        var R = D.boxBottom;
                                        E.part.top = Math.floor(H / this.cellHeight) * this.cellHeight + _, E.part.height = Math.max(Math.ceil(R / this.cellHeight) * this.cellHeight - E.part.top, this.cellHeight - 1), 
                                        E.part.barTop = Math.max(H - E.part.top - 1, 0), E.part.barHeight = Math.max(M - H - 2, 1);
                                    } else E.part.top = H + _, E.part.height = Math.max(M - H, 0), E.part.barTop = 0, 
                                    E.part.barHeight = Math.max(M - H - 2, 1);
                                    if ("function" == typeof r.onEventFilter && r.events.Rd) {
                                        var T = {};
                                        if (T.filter = r.events.Rd, T.visible = !0, T.e = E, r.onEventFilter(T), !T.visible) continue;
                                    }
                                    var w = E.part.top, k = E.part.top + E.part.height;
                                    w > u.maxStart && (u.maxStart = w), k < u.minEnd && (u.minEnd = k), w < this.ib && (this.ib = w), 
                                    k > this.Sa && (this.Sa = k), f.events.push(E), ("function" == typeof this.onBeforeEventRender || r.showEventStartEnd) && (E.cache = this.L.events[y]), 
                                    E.part.start.getTime() === C && E.part.end.getTime() === x && (n[y] = !0);
                                }
                            }
                        }
                    }
                    for (var a = 0; a < this.Na.length; a++) {
                        var f = this.Na[a];
                        f.events.sort(this.Sd);
                        for (var y = 0; y < f.events.length; y++) {
                            var o = f.events[y];
                            f.putIntoBlock(o);
                        }
                        for (var y = 0; y < f.blocks.length; y++) {
                            var B = f.blocks[y];
                            B.events.sort(this.Td);
                            for (var P = 0; P < B.events.length; P++) {
                                var o = B.events[P];
                                B.putIntoLine(o);
                            }
                        }
                    }
                    this.sc.events.sort(this.Td), this.sc.putIntoLine = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var i = this.lines[t];
                            if (i.isFree(e.part.colStart, e.part.colWidth)) return i.push(e), t;
                        }
                        var i = [];
                        return i.isFree = function(e, t) {
                            for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {
                                var r = this[a];
                                if (!(i < r.part.colStart || e > r.part.colStart + r.part.colWidth - 1)) return !1;
                            }
                            return !0;
                        }, i.push(e), this.lines.push(i), this.lines.length - 1;
                    };
                    for (var a = 0; a < this.sc.events.length; a++) {
                        var o = this.sc.events[a];
                        this.sc.putIntoLine(o);
                    }
                    var N = Math.max(this.sc.lines.length, 1);
                    this.L.allDayHeaderHeight = N * (s.allDayEventHeight() + 2) + 2;
                }
            }, this.Sd = function(e, t) {
                if (!(e && t && e.start && t.start)) return 0;
                var i = e.start().ticks - t.start().ticks;
                return 0 !== i ? i : t.end().ticks - e.end().ticks;
            }, this.Td = function(e, t) {
                if (!e || !t) return 0;
                if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return r.Sd(e, t);
                for (var i = 0, n = 0; 0 === i && "undefined" != typeof e.data.sort[n] && "undefined" != typeof t.data.sort[n]; ) i = e.data.sort[n] === t.data.sort[n] ? 0 : "number" == typeof e.data.sort[n] && "number" == typeof t.data.sort[n] ? e.data.sort[n] - t.data.sort[n] : r.Ud(e.data.sort[n], t.data.sort[n], r.sortDirections[n]), 
                n++;
                return i;
            }, this.Ud = function(e, t, i) {
                var n = "desc" !== i, a = n ? -1 : 1, r = -a;
                if (null === e && null === t) return 0;
                if (null === t) return r;
                if (null === e) return a;
                var o = [];
                return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r;
            }, this.Vd = function(e) {
                for (var t = 0; t < r.elements.events.length; t++) {
                    var i = r.elements.events[t];
                    if (i.event === e || i.event.data === e.data) return i;
                }
                return null;
            }, this.events.find = function(e) {
                if (!r.events.list || "undefined" == typeof r.events.list.length) return null;
                for (var t = r.events.list.length, i = 0; i < t; i++) if (r.events.list[i].id === e) return new DayPilot.Event(r.events.list[i], r);
                return null;
            }, this.events.findRecurrent = function(e, t) {
                if (!r.events.list || "undefined" == typeof r.events.list.length) return null;
                for (var i = r.events.list.length, n = 0; n < i; n++) if (r.events.list[n].recurrentMasterId === e && r.events.list[n].start.getTime() === t.getTime()) return new DayPilot.Event(r.events.list[n], r);
                return null;
            }, this.events.all = function() {
                for (var e = [], t = 0; t < r.events.list.length; t++) {
                    var i = new DayPilot.Event(r.events.list[t], r);
                    e.push(i);
                }
                return DayPilot.list(e);
            }, this.events.edit = function(e) {
                function t() {
                    var t = r.Vd(e);
                    t && r.$a(t);
                }
                t();
            }, this.events.update = function(e, t) {
                var i = {};
                i.oldEvent = new DayPilot.Event(e.copy(), r), i.newEvent = new DayPilot.Event(e.temp(), r);
                var n = new DayPilot.Action(r, "EventUpdate", i, t);
                return e.commit(), r.N && r.kc({
                    eventsOnly: !0
                }), r.Wd.notify(), n;
            }, this.events.remove = function(e, t) {
                var i = {};
                i.e = new DayPilot.Event(e.data, r);
                var n = new DayPilot.Action(r, "EventRemove", i, t), a = DayPilot.indexOf(r.events.list, e.data);
                return r.events.list.splice(a, 1), r.N && r.kc({
                    eventsOnly: !0
                }), r.Wd.notify(), n;
            }, this.events.add = function(e, t) {
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = r, r.events.list || (r.events.list = []), 
                r.events.list.push(e.data);
                var i = {};
                i.e = e;
                var n = new DayPilot.Action(r, "EventAdd", i, t);
                return r.N && r.kc({
                    eventsOnly: !0
                }), r.Wd.notify(), n;
            }, this.events.filter = function(e) {
                r.events.Rd = e, r.kc({
                    eventsOnly: !0
                });
            }, this.events.load = function(e, t, i) {
                var n = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, a = function(e) {
                    var i, a = e.request;
                    try {
                        i = JSON.parse(a.responseText);
                    } catch (e) {
                        var o = {};
                        return o.exception = e, void n(o);
                    }
                    if (DayPilot.isArray(i)) {
                        var s = {};
                        if (s.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, s.data = i, "function" == typeof t && t(s), s.preventDefault.value) return;
                        r.events.list = i, r.N && r.kc({
                            eventsOnly: !0
                        });
                    }
                };
                if (r.eventsLoadMethod && "POST" === r.eventsLoadMethod.toUpperCase()) DayPilot.ajax({
                    method: "POST",
                    data: {
                        start: r.visibleStart().toString(),
                        end: r.visibleEnd().toString()
                    },
                    url: e,
                    success: a,
                    error: n
                }); else {
                    var o = e, s = "start=" + r.visibleStart().toString() + "&end=" + r.visibleEnd().toString();
                    o += o.indexOf("?") > -1 ? "&" + s : "?" + s, DayPilot.ajax({
                        method: "GET",
                        url: o,
                        success: a,
                        error: n
                    });
                }
            }, this.events.forRange = function(e, t) {
                return e = new DayPilot.Date(e), t = new DayPilot.Date(t), DayPilot.list(r.events.list).filter(function(i) {
                    var n = new DayPilot.Date(i.start), a = new DayPilot.Date(i.end);
                    return DayPilot.Util.overlaps(e, t, n, a);
                }).map(function(e) {
                    return new DayPilot.Event(e, r);
                });
            }, this.events.Hb = function(e) {
                if (!e) throw new DayPilot.Exception("Error checking overlap for null (internal error)");
                var t = e instanceof DayPilot.Event ? e.data : e, i = new DayPilot.Date(t.start), n = new DayPilot.Date(t.end);
                return !!DayPilot.list(r.events.list).find(function(e) {
                    if (r.Xd(t, e)) return !1;
                    if ("Resources" == r.viewType && t.resource !== e.resource) return !1;
                    if (e.allday) return !1;
                    var a = new DayPilot.Date(e.start), o = new DayPilot.Date(e.end);
                    return DayPilot.Util.overlaps(i, n, a, o);
                });
            }, this.Xd = function(e, t) {
                return DayPilot.Util.isSameEvent(e, t);
            }, this.da = {}, this.da.reactDOM = null, this.da.react = null, this.queue = {}, 
            this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction) throw "DayPilot.Action object required for queue.add()";
                    r.queue.list.push(e);
                }
            }, this.queue.notify = function(e) {
                var t = {};
                t.actions = r.queue.list, r.T("Notify", t, e, "Notify"), r.queue.list = [];
            }, this.queue.clear = function() {
                r.queue.list = [];
            }, this.queue.pop = function() {
                return r.queue.list.pop();
            }, this.kc = function(e) {
                if (this.N && this.Na) {
                    var e = e || {}, t = !e.eventsOnly;
                    r.cssOnly || (r.cssOnly = !0), t ? (this.E() || (r.cellProperties = {}), r.$c.clearCache(), 
                    r._(), r.Yd(), r.ra(), r.ta(), r.wa(), r.xa(), r.va(), r.ya(), r.za(), r.Q(), r.Aa(), 
                    r.Gb(), r.Ba(), r.Ca(), r.Da(), r.Ea(), r.Zd(), r.Ha(), r.Ia(), r.Fa(), r.Ja()) : (r._(), 
                    r.ta(), r.va(), r.Ha(), r.Ia(), r.Ja()), this.visible ? this.show() : this.hide();
                }
            }, this.update = function(e) {
                if (r.$d) throw new DayPilot.Exception("This DayPilot.Calendar instance has been disposed.");
                if (!r.N) return void r._d(e);
                if (DayPilot.Util.isOnlyProperty(e, "events")) return r.events.list = e.events, 
                void r.kc({
                    eventsOnly: !0
                });
                if (this._d(e), this.kc(), "function" == typeof r.onAfterRender) {
                    var t = {};
                    t.isUpdate = !0, t.data = null, r.onAfterRender(t);
                }
            }, this.Zd = function() {
                if (r.nav.top.className !== r.C("_main")) {
                    r.nav.top.className = r.C("_main");
                    var e = r.nav.corner;
                    e.className = r.C("_corner"), e.firstChild.className = r.C("_corner_inner");
                    var t = r.nav.unifiedCornerRight;
                    t && (t.firstChild.className = r.C("_cornerright"), t.firstChild.firstChild.className = r.C("_cornerright_inner"));
                }
            }, this.show = function() {
                r.visible = !0, r.nav.top.style.display = "", r.ea(), r.Da(), r.Rb();
            }, this.hide = function() {
                r.visible = !1, r.nav.top.style.display = "none";
            }, this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function() {
                r.Wd.scope && r.Wd.scope["$apply"]();
            }, this.debug = new DayPilot.Debug(this), this.qd = function(e) {
                if (e < 0) return null;
                r.rtl && (e = r.nav.main.offsetWidth - e);
                for (var t = 0, i = r.nav.events.rows[0].cells, n = 0; n < i.length; n++) {
                    if (t += i[n].offsetWidth, e < t) return n;
                }
                return null;
            }, this.Jb = function(e, t) {
                t || (t = this.startDate);
                var i = t.getTime(), n = e.getTime(), a = this.L.pixels[n + "_" + i];
                if (a) return a;
                this.Ta(!0);
                i = t.addHours(this.Ta(!0)).getTime();
                var r = 60 * this.cellDuration * 1e3, o = n - i, s = o % r, l = o - s, d = l + r;
                0 === s && (d = l);
                var c = {};
                return c.cut = !1, c.top = this.md(o), c.boxTop = this.md(l), c.boxBottom = this.md(d), 
                this.L.pixels[n + "_" + i] = c, c;
            }, this.md = function(e) {
                return Math.floor(this.cellHeight * e / (6e4 * this.cellDuration));
            }, this.Yd = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.ae = s.allDayEventHeight() + 4;
            }, this.va = function() {
                var e = this.Ua(), t = this.Dc();
                if (this.nav.corner && (this.nav.corner.style.height = e + "px"), this.nav.cornerRight && (this.nav.cornerRight.style.height = e + "px"), 
                this.nav.mid && (this.nav.mid.style.height = e + "px"), this.showAllDayEvents && this.nav.header) for (var i = this.nav.header.rows[this.nav.header.rows.length - 1], n = 0; n < i.cells.length; n++) {
                    var a = i.cells[n];
                    a.firstChild.style.height = s.allDayHeaderHeight() + "px";
                }
                this.nav.upperRight && (this.nav.upperRight.style.height = e + "px"), this.nav.scroll.style.top = e + "px", 
                this.nav.top.style.height = t + "px";
            }, this.Ca = function() {
                var e = this.Ec();
                this.nav.scroll && e > 0 && (this.nav.scroll.style.height = e + "px", this.Tb = r.nav.scroll.clientHeight, 
                this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + "px"), this.nav.bottomRight && (this.nav.bottomRight.style.height = e + "px")), 
                "Parent100Pct" === this.heightSpec ? this.nav.top.style.height = "100%" : this.nav.top.style.height = this.Dc() + "px";
            }, this.setHeight = function(e) {
                "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - this.Ua(), 
                this.Ca();
            }, this.be = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", 
                t.className = this.C(e), document.body.appendChild(t);
                var i = t.offsetHeight, n = t.offsetWidth;
                document.body.removeChild(t);
                var a = {};
                return a.height = i, a.width = n, a;
            }, this.$c = {};
            var s = this.$c;
            s.locale = function() {
                return DayPilot.Locale.find(r.locale);
            }, s.weekStarts = function() {
                return "number" == typeof r.weekStarts ? r.weekStarts : s.locale().weekStarts;
            }, s.timeFormat = function() {
                return "Auto" !== r.timeFormat ? r.timeFormat : this.locale().timeFormat;
            }, s.useBox = function(e) {
                return "Always" === r.useEventBoxes || "Never" !== r.useEventBoxes && e < 60 * r.cellDuration * 1e3;
            }, s.notifyType = function() {
                var e;
                if ("Immediate" === r.notifyCommit) e = "Notify"; else {
                    if ("Queue" !== r.notifyCommit) throw "Invalid notifyCommit value: " + r.notifyCommit;
                    e = "Queue";
                }
                return e;
            }, s.clearCache = function() {
                delete r.L.allDayEventHeight, delete r.L.allDayHeaderHeight, delete r.L.headerHeight;
            }, s.allDayEventHeight = function() {
                if (r.L.allDayEventHeight) return r.L.allDayEventHeight;
                var e = r.be("_alldayevent_height").height;
                return e || (e = r.allDayEventHeight), r.L.allDayEventHeight = e, e;
            }, s.allDayHeaderHeight = function() {
                if (r.L.allDayHeaderHeight) return r.L.allDayHeaderHeight;
                var e = r.ae;
                return r.L.allDayHeaderHeight = e, e;
            }, s.headerHeight = function() {
                if (r.L.headerHeight) return r.L.headerHeight;
                var e = r.be("_header_height").height;
                return e || (e = r.headerHeight), r.L.headerHeight = e, e;
            }, this.exportAs = function(e, t) {
                if (!r.Gd()) throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");
                var i = l.generate(e, t);
                return new DayPilot.Export(i);
            }, this.ce = {};
            var l = this.ce;
            l.ee = null, l.fe = null, l.generate = function(e, t) {
                "object" == typeof e && (t = e, e = null);
                var t = t || {}, e = e || t.format || "svg", i = t.scale || 1;
                if ("config" !== e) {
                    "jpg" === e.toLowerCase() && (e = "jpeg");
                    var n = t.area || "viewport";
                    l.ee = t, l.fe = n;
                    var a, o = l.getWidth(), d = l.getHeight();
                    switch (e.toLowerCase()) {
                      case "svg":
                        a = new DayPilot.Svg(o, d);
                        break;

                      case "png":
                        a = new DayPilot.Canvas(o, d, "image/png", i);
                        break;

                      case "jpeg":
                        a = new DayPilot.Canvas(o, d, "image/jpeg", i, t.quality);
                        break;

                      default:
                        throw "Export format not supported: " + e;
                    }
                    var c = l.getRectangles(), h = new DayPilot.StyleReader(r.nav.top).getBackColor(), u = new DayPilot.StyleReader(r.nav.top).get("border-top-color");
                    "0px" !== new DayPilot.StyleReader(r.nav.top).get("border-top-width") || (u = "white");
                    var f = new DayPilot.StyleReader(r.nav.corner.firstChild).getBackColor(h), v = r.nav.hourTable.rows[0].cells[0].firstChild.firstChild, p = new DayPilot.StyleReader(v).get("border-right-color"), m = new DayPilot.StyleReader(v).getBackColor(h), g = new DayPilot.StyleReader(v).getFont(), y = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getFont(), b = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx("padding-right"), w = new DayPilot.StyleReader(v).get("color"), k = r.nav.header.rows[0].cells[0].firstChild.firstChild, C = new DayPilot.StyleReader(k).getBackColor(h), x = new DayPilot.StyleReader(k).getFont(), S = new DayPilot.StyleReader(k).get("color"), E = new DayPilot.StyleReader(k).get("border-right-color"), T = r.nav.header.rows[r.nav.header.rows.length - 1].cells[0].firstChild, A = T.firstChild, D = new DayPilot.StyleReader(T).getBackColor(h), H = new DayPilot.StyleReader(A).getBackColor(D), M = r.nav.main.rows[0].cells[0].firstChild.firstChild, _ = new DayPilot.StyleReader(M).get("border-right-color"), M = l.fakeCell(), R = new DayPilot.StyleReader(M.firstChild).getBackColor();
                    DayPilot.Util.addClass(M, r.C("_cell_business"));
                    var B = new DayPilot.StyleReader(M.firstChild).getBackColor();
                    DayPilot.de(M);
                    var P = l.getViewportOffsetTop(), N = 0;
                    N = "Fixed" === r.columnWidthSpec ? r.columnWidth : c.gridContent.w / r.Na.length, 
                    a.fillRect(c.main, "white"), a.fillRect(c.main, h);
                    var L = c.corner.h - P;
                    DayPilot.list.for(r.Sc(), function(e) {
                        return r.Xc(e);
                    }).each(function(e) {
                        var t = r.Uc(), i = e.hour, n = e.sup, o = i, s = 20, l = {
                            x: 0,
                            y: L,
                            w: c.grid.x + 1,
                            h: t + 1
                        }, d = {
                            x: 0,
                            y: L,
                            w: c.grid.x + 1 - s,
                            h: t + 1
                        }, h = {
                            x: d.w,
                            y: L,
                            w: s - b - 1,
                            h: t + 1
                        }, u = m;
                        a.fillRect(l, u), a.text(d, o, g, w, "right"), a.text(h, n, y, w, "right"), a.rect(l, p), 
                        L += t;
                    });
                    var U = 60 * r.cellDuration * 1e3, z = c.grid.x;
                    DayPilot.list(r.Na).each(function(e, t) {
                        var i = N, n = c.grid.y - P;
                        DayPilot.list.for(r.Xa()).each(function(o, s) {
                            var d = r.kd(t, s) || {}, c = null;
                            if (d.cssClass) {
                                var h = l.fakeCell();
                                DayPilot.Util.addClass(h, d.cssClass), c = new DayPilot.StyleReader(h.firstChild).getBackColor(), 
                                DayPilot.de(h);
                            }
                            var u = r.cellHeight, f = {
                                x: z,
                                y: n,
                                w: i + 1,
                                h: u + 1
                            }, v = d.business, p = {};
                            p.cell = {}, p.cell.start = e.start.addTime(s * U).addHours(r.Ta()), p.cell.end = p.cell.start.addTime(U), 
                            p.cell.resource = e.id, DayPilot.Util.copyProps(d, p.cell, [ "cssClass", "html", "backImage", "backRepeat", "backColor", "business" ]), 
                            p.backColor = c || (v ? B : R), "function" == typeof r.onBeforeCellExport && r.onBeforeCellExport(p), 
                            a.fillRect(f, p.backColor), a.rect(f, _), n += u;
                        }), z += i;
                    });
                    var O = c.grid.x;
                    DayPilot.list(r.Na).each(function(e) {
                        DayPilot.list(e.events).each(function(e) {
                            var t = e.cache || e.data, i = l.fakeEvent();
                            i.className += " " + t.cssClass;
                            var n = i.firstChild, o = i.childNodes[1], s = new DayPilot.StyleReader(n).getBackColor(), d = new DayPilot.StyleReader(n.firstChild).getBackColor(), h = new DayPilot.StyleReader(n.firstChild).getPx("width"), u = new DayPilot.StyleReader(o).get("border-right-color"), f = new DayPilot.StyleReader(o).getFont(), v = new DayPilot.StyleReader(o).get("color"), p = new DayPilot.StyleReader(o).getBackColor(), m = {};
                            m.left = new DayPilot.StyleReader(o).getPx("padding-left"), m.right = new DayPilot.StyleReader(o).getPx("padding-right"), 
                            m.top = new DayPilot.StyleReader(o).getPx("padding-top"), m.bottom = new DayPilot.StyleReader(o).getPx("padding-bottom"), 
                            DayPilot.de(i);
                            var g = O + N * e.part.left / 100, y = (N - r.columnMarginRight) * e.part.width / 100, b = e.part.top + c.grid.y - r.Kb() - P, w = e.part.height, k = t.backColor || p, C = t.barColor || d, x = t.barBackColor || s, S = {};
                            S.e = e, S.text = e.text ? e.text() : e.client.html(), S.fontSize = f.size, S.fontFamily = f.family, 
                            S.fontStyle = f.style, S.fontColor = v, S.backColor = k, S.borderColor = u, S.horizontalAlignment = "left", 
                            S.barWidth = h, S.barColor = C, S.barBackColor = x, "function" == typeof r.onBeforeEventExport && r.onBeforeEventExport(S);
                            var E = {
                                x: g,
                                y: b,
                                w: y + 1,
                                h: w + 1
                            }, T = DayPilot.Util.copyProps(E);
                            e.client.barVisible() && (T.x += h, T.w -= h);
                            var A = DayPilot.Util.copyProps(T);
                            if (A.x += m.left, A.w -= m.left + m.right, A.y += m.top, A.h -= m.top + m.bottom, 
                            a.fillRect(E, S.backColor), e.client.barVisible()) {
                                var D = {
                                    x: E.x,
                                    y: E.y,
                                    w: S.barWidth,
                                    h: E.h
                                }, H = {
                                    x: E.x,
                                    y: E.y + 1 + e.part.barTop,
                                    w: S.barWidth,
                                    h: e.part.barHeight + 1
                                };
                                a.fillRect(D, S.barBackColor), a.fillRect(H, S.barColor);
                            }
                            a.text(A, S.text, {
                                size: S.fontSize,
                                family: S.fontFamily,
                                style: S.fontStyle
                            }, S.fontColor, S.horizontalAlignment), a.rect(E, S.borderColor);
                            var g = E.x, M = E.x + E.w - 2, b = E.y;
                            DayPilot.list(t.areas).each(function(t) {
                                if (DayPilot.Areas.isVisible(t)) {
                                    var i = t.left;
                                    t.start && (i = r.getPixels(new DayPilot.Date(t.start)).left - e.part.left);
                                    var n = t.width || t.w, o = t.height || t.h;
                                    i || (i = M - n - g), t.right ? n = e.part.width - t.right - i : t.end && (n = r.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                    var s = t.top;
                                    "number" == typeof t.bottom && (o = e.part.height - t.bottom - s);
                                    var l = {
                                        x: g + i,
                                        y: b + s,
                                        w: n,
                                        h: o
                                    };
                                    if (t.backColor && a.fillRect(l, t.backColor), t.image) {
                                        var d = new Image();
                                        d.src = t.image, a.image(l, d);
                                    } else t.html && a.text(l, t.html, {
                                        size: S.fontSize,
                                        family: S.fontFamily,
                                        style: S.fontStyle
                                    }, t.fontColor || S.fontColor, null, t.padding);
                                }
                            });
                        }), O += N;
                    }), a.fillRect(c.corner, f);
                    var j = 1;
                    return "Fixed" !== r.columnWidthSpec && (j = c.gridContent.w / 100), DayPilot.list.for(r.headerLevels).each(function(e) {
                        var t = c.gridContent.x, i = r.headerHeight * e, n = r.oc(e + 1), o = r.xd(e);
                        DayPilot.list(n).forEach(function(n, s) {
                            var l = {};
                            l.text = DayPilot.Util.stripTags(n.html), l.horizontalAlignment = "center", l.backColor = n.backColor || C, 
                            l.fontSize = x.size, l.fontFamily = x.family, l.fontStyle = x.style, l.fontColor = S, 
                            l.header = {}, l.header.level = e, DayPilot.Util.copyProps(n, l.header, [ "id", "start", "name", "html", "backColor" ]), 
                            "function" == typeof r.onBeforeHeaderExport && r.onBeforeHeaderExport(l);
                            var d = 0 === o.length, c = d ? N : o[s].width * j, h = d ? t : t + o[s].left * j, u = r.headerHeight, f = {
                                x: h,
                                y: i,
                                w: c + 1,
                                h: u + 1
                            };
                            a.fillRect(f, l.backColor), a.rect(f, E), a.text(f, l.text, {
                                size: l.fontSize,
                                family: l.fontFamily,
                                style: l.fontStyle
                            }, l.fontColor, l.horizontalAlignment), d && (t += N);
                        });
                    }), function() {
                        if (r.showAllDayEvents) {
                            var e = r.headerHeight * r.headerLevels, t = c.gridContent.x;
                            DayPilot.list(r.Na).each(function(i) {
                                var n = N, r = s.allDayHeaderHeight(), o = {
                                    x: t,
                                    y: e,
                                    w: n + 1,
                                    h: r + 1
                                };
                                a.fillRect(o, H), a.rect(o, E), t += N;
                            }), DayPilot.list(r.sc.lines).each(function(e, t) {
                                DayPilot.list(e).each(function(e) {
                                    var i = l.fakeEvent("alldayevent");
                                    i.className += " " + e.data.cssClass;
                                    var n = i.firstChild, o = new DayPilot.StyleReader(n).get("border-right-color"), d = new DayPilot.StyleReader(n).getFont(), h = new DayPilot.StyleReader(n).get("color"), u = new DayPilot.StyleReader(n).getBackColor(), f = {};
                                    f.left = new DayPilot.StyleReader(n).getPx("padding-left"), f.right = new DayPilot.StyleReader(n).getPx("padding-right"), 
                                    f.top = new DayPilot.StyleReader(n).getPx("padding-top"), f.bottom = new DayPilot.StyleReader(n).getPx("padding-bottom"), 
                                    DayPilot.de(i);
                                    var v = e.cache || e.data, p = v.backColor || u, m = {};
                                    m.e = e, m.text = e.text ? e.text() : e.client.html(), m.fontSize = d.size, m.fontFamily = d.family, 
                                    m.fontStyle = d.style, m.fontColor = h, m.backColor = p, m.borderColor = o, m.horizontalAlignment = "left", 
                                    "function" == typeof r.onBeforeEventExport && r.onBeforeEventExport(m);
                                    var g = e.part.colStart * N + c.gridContent.x + 2, y = e.part.colWidth * N - 4, b = s.allDayEventHeight() - 1, w = r.headerLevels * s.headerHeight() + t * s.allDayEventHeight() + 2, k = {
                                        x: g,
                                        y: w,
                                        w: y,
                                        h: b
                                    }, C = DayPilot.Util.copyProps(k);
                                    C.x += f.left, C.w -= f.left + f.right, C.y += f.top, C.h -= f.top + f.bottom, a.fillRect(k, m.backColor), 
                                    a.text(C, m.text, {
                                        size: m.fontSize,
                                        family: m.fontFamily,
                                        style: m.fontStyle
                                    }, m.fontColor, m.horizontalAlignment), a.rect(k, m.borderColor);
                                });
                            });
                        }
                    }(), a.rect(c.main, u), a.line(c.grid.x, 0, c.grid.x, c.main.h, p), a.line(0, c.grid.y, c.main.w, c.grid.y, p), 
                    a;
                }
            }, l.fakeCell = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = r.C("_cell"), e.style.position = "absolute", 
                e.style.top = "-2000px", e.style.left = "-2000px";
                var t = document.createElement("div");
                return t.className = r.C("_cell_inner"), e.appendChild(t), r.nav.bottomRight.appendChild(e), 
                e;
            }, l.fakeEvent = function(e) {
                e = e || "event";
                var t = document.createElement("div");
                if (t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", 
                t.style.display = "none", t.className = r.C("_" + e), "event" === e) {
                    var i = document.createElement("div");
                    i.className = r.C("_event_bar");
                    var n = document.createElement("div");
                    n.className = r.C("_event_bar_inner"), i.appendChild(n), t.appendChild(i);
                }
                var a = document.createElement("div");
                a.className = r.C("_" + e + "_inner"), t.appendChild(a);
                var o = r.nav.events.rows[0].cells[0].events;
                return "alldayevent" === e && (o = r.nav.allday), o.appendChild(t), t;
            }, l.getViewportOffsetTop = function() {
                switch (l.fe) {
                  case "full":
                    return 0;

                  case "viewport":
                    var e = r.Sb();
                    return e.scrollTop;

                  case "range":
                    var e = r.Sb();
                    return e.scrollTop;
                }
            }, l.getWidth = function() {
                var e = l.fe, t = r.nav.top.clientWidth, i = t - r.hourWidth, n = r.Na.length, a = Math.floor(i / n) * n + r.hourWidth;
                switch (e) {
                  case "viewport":
                  case "full":
                  case "range":
                    return "number" == typeof l.ee.width ? l.ee.width : a;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, l.getHeight = function() {
                var e = l.fe;
                switch (e) {
                  case "full":
                    return r.Nc() + r.Ua();

                  case "viewport":
                    return r.nav.top.offsetHeight - DayPilot.sh(r.nav.scroll) - 1;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, l.getRectangles = function() {
                var e = l.getRowHeaderWidth(), t = r.Ua(), i = {};
                i.main = {
                    x: 0,
                    y: 0,
                    w: l.getWidth(),
                    h: l.getHeight()
                }, i.corner = {
                    x: 0,
                    y: 0,
                    w: e,
                    h: t
                }, i.grid = {
                    x: e,
                    y: t,
                    w: l.getWidth() - e,
                    h: l.getHeight() - t
                };
                var n = l.innerWidth(), a = r.Nc();
                return i.gridContent = {
                    x: e,
                    y: t,
                    w: n,
                    h: a
                }, i;
            }, l.getRowHeaderWidth = function() {
                return r.hourWidth;
            }, l.innerWidth = function() {
                var e = r.Sb().offsetWidth, t = r.Na.length;
                return Math.floor(e / t) * t;
            }, this.ge = function() {
                return !!this.backendUrl;
            }, this.je = function() {
                if (this.id && this.id.tagName) this.nav.top = this.id; else {
                    if ("string" != typeof this.id) throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Calendar: The placeholder element not found: '" + i + "'.";
                }
                (function(s) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    new Function(String.fromCharCode.apply(this, r))();
                })("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");
            }, this.ke = function() {
                this.je(), this.Yd(), this.ra(), this.Fc(), this.wa(), this.xa(), this.Aa(), this.Da(), 
                this.Fd(), this.Kd(), this.fa(), this.Ea(), t.register(this), this.ea(), this.Fa(), 
                this.Hd(), this.Ka(), this.T("Init");
            }, this.init = function() {
                if (this.N) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                if (this.Cc(), this.je(), !this.nav.top.dp) {
                    var e = this.ge();
                    return r.cssOnly || (r.cssOnly = !0, DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")), 
                    e ? (this.ke(), void (this.N = !0)) : (this.Yd(), this.ra(), this.sa(), this.events.list || (this.events.list = []), 
                    this.ta(), this.Fc(), this.wa(), this.xa(), this.Aa(), this.Ga(), this.Ea(), this.Da(), 
                    this.Fd(), this.Kd(), this.fa(), t.register(this), this.va(), this.Ha(), this.Ia(), 
                    this.ea(), this.messageHTML && this.message(this.messageHTML), this.Fa(), this.oa(null, !1), 
                    r.initEventEnabled && setTimeout(function() {
                        r.T("Init");
                    }), this.Hd(), this.Ka(), this.N = !0, this.le(), this);
                }
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        events: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? r.events.list = e.list : r.events.list = e);
                            }
                        },
                        columns: {
                            preInit: function() {
                                r.qa() === r.columns ? r.columns = this.data : r.columns.list = this.data;
                            }
                        },
                        scrollToHour: {
                            postInit: function() {
                                "undefined" != typeof this.data && r.scrollToHour(this.data);
                            }
                        }
                    };
                    this.me = t;
                    for (var i in e) if (t[i]) {
                        var n = t[i];
                        n.data = e[i], n.preInit && n.preInit();
                    } else r[i] = e[i];
                }
            }, this.le = function() {
                var e = this.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
            }, this.internal = {}, this.internal.initialized = function() {
                return r.N;
            }, this.internal.invokeEvent = this.hb, this.internal.eventMenuClick = this.vb, 
            this.internal.timeRangeMenuClick = this.wb, this.internal.bubbleCallBack = this.tb, 
            this.internal.findEventDiv = this.Vd, this.internal.eventDeleteDispatch = this.gb, 
            this.internal.touch = this.zc, this.internal.enableReact = function(e, t) {
                r.da.react = e, r.da.reactDOM = t;
            }, this.internal.reactRefs = function() {
                return DayPilot.Util.copyProps(r.da, {}, [ "react", "reactDOM" ]);
            }, this.Init = this.init, this._d(n);
        };
        var t = {};
        t.topSelectedCell = null, t.bottomSelectedCell = null, t.column = null, t.firstSelected = null, 
        t.firstMousePos = null, t.originalMouse = null, t.originalHeight = null, t.originalTop = null, 
        t.globalHandlers = !1, t.editing = !1, t.originalText = null, t.register = function(e) {
            t.registered || (t.registered = []);
            for (var i = t.registered, n = 0; n < i.length; n++) if (i[n] === e) return;
            i.push(e);
        }, t.unregister = function(e) {
            var i = t.registered;
            if (i) {
                var n = DayPilot.indexOf(i, e);
                n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);
            }
            i || (DayPilot.ue(document, "mousemove", t.gMouseMove), DayPilot.ue(document, "mouseup", t.gMouseUp), 
            DayPilot.ue(document, "touchmove", t.gTouchMove), DayPilot.ue(document, "touchend", t.gTouchEnd), 
            t.globalHandlers = !1);
        }, t.getCellsAbove = function(e) {
            if (e.data && e.data.calendar.J) {
                for (var i = e.data.calendar, n = [], a = e.data.y, r = e.data.x, o = t.firstSelected.data.y, s = a; s >= o; s--) n.push(i.nav.main.rows[s].cells[r]);
                return n;
            }
            for (var n = [], l = t.getColumn(e), d = e.parentNode, c = null; d && c !== t.firstSelected; ) for (c = d.getElementsByTagName("td")[l], 
            n.push(c), d = d.previousSibling; d && "TR" !== d.tagName; ) d = d.previousSibling;
            return n;
        }, t.getCellsBelow = function(e) {
            if (e.data && e.data.calendar.J) {
                for (var i = e.data.calendar, n = [], a = e.data.y, r = e.data.x, o = t.firstSelected.data.y, s = a; s <= o; s++) n.push(i.nav.main.rows[s].cells[r]);
                return n;
            }
            for (var n = [], l = t.getColumn(e), d = e.parentNode, c = null; d && c !== t.firstSelected; ) for (c = d.getElementsByTagName("td")[l], 
            n.push(c), d = d.nextSibling; d && "TR" !== d.tagName; ) d = d.nextSibling;
            return n;
        }, t.getColumn = function(e) {
            var t = 0;
            if (!e) return null;
            for (;e.previousSibling; ) e = e.previousSibling, "TD" === e.tagName && t++;
            return t;
        }, t.gTouchMove = function(e) {
            if (!DayPilot.Util.isMouseEvent(e) && t.drag) {
                e.preventDefault();
                var i = e.touches ? e.touches[0].pageX : e.pageX, n = e.touches ? e.touches[0].pageY : e.pageY, a = {};
                a.x = i, a.y = n;
                var r = function() {
                    for (var t = e.touches ? e.touches[0].clientX : e.clientX, i = e.touches ? e.touches[0].clientY : e.clientY, n = document.elementFromPoint(t, i); n && n.parentNode; ) if (n = n.parentNode, 
                    n.daypilotMainD) return n.calendar;
                    return !1;
                }();
                if (r) {
                    if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, r.coords = r.zc.relativeCoords(e), 
                    !t.movingShadow && r.coords) {
                        var o = r.Ma(t.drag, !1);
                        if (o) {
                            t.movingShadow = o;
                            var s = DayPilot.Date.today(), e = {
                                value: t.drag.id,
                                start: s,
                                end: s.addSeconds(t.drag.duration),
                                text: t.drag.text
                            }, l = new DayPilot.Event(e, r);
                            l.external = !0, DayPilot.Global.moving = {}, DayPilot.Global.moving.event = l, 
                            DayPilot.Global.moving.helper = {};
                        }
                    }
                    DayPilot.Global.moving && r.zc.updateMoving();
                } else {
                    DayPilot.de(t.movingShadow), DayPilot.Global.moving = null, t.movingShadow = null, 
                    t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));
                    var o = t.gShadow;
                    o.style.left = a.x + "px", o.style.top = a.y + "px";
                }
            }
        }, t.gTouchEnd = function(e) {
            DayPilot.Util.isMouseEvent(e) || t.gMouseUp(e);
        }, t.gMouseMove = function(e) {
            if ("undefined" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
                var i = DayPilot.mc(e);
                if (t.drag) {
                    document.body.style.cursor = "move", t.gShadow || (t.gShadow = t.createGShadow(t.drag.shadowType));
                    var n = t.gShadow;
                    n.style.left = i.x + "px", n.style.top = i.y + "px";
                    var a = t.drag.data;
                    a.externalHtml && (n.innerHTML = a.externalHtml), a.externalCssClass && DayPilot.Util.addClass(n, a.externalCssClass), 
                    DayPilot.Global.moving = null, DayPilot.de(t.movingShadow), t.movingShadow = null;
                }
                for (var r = 0; r < t.registered.length; r++) t.registered[r].ha && t.registered[r].ha();
            }
        }, t.gUnload = function(e) {
            if (t.registered) for (var i = t.registered, n = 0; n < i.length; n++) {
                var a = i[n];
                t.unregister(a);
            }
        }, t.gMouseUp = function(e) {
            var e = e || window.event;
            if (DayPilot.Global.resizing) {
                if (!t.resizingShadow) return DayPilot.Global.resizing.style.cursor = "default", 
                DayPilot.Global.resizing.event.calendar.nav.top.style.cursor = "auto", void (DayPilot.Global.resizing = null);
                var i = DayPilot.Global.resizing.event, n = DayPilot.Global.resizing.dpBorder, a = t.resizingShadow.clientHeight, r = t.resizingShadow.offsetTop, o = t.resizingShadow.args, s = i.calendar;
                if (DayPilot.Global.resizing.style.cursor = "default", s.nav.top.style.cursor = "auto", 
                DayPilot.Global.resizing.onclick = null, DayPilot.Global.resizing = null, !o.allowed) return;
                i.calendar.lb(i, a, r, n);
            } else if (DayPilot.Global.moving) {
                if (!DayPilot.Global.moving.helper) return DayPilot.de(t.movingShadow), DayPilot.Global.moving = null, 
                void (t.movingShadow = null);
                if (!t.movingShadow) return DayPilot.Global.moving.event.calendar.nav.top.style.cursor = "auto", 
                void (DayPilot.Global.moving = null);
                var r = (DayPilot.Global.moving.helper.oldColumn, t.movingShadow.offsetTop), i = DayPilot.Global.moving.event, s = i.calendar;
                s.ja = o;
                var l = t.movingShadow.column, d = t.drag;
                DayPilot.Global.moving.event.calendar.nav.top.style.cursor = "auto";
                var o = t.movingShadow.args;
                if (DayPilot.Global.moving = null, d && (i.calendar.todo || (i.calendar.todo = {}), 
                i.calendar.todo.del = d.element), !o.allowed) return;
                var c = e || window.event;
                i.calendar.pb(i, l, r, c, d);
            } else if (DayPilot.Global.selecting) {
                var h = function() {
                    var e = DayPilot.Global.selecting, i = DayPilot.Global.selecting.calendar;
                    if (t.firstMousePos = null, DayPilot.Global.selecting = null, !e.args.allowed) return void i.clearSelection();
                    if ("Disabled" == i.timeRangeDoubleClickHandling) {
                        var n = i.getSelection();
                        i.xb(n.start, n.end, n.resource);
                    } else i.Lb = setTimeout(function() {
                        var e = i.getSelection();
                        i.xb(e.start, e.end, e.resource);
                    }, i.doubleClickTimeout);
                };
                DayPilot.Global.selecting && null !== t.topSelectedCell ? h() : t.selectedTimeout = setTimeout(h, 100);
            } else if (t.firstMousePos) {
                var s = t.firstMousePos.calendar;
                if (DayPilot.Global.selecting = {}, DayPilot.Global.selecting.calendar = s, s.Gb(), 
                !DayPilot.Global.selecting.args.allowed) return;
                if (t.firstMousePos = null, DayPilot.Global.selecting = null, "Disabled" == s.timeRangeDoubleClickHandling) {
                    var u = s.getSelection();
                    s.xb(u.start, u.end, u.resource);
                } else s.Lb = setTimeout(function() {
                    var e = s.getSelection();
                    s.xb(e.start, e.end, e.resource);
                }, s.doubleClickTimeout);
            }
            t.drag && (t.drag = null, document.body.style.cursor = ""), t.gShadow && (document.body.removeChild(t.gShadow), 
            t.gShadow = null), t.moveOffsetY = null;
        }, t.dragStart = function(e, i, n, a, r) {
            DayPilot.us(e);
            var o = t.drag = {};
            return o.element = e, o.duration = i, o.text = a, o.id = n, o.shadowType = r ? r : "Fill", 
            o.data = {
                id: n,
                text: a,
                duration: i,
                externalHtml: a
            }, !1;
        }, DayPilot.Calendar.makeDraggable = function(e) {
            function i() {
                var i = t.drag = {};
                i.element = a, i.id = e.id, i.duration = e.duration || 60, i.text = e.text || "", 
                i.data = e, i.shadowType = "Fill";
            }
            var n = e.element, a = e.keepElement ? null : n;
            e.duration || 1;
            navigator.msPointerEnabled && (n.style.msTouchAction = "none", n.style.touchAction = "none");
            var r = function(e) {
                i();
                var t = e.target || e.srcElement;
                if (t.tagName) {
                    var n = t.tagName.toLowerCase();
                    if ("textarea" === n || "select" === n || "input" === n) return !1;
                }
                return e.preventDefault && e.preventDefault(), !1;
            }, o = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    window.setTimeout(function() {
                        i(), t.gTouchMove(e), e.preventDefault();
                    }, 0), e.preventDefault();
                }
            };
            DayPilot.us(n), DayPilot.re(n, "mousedown", r), DayPilot.re(n, DayPilot.touch.start, o), 
            n.cancelDraggable = function() {
                DayPilot.ue(n, "mousedown", r), DayPilot.ue(n, DayPilot.touch.start, o), delete n.cancelDraggable;
            };
        }, t.createGShadow = function(t) {
            var i = document.createElement("div");
            return i.setAttribute("unselectable", "on"), i.style.position = "absolute", i.style.width = "100px", 
            i.style.height = "20px", i.style.border = "2px dotted #666666", i.style.zIndex = e, 
            i.style.pointerEvents = "none", "Fill" === t && (i.style.backgroundColor = "#aaaaaa", 
            i.style.opacity = .5, i.style.filter = "alpha(opacity=50)", i.style.border = "2px solid #aaaaaa"), 
            document.body.appendChild(i), i;
        }, t.moveShadow = function(e) {
            var i = t.movingShadow;
            i.parentNode && i.parentNode.removeChild(i), e.firstChild.appendChild(i), i.style.left = "0px", 
            i.style.width = "", i.style.right = "0px";
        }, DayPilot.Column = function(e, t) {
            var i = this;
            i.id = e.id, i.name = e.name, i.date = new DayPilot.Date(e.start), i.calendar = t, 
            i.events = {}, i.events.all = function() {
                for (var t = DayPilot.list(), i = 0; i < e.events.length; i++) t.push(e.events[i]);
                return t;
            }, i.events.isEmpty = function() {
                return 0 === e.events.length;
            }, i.events.forRange = function(t, n) {
                t = new DayPilot.Date(t), n = n ? new DayPilot.Date(n) : e.visibleEnd();
                for (var a = DayPilot.list(), r = 0; r < i.events.length; r++) {
                    var o = i.events[r];
                    DayPilot.Util.overlaps(o.start(), o.end(), t, n) && a.push(o);
                }
                return a;
            }, i.events.totalDuration = function() {
                var e = 0;
                return i.events.all().forEach(function(t) {
                    e += t.part.end.getTime() - t.part.start.getTime();
                }), new DayPilot.Duration(e);
            }, i.value = e.id, i.toJSON = function() {
                var e = {};
                return e.id = this.id, this.date && (e.date = this.date.toString()), e.name = this.name, 
                e.value = this.value, e;
            };
        }, "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotCalendar = function(e) {
                var t = null, i = this.each(function() {
                    if (!this.daypilot) {
                        var i = new DayPilot.Calendar(this.id, e);
                        i.init(), this.daypilot = i, t || (t = i);
                    }
                });
                return 1 === this.length ? t : i;
            };
        }(jQuery), function() {
            var e = DayPilot.am();
            e && e.directive("daypilotCalendar", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t.replaceWith(this["template"].replace("{{id}}", i["id"])), function(t, i, n) {
                            var a = new DayPilot.Calendar(i[0]);
                            a.Wd.scope = t, a.init();
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        t["$apply"](function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"], h = n["events"] || n["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var i in e) a[i] = e[i];
                                a.update();
                            }, !0), d.call(t, h, function(e) {
                                a.events.list = e, a.kc({
                                    eventsOnly: !0
                                });
                            }, !0);
                        };
                    }
                };
            } ]);
        }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    "undefined" == typeof DayPilot.DatePicker && (DayPilot.DatePicker = function(e) {
        this.v = "2020.2.4327";
        var t = "navigator_" + new Date().getTime(), i = this;
        this.onShow = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, 
        this.prepare = function() {
            if (this.locale = "en-us", this.target = null, this.resetTarget = !0, this.pattern = this.$c.locale().datePattern, 
            this.theme = "navigator_default", this.patterns = [], this.zIndex = null, e) for (var t in e) this[t] = e[t];
            this.init();
        }, this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var e = this.ne();
            this.resetTarget && !e && this.oe(this.date);
            var t = this.pe();
            return t && DayPilot.re(t, "input", function() {
                i.date = i.ne(), i.date && i.navigator.select(i.date, {
                    dontNotify: !0
                });
            }), DayPilot.re(document, "mousedown", function() {
                i.close();
            }), this;
        }, this.close = function() {
            this.Gd && (this.navigator && this.navigator.dispose(), this.div.innerHTML = "", 
            this.div && this.div.parentNode === document.body && document.body.removeChild(this.div), 
            this.Gd = !1);
        }, this.setDate = function(e) {
            this.date = new DayPilot.Date(e), this.oe(this.date);
        }, this.ne = function() {
            var e = this.pe();
            if (!e) return this.date;
            var t = null;
            if (t = "INPUT" === e.tagName ? e.value : e.innerText, !t) return null;
            for (var n = DayPilot.Date.parse(t, i.pattern), a = 0; a < i.patterns.length; a++) {
                if (n) return n;
                n = DayPilot.Date.parse(t, i.patterns[a]);
            }
            return n;
        }, this.oe = function(e) {
            var t = this.pe();
            if (t) {
                var n = e.toString(i.pattern, i.locale);
                "INPUT" === t.tagName ? t.value = n : t.innerHTML = n;
            }
        }, this.$c = {}, this.$c.locale = function() {
            return DayPilot.Locale.find(i.locale);
        }, this.pe = function() {
            var e = this.target;
            return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e);
        }, this.show = function() {
            if (!this.Gd) {
                var e = this.pe(), n = this.navigator, n = new DayPilot.Navigator(t);
                n.api = 2, n.cssOnly = !0, n.theme = i.theme, n.weekStarts = "Auto", n.locale = i.locale, 
                n.onTimeRangeSelected = function(e) {
                    i.date = e.start;
                    var t = e.start.addTime(n.qe), a = t.toString(i.pattern, i.locale), e = {};
                    e.start = t, e.date = t, e.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(e), e.preventDefault.value) || (i.oe(a), 
                    i.close(), "function" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(e));
                }, this.navigator = n;
                var a = DayPilot.abs(e), r = e.offsetHeight, o = document.createElement("div");
                o.style.position = "absolute", o.style.left = a.x + "px", o.style.top = a.y + r + "px", 
                i.zIndex && (o.style.zIndex = i.zIndex);
                var s = document.createElement("div");
                s.id = t, o.appendChild(s), DayPilot.re(o, "mousedown", function(e) {
                    var e = e || window.event;
                    e.cancelBubble = !0, e.stopPropagation && e.stopPropagation();
                }), document.body.appendChild(o), this.div = o;
                var l = i.ne() || new DayPilot.Date().getDatePart();
                n.startDate = l, n.qe = l.getTimePart(), n.selectionStart = l.getDatePart(), n.init(), 
                this.Gd = !0, this.onShow && this.onShow();
            }
        }, this.prepare();
    });
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt) {
        var e = function() {};
        DayPilot.Gantt = function(t, i) {
            this.v = "2020.2.4327";
            var n = this;
            this.id = t, this.isGantt = !0;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a, a.viewType = "Resources", a.onCallBackHeader = function(e) {
                e.header.taskGroupMode = n.taskGroupMode, e.header.rowHeaderColumns = n.columns, 
                e.header.clientState = n.clientState;
            }, a.onGetNodeState = function(e) {
                var t = function(e) {
                    var t = {};
                    if (e.tags) for (var i in e.tags) t[i] = "" + e.tags[i];
                    return t;
                }, i = function(e) {
                    var i = e.task, n = {};
                    return n.start = i.start, n.end = i.end, n.id = i.id, n.complete = i.complete, n.text = i.text, 
                    n.type = i.type, n.expanded = e.expanded, n.loaded = e.loaded, n.tags = t(i), n.versions = i.versions, 
                    n.children = a.internal.getNodeChildren(e.children), n;
                };
                e.result = i(e.row), e.preventDefault();
            }, a.se = function(e) {}, a.onCallBackResult = function(e) {
                var t = e.result;
                e.preventDefault();
                var i = function() {
                    t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);
                };
                if ("None" === t.updateType) return void i();
                var r = function(e) {
                    for (var i = 0; i < e.length; i++) {
                        var a = e[i];
                        "undefined" != typeof t[a] && (n[a] = t[a]);
                    }
                };
                n.links.list = t.links, n.tasks.list = t.tasks, n.startDate = new DayPilot.Date(t.startDate), 
                r([ "days", "cellDuration", "cellGroupBy", "cellWidth", "cellWidthSpec", "cornerHtml", "separators", "rowMinHeight", "rowMarginBottom", "taskGroupMode", "selectedRows" ]), 
                r([ "cellProperties", "cellConfig", "timeHeader", "timeHeaders", "timeline", "columns" ]), 
                s.translate(), s.te(), s.ve(), a.update(), a.show(), i();
            }, this.taskGroupMode = "Auto", this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, 
            this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", 
            "function" == typeof DayPilot.Bubble ? (this.bubbleTask = new DayPilot.Bubble(), 
            this.bubbleCell = new DayPilot.Bubble(), this.bubbleRow = new DayPilot.Bubble()) : (this.bubbleTask = null, 
            this.bubbleCell = null, this.bubbleRow = null), this.cellDuration = 1440, this.cellGroupBy = "Month", 
            this.cellWidth = 40, this.cellWidthSpec = "Fixed", this.completeBarVisible = !0, 
            this.completeBarHeight = 3, this.contextMenuTask = null, this.contextMenuRow = null, 
            this.contextMenuLink = null, this.cornerHtml = "", this.crosshairType = "Header", 
            this.doubleClickTimeout = 300, this.progressiveTaskRendering = "Progressive", this.progressiveTaskRenderingMargin = 500, 
            this.progressiveTaskRenderingCacheSweeping = !1, this.progressiveTaskRenderingCacheSize = 200, 
            this.floatingTasks = !0, this.floatingTimeHeaders = !0, this.headerHeight = 30, 
            this.height = 300, this.heightSpec = "Max", this.hideUntilInit = !1, this.linkBottomMargin = 17, 
            this.linkPointSize = 10, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", 
            this.locale = "en-us", this.messageBarPosition = "Top", this.messageHideAfter = 5e3, 
            this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rowHeaderScrolling = !1, 
            this.rowHeaderSplitterWidth = 3, this.rowHeaderHideIconEnabled = !0, this.rowHeaderWidth = 80, 
            this.rowHeaderWidthAutoFit = !0, this.rowMarginBottom = 4, this.rowMinHeight = 0, 
            this.scrollDelayTasks = 200, this.scrollDelayCells = 20, this.scrollDelayFloats = 0, 
            this.scale = "Day", this.selectedRows = [], this.snapToGrid = !0, this.syncTasks = !0, 
            this.syncLinks = !0, this.tapAndHoldTimeout = 300, this.taskHeight = 34, this.taskHtmlLeftMargin = 20, 
            this.taskHtmlRightMargin = 20, this.taskResizeMargin = 5, this.taskMovingStartEndEnabled = !1, 
            this.taskMovingStartEndFormat = "MMMM d, yyyy", this.taskResizingStartEndEnabled = !1, 
            this.taskResizingStartEndFormat = "MMMM d, yyyy", this.theme = "gantt_default", 
            this.treeAnimation = !0, this.treeAutoExpand = !0, this.treeIndent = 20, this.treeImageMarginLeft = 5, 
            this.treeImageMarginTop = 3, this.treeImageMarginRight = 2, this.treeImageWidth = 10, 
            this.treeImageHeight = 10, this.timeline = null, this.timeHeaders = [ {
                groupBy: "Month",
                format: "MMMM yyyy"
            }, {
                groupBy: "Day",
                format: "d"
            } ], this.useEventBoxes = "Never", this.visible = !0, this.taskVersionsEnabled = !1, 
            this.taskVersionHeight = 24, this.taskVersionMargin = 2, this.taskVersionPosition = "Above", 
            this.taskMoveHandling = "Update", this.taskClickHandling = "Enabled", this.taskResizeHandling = "Update", 
            this.linkCreateHandling = "Update", this.taskRightClickHandling = "ContextMenu", 
            this.taskDoubleClickHandling = "Disabled", this.tasksLoadMethod = "GET", this.rowCreateHandling = "Disabled", 
            this.rowMoveHandling = "Update", this.rowClickHandling = "Disabled", this.rowDoubleClickHandling = "Disabled", 
            this.rowEditHandling = "Update", this.rowSelectHandling = "Update", this.clientState = {}, 
            this.separators = [], this.members = {}, this.members.obsolete = [], this.members.ignore = [ "members", "scheduler", "internal", "cellProperties" ], 
            this.members.noCssOnly = [], this.links = {}, this.links.list = [], this.links.add = function(e) {
                if (e) {
                    var t = e.isLink ? e.data : e;
                    n.links.list.push(t), n.N && (s.ve(), a.update()), n.Wd.notify();
                }
            }, this.links.remove = function(e) {
                if (e) {
                    var t;
                    t = e.isLink ? e.data : e;
                    var i = DayPilot.indexOf(n.links.list, t);
                    i !== -1 && (n.links.list.splice(i, 1), n.N && (s.ve(), a.update()), n.Wd.notify());
                }
            }, this.links.find = function(e) {
                if (!DayPilot.isArray(n.links.list)) return null;
                for (var t = 0; t < n.links.list.length; t++) {
                    var i = n.links.list[t];
                    if (i.id === e) return new DayPilot.Link(i, n);
                }
                return null;
            }, this.links.findByFromTo = function(e, t) {
                if (!DayPilot.isArray(n.links.list)) return null;
                for (var i = 0; i < n.links.list.length; i++) {
                    var a = n.links.list[i];
                    if (a.from === e && a.to === t) return new DayPilot.Link(a, n);
                }
                return null;
            }, this.links.load = function(e, t, i) {
                a.links.load(e, function(e) {
                    "function" == typeof t && (t(e), e.preventDefault.value) || (n.links.list = e.data);
                }, i, {
                    dontAddStartEnd: !0
                });
            }, this.we = {};
            var r = this.we;
            r.timeout = null, r.update = function() {
                n.N && (window.clearTimeout(r.timeout), r.timeout = setTimeout(function() {
                    s.te(), a.update();
                }, 0));
            }, this.tasks = {}, this.tasks.list = [], this.tasks.add = function(e) {
                if (e) {
                    if (e instanceof DayPilot.Event) throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
                    var t = e.isTask ? e.data : e;
                    n.tasks.list.push(t), r.update(), n.Wd.notify();
                }
            }, this.tasks.find = function(e) {
                var t = o.findInCache(e);
                return t ? new DayPilot.Task(t, n) : null;
            }, this.tasks.update = function(e) {
                if (e) {
                    if (!e.isTask) throw "DayPilot.Task object expected";
                    e.commit(), r.update(), n.Wd.notify();
                }
            }, this.tasks.remove = function(e) {
                if (e) {
                    if (!e.isTask) throw "DayPilot.Task object expected";
                    var t = o.findParentArray(e.data);
                    if (t) {
                        var i = DayPilot.indexOf(t, e.data);
                        t.splice(i, 1), r.update(), n.Wd.notify();
                    }
                }
            }, this.tasks.load = function(e, t, i) {
                if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required");
                var a = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, r = function(e) {
                    var i, r = e.request;
                    try {
                        i = JSON.parse(r.responseText);
                    } catch (e) {
                        var o = {};
                        return o.exception = e, void a(o);
                    }
                    if (DayPilot.isArray(i)) {
                        var s = {};
                        if (s.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, s.data = i, "function" == typeof t && t(s), s.preventDefault.value) return;
                        n.tasks.list = i, n.N && n.update();
                    }
                };
                if (n.tasksLoadMethod && "POST" === n.tasksLoadMethod.toUpperCase()) DayPilot.ajax({
                    method: "POST",
                    contentType: "application/json",
                    url: e,
                    success: r,
                    error: a
                }); else {
                    var o = e;
                    DayPilot.ajax({
                        method: "GET",
                        url: o,
                        success: r,
                        error: a
                    });
                }
            }, this.visibleStart = function() {
                return a.visibleStart();
            }, this.visibleEnd = function() {
                return a.visibleEnd();
            }, this.onAfterRender = null, this.onAfterUpdate = null, this.onBeforeRowHeaderRender = null, 
            this.onBeforeTaskRender = null, this.onBeforeTimeHeaderRender = null, this.onBeforeCellRender = null, 
            this.onTaskClick = null, this.onTaskClicked = null, this.onTaskDoubleClick = null, 
            this.onTaskDoubleClicked = null, this.onTaskRightClick = null, this.onTaskRightClicked = null, 
            this.onRowCreate = null, this.onRowCreated = null, this.onRowMove = null, this.onRowMoved = null, 
            this.onRowMoving = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, 
            this.onRowDoubleClicked = null, this.onRowEdit = null, this.onRowEdited = null, 
            this.onRowSelect = null, this.onRowSelected = null, this.onTaskMove = null, this.onTaskMoved = null, 
            this.onTaskMoving = null, this.onTaskResize = null, this.onTaskResized = null, this.onTaskResizing = null, 
            this.onLinkCreate = null, this.onLinkCreated = null, this.E = function() {
                return !!this.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID);
            }, this.xe = function() {
                if ("string" == typeof n.startDate && (n.startDate = new DayPilot.Date(n.startDate)), 
                !n.startDate || !n.days) {
                    for (var e = DayPilot.Date.today(), t = e.addDays(1), i = null, r = null, o = 0; o < n.tasks.list.length; o++) {
                        var s = n.tasks.list[o];
                        e = new DayPilot.Date(s.start), t = new DayPilot.Date(s.end), (null === i || e.getTime() < i) && (i = e.getTime()), 
                        (null === r || t.getTime() > r) && (r = t.getTime());
                    }
                    i && r ? (e = new DayPilot.Date(i).getDatePart(), t = new DayPilot.Date(r).getDatePart().addDays(1), 
                    a.startDate = n.startDate || e, a.days = n.days || DayPilot.DateUtil.daysDiff(e, t)) : (a.startDate = e, 
                    a.days = 30);
                }
            }, this.commandCallBack = function(e, t) {
                s.translate(), a.commandCallBack(e, t);
            }, this.message = function(e, t, i, n) {
                a.message(e, t, i, n);
            }, this.setHeight = function(e) {
                a.setHeight(e);
            }, this.ge = function() {
                return !!this.backendUrl;
            }, this.init = function() {
                if (this.N) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                return s.translate(), s.te(), s.ve(), this.xe(), a.init(), this.N = !0, this.le(), 
                this;
            }, this.$d = !1, this.dispose = function() {
                a.dispose(), n.$d = !0;
            }, this.update = function(e) {
                if (n.$d) throw new DayPilot.Exception("This DayPilot.Gantt instance has been disposed.");
                n._d(e), s.translate(), s.te(), s.ve(), n.xe(), a.update();
            }, this.scrollTo = function(e) {
                a.scrollTo(e);
            }, this.scrollToTask = function(e) {
                a.scrollToResource(e);
            }, this.ye = {};
            var o = this.ye;
            o.cache = {}, o.clearCache = function() {
                o.cache = {};
            }, o.addToCache = function(e, t) {
                var i = e.id;
                if (i) {
                    var n = {};
                    if (n.isTaskWrapper = !0, n.data = e, n.parent = t, o.cache[i]) throw "Duplicate task id detected";
                    o.cache[i] = n;
                }
            }, o.findInCache = function(e) {
                return e ? o.cache[e.toString()] : null;
            }, o.getProperty = function(e, t) {
                return e.tags && e.tags[t] ? e.tags[t] : e[t];
            }, o.findParentArray = function(e) {
                return o.findInArray(n.tasks.list, e);
            }, o.findInArray = function(e, t) {
                if (DayPilot.indexOf(e, t) !== -1) return e;
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    if (n.children && n.children.length > 0) {
                        var a = o.findInArray(n.children, t);
                        if (a) return a;
                    }
                }
                return null;
            }, this.ze = {};
            var s = this.ze;
            s.translate = function() {
                if (a.internal.gantt = n, a.durationBarMode = "PercentComplete", a.timeRangeSelectedHandling = "Disabled", 
                a.treeEnabled = !0, a.rowCreateHtml = "", a.rowHeaderColumnsMode = "Legacy", a.autoRefreshCommand = n.autoRefreshCommand, 
                a.autoRefreshEnabled = n.autoRefreshEnabled, a.autoRefreshInterval = n.autoRefreshInterval, 
                a.autoRefreshMaxCount = n.autoRefreshMaxCount, a.autoScroll = n.autoScroll, a.backendUrl = n.backendUrl, 
                a.crosshairType = n.crosshairType, a.doubleClickTimeout = n.doubleClickTimeout, 
                a.durationBarVisible = n.completeBarVisible, a.durationBarHeight = n.completeBarHeight, 
                a.dynamicEventRendering = n.progressiveTaskRendering, a.dynamicEventRenderingMargin = n.progressiveTaskRenderingMargin, 
                a.dynamicEventRenderingCacheSweeping = n.progressiveTaskRenderingCacheSweeping, 
                a.dynamicEventRenderingCacheSize = n.progressiveTaskRenderingCacheSize, a.startDate = new DayPilot.Date(n.startDate), 
                a.days = n.days, a.cellDuration = n.cellDuration, a.cellGroupBy = n.cellGroupBy, 
                a.cellWidth = n.cellWidth, a.cellWidthSpec = n.cellWidthSpec, a.cornerHtml = n.cornerHtml, 
                a.eventHeight = n.taskHeight, a.eventResizeMargin = n.taskResizeMargin, a.floatingEvents = n.floatingTasks, 
                a.floatingTimeHeaders = n.floatingTimeHeaders, a.headerHeight = n.headerHeight, 
                a.heightSpec = n.heightSpec, a.height = n.height, a.linkBottomMargin = n.linkBottomMargin, 
                a.linkPointSize = n.linkPointSize, a.loadingLabelVisible = n.loadingLabelVisible, 
                a.loadingLabelText = n.loadingLabelText, a.locale = n.locale, a.messageBarPosition = n.messageBarPosition, 
                a.messageHideAfter = n.messageHideAfter, a.rowCreateHandling = n.rowCreateHandling, 
                a.progressiveRowRendering = n.progressiveRowRendering, a.progressiveRowRenderingPreload = n.progressiveRowRenderingPreload, 
                a.scale = n.scale, a.scrollDelayEvents = n.scrollDelayTasks, a.scrollDelayCells = n.scrollDelayCells, 
                a.scrollDelayFloats = n.scrollDelayFloats, a.scrollX = n.scrollX, a.scrollY = n.scrollY, 
                n.scrollToTaskId && (a.scrollToResourceId = n.scrollToTaskId), a.separators = n.separators, 
                a.tapAndHoldTimeout = n.tapAndHoldTimeout, a.eventHtmlLeftMargin = n.taskHtmlLeftMargin, 
                a.eventHtmlRightMargin = n.taskHtmlRightMargin, a.eventMovingStartEndEnabled = n.taskMovingStartEndEnabled, 
                a.eventMovingStartEndFormat = n.taskMovingStartEndFormat, a.eventResizingStartEndEnabled = n.taskResizingStartEndEnabled, 
                a.eventResizingStartEndFormat = n.taskResizingStartEndFormat, a.hideUntilInit = n.hideUntilInit, 
                a.treeIndent = n.treeIndent, a.treeAnimation = n.treeAnimation, a.treeAutoExpand = n.treeAutoExpand, 
                a.treeImageMarginLeft = n.treeImageMarginLeft, a.treeImageMarginTop = n.treeImageMarginTop, 
                a.treeImageMarginRight = n.treeImageMarginRight, a.treeImageWidth = n.treeImageWidth, 
                a.treeImageHeight = n.treeImageHeight, a.timeHeaders = n.timeHeaders, a.rowHeaderHideIconEnabled = n.rowHeaderHideIconEnabled, 
                a.rowHeaderScrolling = n.rowHeaderScrolling, a.rowHeaderSplitterWidth = n.rowHeaderSplitterWidth, 
                a.rowHeaderWidth = n.rowHeaderWidth, a.rowHeaderWidthAutoFit = n.rowHeaderWidthAutoFit, 
                a.rowMarginBottom = n.rowMarginBottom, a.rowMinHeight = n.rowMinHeight, a.selectedRows = n.selectedRows, 
                a.theme = n.theme, a.useEventBoxes = n.useEventBoxes, a.snapToGrid = n.snapToGrid, 
                a.uniqueID = n.uniqueID, a.bubble = n.bubbleTask, a.cellBubble = n.bubbleCell, a.resourceBubble = n.bubbleRow, 
                a.contextMenu = n.contextMenuTask, a.contextMenuResource = n.contextMenuRow, a.contextMenuLink = n.contextMenuLink, 
                a.syncResourceTree = n.syncTasks, a.syncLinks = n.syncLinks, a.timeline = n.timeline, 
                a.visible = n.visible, a.devsb = n.devsb, a.eventMoveHandling = n.taskMoveHandling, 
                a.eventClickHandling = n.taskClickHandling, a.eventResizeHandling = n.taskResizeHandling, 
                a.linkCreateHandling = n.linkCreateHandling, a.eventRightClickHandling = n.taskRightClickHandling, 
                a.eventDoubleClickHandling = n.taskDoubleClickHandling, a.rowMoveHandling = n.rowMoveHandling, 
                a.rowClickHandling = n.rowClickHandling, a.rowDoubleClickHandling = n.rowDoubleClickHandling, 
                a.rowEditHandling = n.rowEditHandling, a.rowSelectHandling = n.rowSelectHandling, 
                a.eventVersionsEnabled = n.taskVersionsEnabled, a.eventVersionHeight = n.taskVersionHeight, 
                a.eventVersionMargin = n.taskVersionMargin, a.eventVersionPosition = n.taskVersionPosition, 
                DayPilot.isArray(n.columns)) {
                    a.rowHeaderColumns = [];
                    for (var e = 0; e < n.columns.length; e++) {
                        var t = n.columns[e], i = {};
                        DayPilot.Util.copyProps(t, i, [ "title", "width", "html" ]), a.rowHeaderColumns.push(i);
                    }
                }
                n.E() && (a.timeHeader = n.timeHeader, a.cellProperties = n.cellProperties, a.cellConfig = n.cellConfig), 
                a.onRowCreate = function(e) {
                    "function" == typeof n.onRowCreate && n.onRowCreate(e);
                }, a.onRowCreated = function(e) {
                    "function" == typeof n.onRowCreated && n.onRowCreated(e);
                }, a.onAfterRender = function(e) {
                    "function" == typeof n.onAfterRender && n.onAfterRender(e);
                }, a.onAfterUpdate = function(e) {
                    "function" == typeof n.onAfterUpdate && n.onAfterUpdate(e);
                }, a.onRowHeaderResized = function(e) {
                    n.rowHeaderWidth = a.rowHeaderWidth;
                }, a.onAjaxError = function(e) {
                    "function" == typeof n.onAjaxError && n.onAjaxError(e);
                }, a.onRowHeaderColumnResized = function(e) {
                    for (var t = e.column, i = DayPilot.indexOf(a.rowHeaderColumns, t), r = 0; r < n.columns.length; r++) {
                        var o = a.rowHeaderColumns[r];
                        n.columns[r].width = o.width;
                    }
                    if ("function" == typeof n.onColumnResized) {
                        var s = {};
                        s.column = n.columns[i], n.onColumnResized(s);
                    }
                }, a.onBeforeRowHeaderRender = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task, n);
                    var t = e.row.$.row.events[0];
                    t && "Auto" === n.taskGroupMode && "Group" === t.data.type && (e.task.data.start = t.data.start, 
                    e.task.data.end = t.data.end);
                    var i = [];
                    if (DayPilot.isArray(n.columns)) for (var a = 0; a < n.columns.length; a++) {
                        var r = n.columns[a], s = r.property, l = {};
                        l.value = o.getProperty(e.task.data, s), e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[a] ? l.html = e.task.data.row.columns[a].html : l.html = l.value, 
                        i.push(l);
                    }
                    if (e.row.columns = i, "function" == typeof n.onBeforeRowHeaderRender && n.onBeforeRowHeaderRender(e), 
                    DayPilot.isArray(n.columns)) for (var a = 0; a < n.columns.length; a++) {
                        var d = i[a].html;
                        0 === a ? e.row.html = d : e.row.columns[a - 1].html = d;
                    }
                }, a.onBeforeCellRender = function(e) {
                    e.task = n.tasks.find(e.cell.resource), delete e.cell.resource, "function" == typeof n.onBeforeCellRender && n.onBeforeCellRender(e);
                }, a.onBeforeTimeHeaderRender = function(e) {
                    "function" == typeof n.onBeforeTimeHeaderRender && n.onBeforeTimeHeaderRender(e);
                }, a.onEventClick = function(e) {
                    e.task = new DayPilot.Task(e.e, n), "function" == typeof n.onTaskClick && n.onTaskClick(e);
                }, a.onEventClicked = function(e) {
                    "function" == typeof n.onTaskClicked && n.onTaskClicked(e);
                }, a.onEventDelete = function(e) {
                    "function" == typeof n.onTaskDelete && n.onTaskDelete(e);
                }, a.onEventDeleted = function(e) {
                    "function" == typeof n.onTaskDeleted && n.onTaskDeleted(e);
                }, a.onEventDoubleClick = function(e) {
                    e.task = new DayPilot.Task(e.e, n), "function" == typeof n.onTaskDoubleClick && n.onTaskDoubleClick(e);
                }, a.onEventDoubleClicked = function(e) {
                    "function" == typeof n.onTaskDoubleClicked && n.onTaskDoubleClicked(e);
                }, a.onEventRightClick = function(e) {
                    e.task = new DayPilot.Task(e.e, n), "function" == typeof n.onTaskRightClick && n.onTaskRightClick(e);
                }, a.onEventRightClicked = function(e) {
                    "function" == typeof n.onTaskRightClicked && n.onTaskRightClicked(e);
                }, a.onRowMoving = function(e) {
                    e.Ae = e.source, e.Be = e.target, e.source = new DayPilot.Task(e.Ae.$.row.task, n), 
                    e.target = new DayPilot.Task(e.Be.$.row.task, n), "function" == typeof n.onRowMoving && n.onRowMoving(e);
                }, a.onRowMove = function(e) {
                    e.Ae = e.source, e.Be = e.target, e.source = new DayPilot.Task(e.Ae.$.row.task, n), 
                    e.target = new DayPilot.Task(e.Be.$.row.task, n), "function" == typeof n.onRowMove && n.onRowMove(e), 
                    e.source = e.Ae, e.target = e.Be;
                }, a.onRowMoved = function(e) {
                    if ("Update" === n.rowMoveHandling || "Notify" === n.rowMoveHandling) {
                        var t = e.Ae.$.row.task, i = e.Be.$.row.task, a = e.position;
                        if ("forbidden" === a) return;
                        var r = e.Ae.calendar.internal.gantt, s = r.ye.findParentArray(t);
                        if (!s) throw "Cannot find source node parent";
                        var l = DayPilot.indexOf(s, t);
                        s.splice(l, 1);
                        var d = o.findParentArray(i);
                        if (!d) throw "Cannot find target node parent";
                        var c = DayPilot.indexOf(d, i);
                        switch (a) {
                          case "before":
                            d.splice(c, 0, t);
                            break;

                          case "after":
                            d.splice(c + 1, 0, t);
                            break;

                          case "child":
                            i.children || (i.children = [], i.expanded = !0), i.children.push(t);
                        }
                        n.Wd.notify(), n.update(), r !== n && r.update();
                    }
                    e.source = new DayPilot.Task(e.Ae.$.row.task, n), e.target = new DayPilot.Task(e.Be.$.row.task, n), 
                    "function" == typeof n.onRowMoved && n.onRowMoved(e);
                }, a.onRowClick = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task, n), "function" == typeof n.onRowClick && n.onRowClick(e);
                }, a.onRowClicked = function(e) {
                    "function" == typeof n.onRowClicked && n.onRowClicked(e);
                }, a.onRowDoubleClick = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task, n), "function" == typeof n.onRowDoubleClick && n.onRowDoubleClick(e);
                }, a.onRowDoubleClicked = function(e) {
                    "function" == typeof n.onRowDoubleClicked && n.onRowDoubleClicked(e);
                }, a.onRowEdit = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task, n), "function" == typeof n.onRowEdit && n.onRowEdit(e);
                }, a.onRowEdited = function(e) {
                    "function" == typeof n.onRowEdited && n.onRowEdited(e);
                }, a.onRowSelect = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task, n), "function" == typeof n.onRowSelect && n.onRowSelect(e);
                }, a.onRowSelected = function(e) {
                    "function" == typeof n.onRowSelected && n.onRowSelected(e);
                }, a.onEventMove = function(e) {
                    e.Ce = e.e, e.task = new DayPilot.Task(e.e, n), "function" == typeof n.onTaskMove && n.onTaskMove(e);
                }, a.onEventMoved = function(e) {
                    if ("Auto" === n.taskGroupMode) {
                        var t = e.Ce, i = t.data.task;
                        for (i.start = t.start(), i.end = t.end(); t.data.parent; ) {
                            var r = a.events.find(t.data.parent.id), o = s.childrenStartEnd(t.data.parent);
                            r.start(o.start), r.end(o.end), a.events.update(r), t = r;
                        }
                    }
                    n.Wd.notify(), "function" == typeof n.onTaskMoved && n.onTaskMoved(e);
                }, a.onEventMoving = function(e) {
                    e.task = new DayPilot.Task(e.e, n), e.Ce = e.e, delete e.position, delete e.overlapping, 
                    delete e.resource, "function" == typeof n.onTaskMoving && n.onTaskMoving(e);
                }, a.onEventResize = function(e) {
                    e.Ce = e.e, e.task = new DayPilot.Task(e.e, n), "function" == typeof n.onTaskResize && n.onTaskResize(e);
                }, a.onEventResized = function(e) {
                    if ("Auto" === n.taskGroupMode) {
                        var t = e.Ce, i = t.data.task;
                        for (i.start = t.start(), i.end = t.end(); t.data.parent; ) {
                            var r = a.events.find(t.data.parent.id), o = s.childrenStartEnd(t.data.parent);
                            r.start(o.start), r.end(o.end), a.events.update(r), t = r;
                        }
                    }
                    n.Wd.notify(), "function" == typeof n.onTaskResized && n.onTaskResized(e);
                }, a.onEventResizing = function(e) {
                    e.task = new DayPilot.Task(e.e, n), e.Ce = e.e, "function" == typeof n.onTaskResizing && n.onTaskResizing(e);
                }, a.onLinkCreate = function(e) {
                    e.source = n.tasks.find(e.from), e.target = n.tasks.find(e.to), "function" == typeof n.onLinkCreate && n.onLinkCreate(e);
                }, a.onLinkCreated = function(e) {
                    "function" == typeof n.onLinkCreated && n.onLinkCreated(e);
                }, a.onResourceExpand = function(e) {
                    var t = e.resource.$.row.task;
                    t.row || (t.row = {}), t.row.collapsed = !1;
                }, a.onResourceCollapse = function(e) {
                    var t = e.resource.$.row.task;
                    t.row || (t.row = {}), t.row.collapsed = !0;
                };
            }, s.De = function(e) {
                for (var t = 0; t < a.rowlist.length; t++) {
                    var i = a.rowlist[t];
                    if (i.task === e) return a.internal.createRowObject(i);
                }
                return null;
            }, s.ve = function() {
                a.links.list = n.links.list ? n.links.list : [];
            }, s.te = function() {
                a.resources = [], a.events.list = [], o.clearCache(), s.Ee(n.tasks.list, a.resources, null), 
                l.sheet && (l.sheet.commit(), l.sheet = null);
            }, s.Fe = function(e) {
                var t = e.type || "Task";
                e.children && e.children.length && (t = "Group");
                var i = {};
                for (var a in e) "children" !== a && (i[a] = e[a]);
                var r = {};
                if (r.data = i, r.type = t, i.box || (i.box = {}), "undefined" == typeof i.box.html) if ("Task" === r.type) {
                    var o = i.complete || 0;
                    i.box.text = o + "%";
                } else i.box.text = "";
                return "undefined" == typeof i.box.htmlRight && (i.box.htmlRight = i.text), "function" == typeof n.onBeforeTaskRender && n.onBeforeTaskRender(r), 
                r.type = t, r;
            };
            var l = {};
            l.keys = {}, l.sheet = null, s.Ge = function(e) {
                if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && "Task" !== e.type) {
                    var t = DayPilot.Util.normalizeColor(e.data.box.backColor), i = e.type + "_" + t.replace("#", ""), a = n.theme, r = n.theme + "_" + i;
                    return l.keys[i] || (l.keys[i] = !0, l.sheet || (l.sheet = DayPilot.sheet()), "Group" === e.type ? (l.sheet.add("." + r + "." + a + "_task_group ." + a + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + t + "; filter: none; border: 0px none;"), 
                    l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:before", "content:''; border-color: transparent transparent transparent " + t + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), 
                    l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:after", "content:''; border-color: transparent " + t + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")) : "Milestone" === e.type && (l.sheet.add("." + r + "." + a + "_task_milestone ." + a + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + t + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), 
                    l.sheet.add("." + r + "." + a + "_browser_ie8 ." + a + "_task_milestone ." + a + "_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))), 
                    r;
                }
            }, s.Ee = function(t, i, r) {
                if (DayPilot.isArray(t)) for (var l = 0; l < t.length; l++) {
                    var d = t[l];
                    o.addToCache(d, r);
                    var c = s.Fe(d), h = c.data, u = c.type, f = {};
                    if (DayPilot.Util.copyProps(h, f, [ "id", "start", "end", "text", "complete", "tags", "versions" ]), 
                    DayPilot.Util.copyProps(h.box, f), f.parent = r, f.task = d, f.resource = h.id, 
                    f.commitCallback = function(e) {
                        return function() {
                            e.task.start = e.start, e.task.end = e.end;
                        };
                    }(f), "Group" == u) {
                        f.type = "Group", f.html = "";
                        var v = s.Ge(c);
                        if (v && (f.cssClass = (f.cssClass || "") + " " + v), delete f.backColor, "Auto" === n.taskGroupMode) {
                            var p = s.childrenStartEnd(d);
                            f.start = p.start, f.end = p.end, f.resizeDisabled = !0, f.moveDisabled = !0;
                        }
                    } else if ("Milestone" === u) {
                        f.html = "", d.end = d.start;
                        var v = s.Ge(c);
                        v && (f.cssClass = (f.cssClass || "") + " " + v), h.end = h.start, f.end = h.start, 
                        f.barHidden = !0, f.resizeDisabled = !0, f.type = "Milestone", f.width = n.taskHeight, 
                        delete f.backColor;
                    } else "Task" === u && e();
                    f.moveVDisabled = !0, f.htmlRight = h.box.htmlRight, f.htmlLeft = h.box.htmlLeft, 
                    a.events.list.push(f);
                    var m = {};
                    m.task = d, DayPilot.Util.copyProps(h.row, m), m.name = h.text, m.id = h.id, m.children = [], 
                    m.expanded = !h.row || !h.row.collapsed, d.children && d.children.length && s.Ee(d.children, m.children, d), 
                    i.push(m);
                }
            }, s.childrenStartEnd = function(e) {
                if (!e.children || !e.children.length) {
                    var t = e.start, i = e.end;
                    return "Milestone" === e.type && (i = t), {
                        start: new DayPilot.Date(t),
                        end: new DayPilot.Date(i)
                    };
                }
                for (var t = null, i = null, n = 0; n < e.children.length; n++) {
                    var a = s.childrenStartEnd(e.children[n]);
                    (!t || a.start.getTime() < t.getTime()) && (t = a.start), (!i || a.end.getTime() > i.getTime()) && (i = a.end);
                }
                return {
                    start: t,
                    end: i
                };
            }, this.rows = {}, this.rows.expand = function(e) {
                a.rows.expand(e);
            }, this.rows.expandAll = function() {
                a.rows.expandAll();
            }, this.rows.selection = {}, this.rows.selection.add = function(e) {
                a.rows.find(e.data.id);
            }, this.rows.selection.clear = function() {
                a.rows.selection.clear();
            }, this.rows.selection.get = function() {
                return a.rows.selection.get().map(function(e) {
                    return new DayPilot.Task(e.$.row.task, n);
                });
            }, this.exportAs = function(e, t) {
                return a.exportAs(e, t);
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        tasks: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? n.tasks.list = e.list : n.tasks.list = e);
                            }
                        },
                        links: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? n.links.list = e.list : n.links.list = e);
                            }
                        },
                        scrollTo: {
                            postInit: function() {
                                this.data && n.scrollTo(this.data);
                            }
                        },
                        scrollToTask: {
                            postInit: function() {
                                this.data && n.scrollToTask(this.data);
                            }
                        }
                    };
                    this.me = t;
                    for (var i in e) if (t[i]) {
                        var a = t[i];
                        a.data = e[i], a.preInit && a.preInit();
                    } else n[i] = e[i];
                }
            }, this.le = function() {
                var e = this.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
            }, this.internal = {}, this.internal.initialized = function() {
                return n.N;
            }, this.internal.rowObjectForTaskData = s.De, this.internal.loadOptions = n._d, 
            this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function() {
                n.Wd.scope && n.Wd.scope["$apply"]();
            }, this._d(i);
        }, "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotGantt = function(e) {
                var t = null, i = this.each(function() {
                    if (!this.daypilot) {
                        var i = new DayPilot.Gantt(this.id, e);
                        i.init(), this.daypilot = i, t || (t = i);
                    }
                });
                return 1 === this.length ? t : i;
            };
        }(jQuery), function() {
            var e = DayPilot.am();
            e && e.directive("daypilotGantt", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t.replaceWith(this["template"].replace("{{id}}", i["id"])), function(t, i, n) {
                            var a = new DayPilot.Gantt(i[0]);
                            a.Wd.scope = t, a.init();
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        t["$apply"](function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"];
                            d.call(t, c, function(e, t) {
                                a._d(e), a.update();
                            }, !0);
                        };
                    }
                };
            } ]);
        }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban) {
        var e = function() {};
        DayPilot.Kanban = function(t, i) {
            this.v = "2020.2.4327";
            var n = this;
            this.barWidth = 5, this.cardAutoHeight = !0, this.cardHeight = 60, this.cardMarginLeft = 5, 
            this.cardMarginRight = 5, this.cardMarginBottom = 5, this.columnHeaderHeight = 20, 
            this.crosshairType = "Disabled", this.height = 300, this.heightSpec = "Auto", this.theme = "kanban_default", 
            this.cellMarginBottom = 4, this.cellMarginTop = 5, this.columnWidthSpec = "Auto", 
            this.columnWidth = 200, this.cornerHtml = null, this.contextMenuCard = null, this.rowMinHeight = 0, 
            this.swimlaneCollapsingEnabled = !1, this.swimlaneHeaderWidth = 80, this.visible = !0, 
            this.swimlanes = {}, this.swimlanes.list = [], this.columns = {}, this.columns.list = [], 
            this.cards = {}, this.cards.list = [], this.cardDeleteHandling = "Disabled", this.cardMoveHandling = "Update", 
            this.columnMoveHandling = "Disabled", this.swimlaneMoveHandling = "Disabled", this.cardRightClickHandling = "ContextMenu", 
            this.onBeforeCellRender = null, this.onCardClick = null, this.onCardClicked = null, 
            this.onCardRightClick = null, this.onCardRightClicked = null, this.onCardDelete = null, 
            this.onCardDeleted = null, this.onCardMove = null, this.onCardMoved = null, this.onColumnMove = null, 
            this.onColumnMoved = null, this.onHeightChanged = null, this.onSwimlaneMove = null, 
            this.onSwimlaneMoved = null;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a;
            var r = {}, o = 15, s = 15;
            e();
            var l = new DayPilot.Date("2000-01-01");
            r.translate = function() {
                var e = a;
                e.startDate = l, e.scale = "Day", e.timeHeaders = [ {
                    groupBy: "Cell",
                    format: "d"
                } ], e.rowHeaderColumnsMode = "Legacy", e.heightSpec = n.heightSpec, e.cellWidthSpec = n.columnWidthSpec, 
                e.cellWidth = n.columnWidth, e.cellsMarkBusiness = !1, e.cornerHtml = n.cornerHtml, 
                e.crosshairType = n.crosshairType, e.dynamicEventRendering = "Disabled", e.floatingEvents = !1, 
                e.floatingTimeHeaders = !1, e.rowMinHeight = n.rowMinHeight, e.rowMarginTop = n.cellMarginTop, 
                e.rowMarginBottom = n.cellMarginBottom, e.devsb = n.devsb, e.eventMoveToPosition = !0, 
                e.headerHeight = n.columnHeaderHeight, e.eventResizeHandling = "Disabled", e.timeRangeSelectedHandling = "Disabled", 
                e.eventHeight = n.cardHeight, e.eventMarginLeft = n.cardMarginLeft, e.eventMarginRight = n.cardMarginRight, 
                e.eventMarginBottom = n.cardMarginBottom, e.eventTextWrappingEnabled = !0, e.durationBarVisible = !1, 
                e.theme = n.theme, e.visible = n.visible, e.rowHeaderWidth = n.swimlaneHeaderWidth, 
                e.contextMenu = n.contextMenuCard, e.eventDeleteHandling = n.cardDeleteHandling, 
                e.eventMoveHandling = n.cardMoveHandling, e.rowMoveHandling = DayPilot.list(n.swimlanes.list).isEmpty() ? "Disabled" : n.swimlaneMoveHandling, 
                e.eventRightClickHandling = n.cardRightClickHandling, e.onHeightChanged = n.onHeightChanged, 
                e.internal.enableCellStacking(n.cardAutoHeight), e.internal.cssNames.timeheadercol = "_colheadercell", 
                e.internal.cssNames.timeheadercolInner = "_colheadercell_inner", e.internal.cssNames.resourcedivider = "_rowheaderdivider", 
                e.internal.cssNames.event = "_card", e.internal.cssNames.eventInner = "_card_inner", 
                e.internal.cssNames.eventDelete = "_card_delete", e.internal.cssNames.eventMovingSource = "_card_moving_source", 
                n.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15), e.onBeforeTimeHeaderRender = function(e) {
                    var t = n.He(e.header.start);
                    if (e.header.html = t.name, e.header.toolTip = t.toolTip || "", e.header.areas = DayPilot.list(t.areas).map(function(e) {
                        var t = [];
                        return DayPilot.Util.copyProps(e, t), t;
                    }), DayPilot.list(e.header.areas).each(function(e) {
                        e.target = new DayPilot.KanbanColumn(t, n);
                    }), "Disabled" !== n.columnMoveHandling) {
                        var i = n.theme + "_columnmove_handle";
                        e.header.areas.push({
                            left: 0,
                            top: 0,
                            width: 20,
                            height: 20,
                            css: i,
                            mousedown: n.Ie,
                            action: "None"
                        });
                    }
                }, e.onBeforeCellRender = function(t) {
                    var i = {};
                    i.cell = {}, i.cell.column = new DayPilot.KanbanColumn(n.He(t.cell.start), n), i.cell.swimlane = null;
                    var a = n.Je(t.cell.resource);
                    a && (i.cell.swimlane = new DayPilot.Swimlane(a, n)), i.cell.areas = [], i.cell.cssClass = null, 
                    i.cell.html = null, i.cell.backImage = null, i.cell.backRepeat = null, i.cell.backColor = null, 
                    "function" == typeof n.onBeforeCellRender && (n.onBeforeCellRender(i), DayPilot.Util.copyProps(i.cell, t.cell, [ "areas", "cssClass", "html", "backImage", "backRepeat", "backColor" ]), 
                    DayPilot.list(t.cell.areas).each(function(e) {
                        e.target = {
                            swimlane: i.cell.swimlane,
                            column: i.cell.column
                        };
                    }));
                    var r = e.rows.find(t.cell.resource);
                    e.resources[r.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = ""), t.cell.cssClass += " " + n.theme + "_collapsed");
                }, e.onEventClick = function(e) {
                    var t = new DayPilot.Args(e);
                    t.card = new DayPilot.Card(e.e.data.card, n), "function" == typeof n.onCardClick && n.onCardClick(t), 
                    e.wrapped = t;
                }, e.onEventClicked = function(e) {
                    var t = e.wrapped;
                    "function" == typeof n.onCardClicked && n.onCardClicked(t);
                }, e.onEventRightClick = function(e) {
                    var t = new DayPilot.Args(e);
                    if (t.card = new DayPilot.Card(e.e.data.card, n), "function" == typeof n.onCardRightClick && n.onCardRightClick(t), 
                    e.wrapped = t, !e.preventDefault.value) {
                        var i = e.e, a = t.card;
                        switch (n.cardRightClickHandling) {
                          case "ContextMenu":
                            var r = i.client.contextMenu();
                            r ? r.show(a) : n.contextMenuCard && n.contextMenuCard.show(a), e.preventDefault();
                        }
                    }
                }, e.onEventRightClicked = function(e) {
                    var t = e.wrapped;
                    "function" == typeof n.onCardRightClicked && n.onCardRightClicked(t);
                }, e.onEventDelete = function(e) {
                    var t = new DayPilot.Args(e);
                    t.card = new DayPilot.Card(e.e.data.card, n), "function" == typeof n.onCardDelete && n.onCardDelete(t), 
                    e.wrapped = t;
                }, e.onEventDeleted = function(e) {
                    DayPilot.rfa(n.cards.list, e.e.data.card);
                    var t = e.wrapped;
                    "function" == typeof n.onCardDeleted && n.onCardDeleted(t);
                }, e.onEventMove = function(e) {
                    e.external && (e.e.data.card = {
                        id: e.e.data.id,
                        name: e.e.data.name,
                        text: e.e.data.text,
                        barColor: e.e.data.barColor,
                        barBackColor: e.e.data.barBackColor
                    });
                    var t = new DayPilot.Args(e);
                    t.card = new DayPilot.Card(e.e.data.card, n), t.column = new DayPilot.KanbanColumn(n.He(e.newStart)), 
                    t.position = e.position, t.external = e.external, "*" !== e.newResource ? t.swimlane = new DayPilot.Swimlane(n.Je(e.newResource), n) : t.swimlane = null;
                    for (var i = a.cells.find(e.newStart, e.newResource)[0].events(), o = e.position, s = null, l = o - 1; i[l]; ) {
                        if (i[l].data !== e.e.data) {
                            s = new DayPilot.Card(i[l]);
                            break;
                        }
                        l -= 1;
                    }
                    for (var d = null, c = o; i[c]; ) {
                        if (i[c].data !== e.e.data) {
                            d = new DayPilot.Card(i[c]);
                            break;
                        }
                        c += 1;
                    }
                    if (t.previous = s, t.next = d, "function" == typeof n.onCardMove && n.onCardMove(t), 
                    e.wrapped = t, e.preventDefault(), !t.preventDefault.value) {
                        switch (n.cardMoveHandling) {
                          case "Update":
                            var h = 0;
                            d ? h = d.wrapped.data.sort[0] : s && (h = s.wrapped.data.sort[0]), e.e.data.sort = [ h, new DayPilot.Date().toString() ], 
                            DayPilot.rfa(n.cards.list, e.e.data.card);
                            var u = 0;
                            d ? u = DayPilot.indexOf(n.cards.list, d.data) : s && (u = DayPilot.indexOf(n.cards.list, s.data) + 1);
                            var f = n.He(e.newStart);
                            e.e.data.card.column = f.id, e.e.data.card.swimlane = e.newResource, n.cards.list.splice(u, 0, e.e.data.card), 
                            r.updateSort(), a.internal.deleteDragSource(), n.update();
                        }
                        !function() {
                            var t = e.wrapped, i = DayPilot.list(n.cards.list).find(function(t) {
                                return e.e.data.card === t;
                            });
                            i.swimlane = t.swimlane ? t.swimlane.data.id : null, i.column = t.column.data.id, 
                            "function" == typeof n.onCardMoved && n.onCardMoved(t);
                        }();
                    }
                }, e.onBeforeResHeaderRender = function(e) {
                    if (n.swimlaneCollapsingEnabled) {
                        if (!DayPilot.list(n.swimlanes.list).isEmpty()) {
                            var t = n.theme + "_swimlane_collapse";
                            e.resource.collapsed && (t = n.theme + "_swimlane_expand"), e.resource.areas = [ {
                                right: 0,
                                top: 0,
                                height: s,
                                width: o,
                                action: "JavaScript",
                                css: t,
                                js: function() {
                                    n.Ke(e.resource.index);
                                }
                            } ];
                        }
                    }
                }, e.onRowMove = function(e) {
                    var t = new DayPilot.Args(e);
                    e.wrapped = t, t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane);
                    var i = 0;
                    switch (e.position) {
                      case "before":
                        i = e.target.index;
                        break;

                      case "after":
                        i = e.target.index + 1;
                        break;

                      default:
                        throw "Unexpected target swimlane position: " + e.position;
                    }
                    t.position = i, t.previous = null;
                    for (var r = i - 1; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data; ) t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane), 
                    r -= 1;
                    t.next = null;
                    for (var o = i; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data; ) t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane), 
                    o += 1;
                    "function" == typeof n.onSwimlaneMove && n.onSwimlaneMove(t);
                }, e.onRowMoved = function(e) {
                    var t = e.wrapped;
                    DayPilot.rfa(n.swimlanes.list, t.swimlane.data);
                    var i = 0;
                    t.next ? i = DayPilot.indexOf(n.swimlanes.list, t.next.data) : t.previous && (i = DayPilot.indexOf(n.swimlanes.list, t.previous.data) + 1), 
                    n.swimlanes.list.splice(i, 0, t.swimlane.data), "function" == typeof n.onSwimlaneMoved && n.onSwimlaneMoved(t);
                }, e.treePreventParentUsage = !0;
            }, r.loadCards = function() {
                var e = n.theme + "_card_header", t = n.theme + "_card_body", i = new DayPilot.Date().toString();
                a.sortDirections = [ "asc", "desc" ], a.events.list = DayPilot.list(n.cards.list).map(function(a, r) {
                    var o = a.html || a.text || "", s = a.name || "", d = {};
                    return d.id = a.id, d.text = a.text, d.html = "<div class='" + e + "'>" + s + "</div><div class='" + t + "'>" + o + "</div>", 
                    d.resource = a.swimlane, d.start = l.addDays(DayPilot.list(n.columns.list).findIndex(function(e) {
                        return a.column === e.id;
                    })), d.end = d.start.addDays(1), d.card = a, d.height = a.height, d.cssClass = a.cssClass, 
                    d.sort = [ r, i ], d.areas = DayPilot.list(a.areas).map(function(e) {
                        var t = {};
                        return DayPilot.Util.copyProps(e, t), e.js && (t.js = function(t) {
                            e.js(new DayPilot.Card(t.data.card, n));
                        }), t;
                    }), d.areas.push({
                        left: 0,
                        width: 5,
                        top: 0,
                        bottom: 0,
                        backColor: a.barColor,
                        cssClass: n.theme + "_card_bar"
                    }), d;
                });
            }, r.updateSort = function() {
                var e = new DayPilot.Date().toString();
                DayPilot.list(n.cards.list).each(function(t, i) {
                    var n = r.findSchedulerEventData(t);
                    n && (n.sort = [ i, e ]);
                });
            }, r.findSchedulerEventData = function(e) {
                return DayPilot.list(a.events.list).find(function(t) {
                    return t.card === e;
                });
            }, r.loadSwimlanes = function() {
                var e = DayPilot.list(n.swimlanes.list);
                a.resources = e.map(function(e) {
                    var t = {};
                    return t.name = e.name, t.id = e.id, t.swimlane = e, e.collapsed && (t.collapsed = !0, 
                    t.eventHeight = 20, t.hideEvents = !0), t;
                }), e.isEmpty() && (a.resources = [ {
                    name: "",
                    id: "*"
                } ]);
            }, r.loadColumns = function() {
                var e = DayPilot.list(n.columns.list);
                a.days = e.length;
            };
            var d = {};
            d.active = null, d.div = null, d.update = function() {
                d.clear();
                var e = d.findPosition();
                d.draw(e);
            }, d.clear = function() {
                DayPilot.de(d.div), d.div = null;
            }, d.draw = function(e) {
                var t = 0;
                if (e >= a.itline.length) {
                    var i = a.itline[a.itline.length - 1];
                    t = i.left + i.width - 3;
                } else t = a.itline[e].left;
                var r = document.createElement("div");
                r.style.position = "absolute", r.style.left = t + "px", r.style.width = "3px", r.style.top = 0, 
                r.style.height = a.headerHeight + "px", r.className = n.theme + "_columnmove_position", 
                d.div = r, a.nav.timeHeader.appendChild(r);
            }, d.findPosition = function() {
                if (n.coords.x < 0) return 0;
                var e = DayPilot.list(a.itline).findIndex(function(e) {
                    var t = e.left + a.rowHeaderWidth, i = e.width;
                    return n.coords.x < t + i / 2;
                });
                return e === -1 ? a.itline.length : e;
            }, this.Ie = function(e) {
                d.active = e;
            }, this.He = function(e) {
                return n.columns.list[DayPilot.DateUtil.daysDiff(l, e)];
            }, this.Je = function(e) {
                return DayPilot.list(n.swimlanes.list).find(function(t) {
                    return t.id === e;
                });
            }, this.message = function(e, t, i, n) {
                a.message(e, t, i, n);
            }, this.show = function() {
                n.visible = !0, a.show();
            }, this.hide = function() {
                n.visible = !1, a.hide();
            }, this.cards.add = function(e) {
                var t = null;
                t = e && e instanceof DayPilot.Card ? e.data : e, e && (n.cards.list.push(t), n.update());
            }, this.cards.remove = function(e) {
                var t = null;
                t = e && e instanceof DayPilot.Card ? e.data : e, e && (DayPilot.rfa(n.cards.list, t), 
                n.update());
            }, this.cards.update = function(e) {
                n.update();
            }, this.cards.find = function(e) {
                var t = DayPilot.list(n.cards.list).find(function(t) {
                    return e === t.id;
                });
                return t ? new DayPilot.Card(t, n) : null;
            }, this.Ke = function(e) {
                DayPilot.list(n.swimlanes.list).isEmpty() || (n.swimlanes.list[e].collapsed = !n.swimlanes.list[e].collapsed), 
                n.update();
            }, this.init = function() {
                if (this.N) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                return r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.init(), 
                n.Kd(), this.N = !0, this;
            }, this.$d = !1, this.dispose = function() {
                a.dispose(), n.$d = !0;
            }, this.update = function(e) {
                if (n.$d) throw new DayPilot.Exception("This DayPilot.Gantt instance has been disposed.");
                n._d(e), r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.update();
            }, this.Kd = function() {
                DayPilot.re(document, "mouseup", n.Le), DayPilot.re(document, "mousemove", n.Me);
            }, this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function() {
                n.Wd.scope && n.Wd.scope["$apply"]();
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        cards: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? n.cards.list = e.list : n.cards.list = e);
                            }
                        },
                        columns: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? n.columns.list = e.list : n.columns.list = e);
                            }
                        },
                        swimlanes: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? n.swimlanes.list = e.list : n.swimlanes.list = e);
                            }
                        }
                    };
                    this.me = t;
                    for (var i in e) if (t[i]) {
                        var a = t[i];
                        a.data = e[i], a.preInit && a.preInit();
                    } else n[i] = e[i];
                }
            }, this.le = function() {
                var e = this.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
            }, this.internal = {}, this.internal.loadOptions = n._d, this._d(i), this.Gd = function() {
                var e = dp.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
            }, this.Hd = function() {
                var e = n, t = e.Gd;
                t() || e.Id || (e.Id = setInterval(function() {
                    t() && (e.update(), clearInterval(e.Id));
                }, 100));
            }, this.Me = function(e) {
                n.coords = DayPilot.mo3(a.nav.top, e), d.active && d.update();
            }, this.Le = function(e) {
                if (d.active) {
                    var t = d.active.source, i = d.findPosition(), a = n.He(t.start), r = new DayPilot.Args();
                    r.column = new DayPilot.KanbanColumn(a, n), r.position = i, r.previous = null, r.next = null;
                    for (var o = null, s = r.position; 0 !== s && !o; ) a !== n.columns.list[s - 1] && (o = n.columns.list[s - 1]), 
                    s -= 1;
                    o && (r.previous = new DayPilot.KanbanColumn(o, n));
                    var l = null;
                    for (s = r.position; s < n.columns.list.length - 1 && !l; ) a !== n.columns.list[s] && (l = n.columns.list[s]), 
                    s += 1;
                    if (l && (r.next = new DayPilot.KanbanColumn(l, n)), "function" == typeof n.onColumnMove && n.onColumnMove(r), 
                    !r.preventDefault.value) {
                        if ("Update" === n.columnMoveHandling) {
                            DayPilot.rfa(n.columns.list, r.column.data);
                            var c = 0;
                            r.next ? c = DayPilot.indexOf(n.columns.list, r.next.data) : r.previous && (c = DayPilot.indexOf(n.columns.list, r.previous.data) + 1), 
                            n.columns.list.splice(c, 0, r.column.data), n.update();
                        }
                        "function" == typeof n.onColumnMoved && n.onColumnMove(r);
                    }
                    d.active = null, d.clear();
                }
            };
        }, DayPilot.Kanban.makeDraggable = function(e) {
            DayPilot.Scheduler.makeDraggable(e);
        }, DayPilot.Card = function(e, t) {
            if (e instanceof DayPilot.Event) {
                var i = e;
                this.data = i.data.card, this.wrapped = e;
            } else this.data = e;
            this.control = t;
        }, DayPilot.KanbanColumn = function(e, t) {
            this.data = e, this.control = t;
        }, DayPilot.Swimlane = function(e, t) {
            this.data = e, this.control = t;
        }, function() {
            var e = DayPilot.am();
            e && e.directive("daypilotKanban", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t.replaceWith(this["template"].replace("{{id}}", i["id"])), function(t, i, n) {
                            var a = new DayPilot.Kanban(i[0]);
                            a.Wd.scope = t, a.init();
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        t["$apply"](function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"];
                            d.call(t, c, function(e, t) {
                                a._d(e), a.update();
                            }, !0);
                        };
                    }
                };
            } ]);
        }();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Menu) {
        var e = function() {}, t = {};
        t.mouse = null, t.menu = null, t.handlersRegistered = !1, t.hideTimeout = null, 
        t.waitingSubmenu = null, DayPilot.Menu = function(i) {
            var n = this, a = null;
            this.v = "2020.2.4327", this.zIndex = 120, this.cssClassPrefix = "menu_default", 
            this.cssOnly = !0, this.menuTitle = null, this.showMenuTitle = !1, this.hideOnMouseOut = !1, 
            this.hideAfter = 200, this.theme = null, this.onShow = null, this.s = function() {}, 
            i && DayPilot.isArray(i) && (this.items = i), this.show = function(i, r) {
                var r = r || {}, o = null;
                if (i ? "string" == typeof i.id || "number" == typeof i.id ? o = i.id : "function" == typeof i.id ? o = i.id() : "function" == typeof i.value && (o = i.value()) : o = null, 
                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), r.submenu || t.menuClean(), 
                this.s.submenu = null, null !== t.mouse) {
                    n.cssOnly || (n.cssOnly = !0);
                    var s = null;
                    if (i && i.isRow && i.$.row.task ? (s = new DayPilot.Task(i.$.row.task, i.calendar), 
                    s.menuType = "resource") : s = i && i.isEvent && i.data.task ? new DayPilot.Task(i, i.calendar) : i, 
                    "function" == typeof n.onShow) {
                        var l = {};
                        if (l.source = s, l.menu = n, l.preventDefault = function() {
                            l.preventDefault.value = !0;
                        }, n.onShow(l), l.preventDefault.value) return;
                    }
                    var d = document.createElement("div");
                    if (d.style.position = "absolute", d.style.top = "0px", d.style.left = "0px", d.style.display = "none", 
                    d.style.overflow = "hidden", d.style.zIndex = this.zIndex + 1, d.className = this.applyCssClass("main"), 
                    d.onclick = function(e) {
                        e.cancelBubble = !0, this.parentNode.removeChild(this);
                    }, this.hideOnMouseOut && (d.onmousemove = function(e) {
                        clearTimeout(t.hideTimeout);
                    }, d.onmouseleave = function(e) {
                        n.delayedHide({
                            hideParent: !0
                        });
                    }), !this.items || 0 === this.items.length) throw "No menu items defined.";
                    if (this.showMenuTitle) {
                        var c = document.createElement("div");
                        c.innerHTML = this.menuTitle, c.className = this.applyCssClass("title"), d.appendChild(c);
                    }
                    for (var h = 0; h < this.items.length; h++) {
                        var u = this.items[h], f = document.createElement("div");
                        if (DayPilot.Util.addClass(f, this.applyCssClass("item")), u.items && DayPilot.Util.addClass(f, this.applyCssClass("item_haschildren")), 
                        "undefined" != typeof u && !u.hidden) {
                            if ("-" === u.text) {
                                var v = document.createElement("div");
                                v.addEventListener("click", function(e) {
                                    e.stopPropagation();
                                }), f.appendChild(v);
                            } else {
                                var p = document.createElement("a");
                                if (p.style.position = "relative", p.style.display = "block", u.cssClass && DayPilot.Util.addClass(p, u.cssClass), 
                                u.disabled) DayPilot.Util.addClass(p, n.applyCssClass("item_disabled")); else {
                                    if (u.onclick || u.onClick) {
                                        p.item = u, p.onclick = function(e, t) {
                                            return function(i) {
                                                if ("function" == typeof e.onClick) {
                                                    var n = {};
                                                    if (n.item = e, n.source = t.source, n.originalEvent = i, n.preventDefault = function() {
                                                        n.preventDefault.value = !0;
                                                    }, e.onClick(n), n.preventDefault.value) return;
                                                }
                                                e.onclick && e.onclick.call(t, i);
                                            };
                                        }(u, p);
                                        var m = function(e, i) {
                                            return function(n) {
                                                n.stopPropagation(), n.preventDefault();
                                                var a = function() {
                                                    window.setTimeout(function() {
                                                        i.source.calendar.internal.touch.active = !1;
                                                    }, 500);
                                                };
                                                if ("function" == typeof e.onClick) {
                                                    var r = {};
                                                    if (r.item = e, r.source = i.source, r.originalEvent = n, r.preventDefault = function() {
                                                        r.preventDefault.value = !0;
                                                    }, e.onClick(r), r.preventDefault.value) return void a();
                                                }
                                                e.onclick && e.onclick.call(i, n), t.menuClean(), a();
                                            };
                                        };
                                        p.ontouchstart = function(e) {
                                            e.stopPropagation(), e.preventDefault(), p.source.calendar.internal.touch.active = !0;
                                        }, p.ontouchend = m(u, p);
                                    }
                                    if (u.items && !u.disabled) {
                                        var g = function(e, t) {
                                            return function(i) {
                                                i.preventDefault(), i.stopPropagation(), n.Ne(e, t);
                                            };
                                        };
                                        p.ontouchend = g(u, p);
                                    }
                                    if (u.onclick) e(); else if (u.href) p.href = u.href.replace(/\x7B0\x7D/gim, o), 
                                    u.target && p.setAttribute("target", u.target); else if (u.command) {
                                        var g = function(e, t) {
                                            return function(i) {
                                                var n = t.source, a = e;
                                                a.action = a.action ? a.action : "CallBack";
                                                var r = n.calendar || n.root;
                                                if (n instanceof DayPilot.Link) return void r.internal.linkMenuClick(a.command, n, a.action);
                                                if (n instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, n, a.action);
                                                if (n instanceof DayPilot.Event) return void r.internal.eventMenuClick(a.command, n, a.action);
                                                if (n instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, n, a.action);
                                                if (n instanceof DayPilot.Task) return void ("resource" === n.menuType ? r.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : r.internal.eventMenuClick(a.command, t.menuSource, a.action));
                                                switch (n.menuType) {
                                                  case "resource":
                                                    return void r.internal.resourceHeaderMenuClick(a.command, n, a.action);

                                                  case "selection":
                                                    return void r.internal.timeRangeMenuClick(a.command, n, a.action);

                                                  default:
                                                    return void r.internal.eventMenuClick(a.command, n, a.action);
                                                }
                                                i.preventDefault();
                                            };
                                        };
                                        p.onclick = g(u, p), p.ontouchend = g(u, p);
                                    }
                                }
                                u.items && p.addEventListener("click", function(e) {
                                    e.stopPropagation();
                                }), p.source = s, p.menuSource = i;
                                var y = document.createElement("span");
                                if (y.className = n.applyCssClass("item_text"), y.innerHTML = u.text, p.appendChild(y), 
                                u.image) {
                                    var b = document.createElement("img");
                                    b.src = u.image, b.style.position = "absolute", b.style.top = "0px", b.style.left = "0px", 
                                    p.appendChild(b);
                                }
                                if (u.icon) {
                                    var w = document.createElement("span");
                                    w.className = n.applyCssClass("item_icon");
                                    var k = document.createElement("i");
                                    k.className = u.icon, w.appendChild(k), p.appendChild(w);
                                }
                                var C = function(e, i) {
                                    return function() {
                                        var a = (i.source, e), r = t.waitingSubmenu;
                                        if (r) {
                                            if (r.parent === a) return;
                                            clearTimeout(r.timeout), t.waitingSubmenu = null;
                                        }
                                        e.disabled || (t.waitingSubmenu = {}, t.waitingSubmenu.parent = a, t.waitingSubmenu.timeout = setTimeout(function() {
                                            t.waitingSubmenu = null, n.Ne(a, i);
                                        }, 300));
                                    };
                                };
                                p.onmouseover = C(u, p), f.appendChild(p);
                            }
                            d.appendChild(f);
                        }
                    }
                    var x = function(e) {
                        window.setTimeout(function() {
                            t.menuClean(), DayPilot.MenuBar.deactivate();
                        }, 100);
                    };
                    d.onclick = x, d.ontouchend = x, d.onmousedown = function(e) {
                        e = e || window.event, e.cancelBubble = !0, e.stopPropagation && e.stopPropagation();
                    }, d.oncontextmenu = function() {
                        return !1;
                    }, document.body.appendChild(d), n.s.visible = !0, n.s.source = i, d.style.display = "";
                    var S = d.offsetHeight, E = d.offsetWidth;
                    d.style.display = "none";
                    var T = document.documentElement.clientHeight, A = document.documentElement.clientWidth, D = "number" == typeof r.windowMargin ? r.windowMargin : 5;
                    if (function() {
                        var e = r.initiator;
                        if (e) {
                            var t = e.div, i = e.e, n = e.area;
                            if ("Visible" !== (n.visibility || n.v || "Visible")) {
                                var o = DayPilot.Areas.createArea(t, i, n);
                                t.appendChild(o), a = o;
                                var s = DayPilot.abs(o);
                                r.x = s.x, r.y = s.y + s.h + 2;
                            }
                        }
                    }(), function() {
                        var e = "number" == typeof r.x ? r.x : t.mouse.x + 1, i = "number" == typeof r.y ? r.y : t.mouse.y + 1, n = document.body.scrollTop || document.documentElement.scrollTop, a = document.body.scrollLeft || document.documentElement.scrollLeft;
                        if (i - n > T - S && 0 !== T) {
                            var o = i - n - (T - S) + D;
                            d.style.top = i - o + "px";
                        } else d.style.top = i + "px";
                        if ("right" === r.align && (e -= E), e - a > A - E && 0 !== A) {
                            var s = e - a - (A - E) + D;
                            d.style.left = e - s + "px";
                        } else d.style.left = e + "px";
                    }(), r.parentLink) {
                        var H = r.parentLink, M = parseInt(new DayPilot.StyleReader(d).get("border-top-width")), _ = DayPilot.abs(r.parentLink.parentNode), R = _.x + H.offsetWidth, B = _.y - M;
                        R + E > A && (R = Math.max(0, _.x - E));
                        var P = document.body.scrollTop + document.documentElement.scrollTop;
                        B + S - P > T && (B = Math.max(0, T - S + P)), d.style.left = R + "px", d.style.top = B + "px";
                    }
                    d.style.display = "", this.addShadow(d), this.s.div = d, r.submenu || (DayPilot.Menu.active = this);
                }
            }, this.Ne = function(e, t) {
                var i = e, a = t.source;
                if ((!n.s.submenu || n.s.submenu.item !== e) && (n.s.submenu && n.s.submenu.item !== e && (DayPilot.Util.removeClass(n.s.submenu.link.parentNode, n.applyCssClass("item_haschildren_active")), 
                n.s.submenu.menu.hide(), n.s.submenu = null), e.items)) {
                    var r = n.cloneOptions();
                    r.items = e.items, n.s.submenu = {}, n.s.submenu.menu = new DayPilot.Menu(r), n.s.submenu.menu.Oe = n, 
                    n.s.submenu.menu.show(a, {
                        submenu: !0,
                        parentLink: t,
                        parentItem: i
                    }), n.s.submenu.item = e, n.s.submenu.link = t, DayPilot.Util.addClass(t.parentNode, n.applyCssClass("item_haschildren_active"));
                }
            }, this.applyCssClass = function(e) {
                var t = this.theme || this.cssClassPrefix, i = this.cssOnly ? "_" : "";
                return t ? t + i + e : "";
            }, this.cloneOptions = function() {
                return DayPilot.Util.copyProps(r, {}, [ "cssClassPrefix", "theme", "hideAfter", "hideOnMouseOut", "zIndex" ]);
            }, this.hide = function(e) {
                e = e || {}, this.s.submenu && this.s.submenu.menu.hide(), this.removeShadow(), 
                this.s.div && this.s.div.parentNode === document.body && document.body.removeChild(this.s.div), 
                a && (DayPilot.de(a), a = null), n.s.visible = !1, n.s.source = null, n.Oe && e.hideParent && n.Oe.hide(e), 
                DayPilot.Menu.active === n && (DayPilot.Menu.active = null);
            }, this.delayedHide = function(e) {
                t.hideTimeout = setTimeout(function() {
                    n.hide(e);
                }, n.hideAfter);
            }, this.cancelHideTimeout = function() {
                clearTimeout(t.hideTimeout);
            }, this.init = function(e) {
                return t.mouseMove(e), this;
            }, this.addShadow = function(e) {}, this.removeShadow = function() {};
            var r = DayPilot.isArray(i) ? null : i;
            if (r) for (var o in r) this[o] = r[o];
        }, DayPilot.MenuBar = function(e, t) {
            var i = this, t = t || {};
            this.items = [], this.theme = "menubar_default", this.windowMargin = 0, this.nav = {}, 
            this.elements = {}, this.elements.items = DayPilot.list(), this.Pe = null;
            for (var n in t) this[n] = t[n];
            this.Qe = function(e) {
                return this.theme + "_" + e;
            }, this.Ga = function() {
                this.nav.top = document.getElementById(e);
                var t = this.nav.top;
                t.className = this.Qe("main"), DayPilot.list(i.items).each(function(e) {
                    var n = document.createElement("span");
                    n.innerHTML = e.text, n.className = i.Qe("item"), n.data = e, n.onclick = function() {
                        return i.active && i.active.item === e ? void i.Re() : void (e.children && i.Se(n));
                    }, n.onmousedown = function(e) {
                        e.stopPropagation();
                    }, n.onmouseover = function() {
                        i.active && i.active.item !== e && i.Se(n);
                    }, t.appendChild(n), i.elements.items.push(n);
                });
            }, this.Re = function() {
                var e = i.Qe("item_active");
                i.elements.items.each(function(t) {
                    DayPilot.Util.removeClass(t, e);
                }), i.active && i.active.menu && i.active.menu.hide(), i.active = null;
            }, this.Te = function(e) {
                return !!i.active && i.active.item === e.data;
            }, this.Se = function(e) {
                if (!i.Te(e)) {
                    i.Re();
                    var t = e.data, n = i.active = {};
                    n.item = t, n.div = e;
                    var a = i.Qe("item_active");
                    DayPilot.Util.addClass(e, a);
                    var r = DayPilot.abs(e);
                    t.children && (n.menu = new DayPilot.Menu({
                        items: t.children
                    }), n.menu.show(null, {
                        x: r.x,
                        y: r.y + r.h,
                        align: t.align,
                        windowMargin: i.windowMargin
                    })), DayPilot.MenuBar.active = i;
                }
            }, this.init = function() {
                return this.Ga(), this;
            };
        }, DayPilot.MenuBar.deactivate = function() {
            DayPilot.MenuBar.active && (DayPilot.MenuBar.active.Re(), DayPilot.MenuBar.active = null);
        }, t.menuClean = function() {
            "undefined" != typeof DayPilot.Menu.active && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), 
            DayPilot.Menu.active = null);
        }, t.mouseDown = function(e) {
            "undefined" != typeof t && (t.menuClean(), DayPilot.MenuBar.deactivate());
        }, t.mouseMove = function(e) {
            "undefined" != typeof t && (t.mouse = t.mousePosition(e));
        }, t.touchMove = function(e) {
            "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }, t.touchStart = function(e) {
            "undefined" != typeof t && (t.mouse = t.touchPosition(e));
        }, t.touchEnd = function(e) {}, t.touchPosition = function(e) {
            if (!e || !e.touches) return null;
            var t = e.touches[0], i = {};
            return i.x = t.pageX, i.y = t.pageY, i;
        }, t.mousePosition = function(e) {
            return DayPilot.mo3(document.body, e);
        }, DayPilot.Menu.touchPosition = function(e) {
            e.touches && (t.mouse = t.touchPosition(e));
        }, DayPilot.Menu.hide = function() {
            t.menuClean();
        }, t.handlersRegistered || (DayPilot.re(document, "mousemove", t.mouseMove), DayPilot.re(document, "mousedown", t.mouseDown), 
        DayPilot.re(document, "touchmove", t.touchMove), DayPilot.re(document, "touchstart", t.touchStart), 
        DayPilot.re(document, "touchend", t.touchEnd), t.handlersRegistered = !0), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot && (DayPilot = {}), function(DayPilot) {
    DayPilot.ModalStatic = {}, DayPilot.ModalStatic.list = [], DayPilot.ModalStatic.hide = function() {
        if (this.list.length > 0) {
            var e = this.list.pop();
            e && e.hide();
        }
    }, DayPilot.ModalStatic.remove = function(e) {
        for (var t = DayPilot.ModalStatic.list, i = 0; i < t.length; i++) if (t[i] === e) return void t.splice(i, 1);
    }, DayPilot.ModalStatic.close = function(e) {
        DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
    }, DayPilot.ModalStatic.result = function(e) {
        var t = DayPilot.ModalStatic.list;
        t.length > 0 && (t[t.length - 1].result = e);
    }, DayPilot.ModalStatic.displayed = function(e) {
        for (var t = DayPilot.ModalStatic.list, i = 0; i < t.length; i++) if (t[i] === e) return !0;
        return !1;
    }, DayPilot.ModalStatic.stretch = function() {
        if (this.list.length > 0) {
            var e = this.list[this.list.length - 1];
            e && e.stretch();
        }
    }, DayPilot.ModalStatic.last = function() {
        var e = DayPilot.ModalStatic.list;
        return e.length > 0 ? e[e.length - 1] : null;
    };
    var e = function() {
        var e = document.createElement("style");
        e.setAttribute("type", "text/css"), e.styleSheet || e.appendChild(document.createTextNode("")), 
        (document.head || document.getElementsByTagName("head")[0]).appendChild(e);
        var t = !!e.styleSheet, i = {};
        return i.rules = [], i.commit = function() {
            try {
                t && (e.styleSheet.cssText = this.rules.join("\n"));
            } catch (e) {}
        }, i.add = function(i, n, a) {
            if (t) return void this.rules.push(i + "{" + n + "}");
            if (e.sheet.insertRule) "undefined" == typeof a && (a = e.sheet.cssRules.length), 
            e.sheet.insertRule(i + "{" + n + "}", a); else {
                if (!e.sheet.addRule) throw "No CSS registration method found";
                e.sheet.addRule(i, n, a);
            }
        }, i;
    }, t = new e();
    t.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"), t.add(".modal_default_main:focus", "outline: none;"), 
    t.add(".modal_default_content", "padding: 10px 0px;"), t.add(".modal_default_inner", "padding: 20px;"), 
    t.add(".modal_default_input", "padding: 10px 0px;"), t.add(".modal_default_buttons", "padding: 10px 0px;"), 
    t.add(".modal_default_form_item", "margin: 10px 0px;"), t.add(".modal_default_form_item.modal_default_form_title", "font-size: 2em; font-weight: bold;"), 
    t.add(".modal_default_form_item input", "width: 100%; box-sizing: border-box;"), 
    t.add(".modal_default_form_item select", "width: 100%; box-sizing: border-box;"), 
    t.add(".modal_default_form_item_label", "margin: 2px 0px;"), t.add(".modal_default_background", "opacity: 0.5; background-color: #000;"), 
    t.add(".modal_default_ok", "padding: 3px; width: 80px;"), t.add(".modal_default_cancel", "padding: 3px; width: 80px;"), 
    navigator.userAgent.indexOf("Edge") !== -1 && t.add(".modal_default_form_item_date input::-ms-clear", "display: none;"), 
    t.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"), t.add(".modal_min_background", "opacity: 0.5; background-color: #000;"), 
    t.add(".modal_min_ok", "padding: 3px 10px;"), t.add(".modal_min_cancel", "padding: 3px 10px;"), 
    t.add(".navigator_modal_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), 
    t.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after", "box-sizing: content-box;"), 
    t.add(".navigator_modal_month", "font-size: 11px;"), t.add(".navigator_modal_day", "color: black;"), 
    t.add(".navigator_modal_weekend", "background-color: #f0f0f0;"), t.add(".navigator_modal_dayheader", "color: black;"), 
    t.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"), t.add(".navigator_modal_dayother", "color: gray;"), 
    t.add(".navigator_modal_todaybox", "border: 1px solid red;"), t.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), 
    t.add(".navigator_modal_busy", "font-weight: bold;"), t.add(".navigator_modal_cell", "text-align: center;"), 
    t.add(".navigator_modal_select .navigator_modal_cell_box", "background-color: #FFE794; opacity: 0.5;"), 
    t.add(".navigator_modal_title", "text-align: center;"), t.add(".navigator_modal_titleleft, .navigator_modal_titleright", "text-align: center;"), 
    t.add(".navigator_modal_dayheader", "text-align: center;"), t.add(".navigator_modal_weeknumber", "text-align: center;"), 
    t.add(".navigator_modal_cell_text", "cursor: pointer;"), t.commit(), DayPilot.Modal = function(e) {
        this.autoFocus = !0, this.autoStretch = !0, this.autoStretchFirstLoadOnly = !1, 
        this.className = null, this.theme = "modal_default", this.disposeOnClose = !0, this.dragDrop = !0, 
        this.loadingHtml = null, this.maxHeight = null, this.scrollWithPage = !0, this.useIframe = !0, 
        this.zIndex = 99999, this.left = null, this.width = 600, this.top = 20, this.height = 200, 
        this.locale = null, this.closed = null, this.onClosed = null, this.onShow = null;
        var t = this;
        this.id = "_" + new Date().getTime() + "n" + 10 * Math.random(), this.Ue = !1, this.Ve = null, 
        this.We = null, this.showHtml = function(e) {
            if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed.";
            if (this.div || this.Xe(), this.kc(), this.useIframe) {
                var t = function(e, t) {
                    return function() {
                        e.setInnerHTML(e.id + "iframe", t);
                    };
                };
                window.setTimeout(t(this, e), 0);
            } else e.nodeType ? this.div.appendChild(e) : this.div.innerHTML = e;
            this.kc(), this.Ye(), this.Ze();
        }, this.showUrl = function(e) {
            if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed.";
            if (this.useIframe) {
                this.div || this.Xe();
                var i = this.loadingHtml;
                i && (this.iframe.src = "about:blank", this.setInnerHTML(this.id + "iframe", i)), 
                this.re(this.iframe, "load", this.$e), this.iframe.src = e, this.kc(), this.Ye(), 
                this.Ze();
            } else t._e({
                url: e,
                success: function(e) {
                    var i = e.request.responseText;
                    t.showHtml(i);
                },
                error: function(e) {
                    t.showHtml("Error loading the modal dialog");
                }
            });
        }, this.Ze = function() {
            if ("function" == typeof t.onShow) {
                var e = {};
                e.root = t.af(), t.onShow(e);
            }
        }, this.af = function() {
            return t.iframe ? t.iframe.contentWindow.document : t.div;
        }, this._e = function(e) {
            var t = new XMLHttpRequest();
            if (t) {
                var i = e.method || "GET", n = e.success || function() {}, a = e.error || function() {}, r = e.data, o = e.url;
                t.open(i, o, !0), t.setRequestHeader("Content-type", "text/plain"), t.onreadystatechange = function() {
                    if (4 === t.readyState) if (200 === t.status || 304 === t.status) {
                        var e = {};
                        e.request = t, n(e);
                    } else if (a) {
                        var e = {};
                        e.request = t, a(e);
                    } else window.console && console.log("HTTP error " + t.status);
                }, 4 !== t.readyState && ("object" == typeof r && (r = JSON.stringify(r)), t.send(r));
            }
        }, this.kc = function() {
            delete this.result;
            var e = window, i = document, n = e.pageYOffset ? e.pageYOffset : i.documentElement && i.documentElement.scrollTop ? i.documentElement.scrollTop : i.body.scrollTop;
            this.theme && (this.hideDiv.className = this.theme + "_background"), this.zIndex && (this.hideDiv.style.zIndex = this.zIndex), 
            this.hideDiv.style.display = "", window.setTimeout(function() {
                t.hideDiv && (t.hideDiv.onclick = function() {
                    t.hide({
                        backgroundClick: !0
                    });
                });
            }, 500), this.theme ? this.div.className = this.theme + "_main" : this.div.className = "", 
            this.className && (this.div.className += " " + this.className), this.left ? this.div.style.left = this.left + "px" : this.div.style.marginLeft = "-" + Math.floor(this.width / 2) + "px", 
            this.div.style.position = "absolute", this.div.style.boxSizing = "content-box", 
            this.div.style.top = n + this.top + "px", this.div.style.width = this.width + "px", 
            this.zIndex && (this.div.style.zIndex = this.zIndex), this.height && (this.useIframe || !this.autoStretch ? this.div.style.height = this.height + "px" : this.div.style.height = ""), 
            this.useIframe && this.height && (this.iframe.style.height = this.height + "px"), 
            this.div.style.display = "", this.cf(), DayPilot.ModalStatic.remove(this), DayPilot.ModalStatic.list.push(this);
        }, this.$e = function() {
            t.iframe.contentWindow.modal = t, t.autoStretch && t.stretch();
        }, this.stretch = function() {
            var e = function() {
                return t.bf().y;
            }, i = function() {
                return t.bf().x;
            };
            if (this.useIframe) {
                for (var n = i() - 40, a = this.width; a < n && this.df(); a += 10) this.div.style.width = a + "px", 
                this.div.style.marginLeft = "-" + Math.floor(a / 2) + "px";
                for (var r = this.maxHeight || e() - 2 * this.top, o = this.height; o < r && this.ef(); o += 10) this.iframe.style.height = o + "px", 
                this.div.style.height = o + "px";
                this.autoStretchFirstLoadOnly && this.ue(this.iframe, "load", this.$e);
            } else this.div.style.height = "";
        }, this.df = function() {
            for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, i = t.scrollWidth, n = e.body.children, a = 0; a < n.length; a++) {
                var r = n[a].offsetLeft + n[a].offsetWidth;
                i = Math.max(i, r);
            }
            return i > t.clientWidth;
        }, this.ef = function() {
            for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, i = t.scrollHeight, n = e.body.children, a = 0; a < n.length; a++) {
                var r = n[a].offsetTop + n[a].offsetHeight;
                i = Math.max(i, r);
            }
            return i > t.clientHeight;
        }, this.bf = function() {
            var e = document;
            if ("CSS1Compat" === e.compatMode && e.documentElement && e.documentElement.clientWidth) {
                var t = e.documentElement.clientWidth, i = e.documentElement.clientHeight;
                return {
                    x: t,
                    y: i
                };
            }
            var t = e.body.clientWidth, i = e.body.clientHeight;
            return {
                x: t,
                y: i
            };
        }, this.Ye = function() {
            this.Ue || (this.re(window, "resize", this.gf), this.re(window, "scroll", this.hf), 
            this.dragDrop && (this.re(document, "mousemove", this.if), this.re(document, "mouseup", this.jf)), 
            this.Ue = !0);
        }, this.kf = function() {
            this.ue(window, "resize", this.gf), this.ue(window, "scroll", this.hf), this.dragDrop && (this.ue(document, "mousemove", this.if), 
            this.ue(document, "mouseup", this.jf)), this.Ue = !1;
        }, this.lf = function(e) {
            e.target === t.div && (t.div.style.cursor = "move", t.mf(), t.We = t.mc(e || window.event), 
            t.Ve = {
                x: t.div.offsetLeft,
                y: t.div.offsetTop
            });
        }, this.if = function(e) {
            if (t.We) {
                var e = e || window.event, i = t.mc(e), n = i.x - t.We.x, a = i.y - t.We.y;
                t.div.style.marginLeft = "0px", t.div.style.top = t.Ve.y + a + "px", t.div.style.left = t.Ve.x + n + "px";
            }
        }, this.jf = function(e) {
            t.We && (t.nf(), t.div.style.cursor = null, t.We = null);
        }, this.mf = function() {
            if (this.useIframe) {
                var e = document.createElement("div");
                e.style.backgroundColor = "#ffffff", e.style.filter = "alpha(opacity=80)", e.style.opacity = "0.80", 
                e.style.width = "100%", e.style.height = this.height + "px", e.style.position = "absolute", 
                e.style.left = "0px", e.style.top = "0px", this.div.appendChild(e), this.mask = e;
            }
        }, this.nf = function() {
            this.useIframe && (this.div.removeChild(this.mask), this.mask = null);
        }, this.gf = function() {
            t.of(), t.cf();
        }, this.hf = function() {
            t.of();
        }, this.cf = function() {
            if (!t.left && t.div) {
                var e = t.div.offsetWidth;
                t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px";
            }
        }, this.of = function() {
            if (t.hideDiv && t.div && "none" !== t.hideDiv.style.display && "none" !== t.div.style.display) {
                var e = t.pf.scrollY();
                t.scrollWithPage || (t.div.style.top = e + t.top + "px");
            }
        }, this.pf = {}, this.pf.container = function() {
            return t.container || document.body;
        }, this.pf.scrollY = function() {
            var e = t.pf.container();
            return e === document.body ? window.pageYOffset ? window.pageYOffset : document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop : e.scrollTop;
        }, this.re = function(e, t, i) {
            e.addEventListener ? e.addEventListener(t, i, !1) : e.attachEvent && e.attachEvent("on" + t, i);
        }, this.ue = function(e, t, i) {
            e.removeEventListener ? e.removeEventListener(t, i, !1) : e.detachEvent && e.detachEvent("on" + t, i);
        }, this.mc = function(e) {
            return e.pageX || e.pageY ? {
                x: e.pageX,
                y: e.pageY
            } : {
                x: e.clientX + document.documentElement.scrollLeft,
                y: e.clientY + document.documentElement.scrollTop
            };
        }, this.abs = function(e) {
            for (var t = {
                x: e.offsetLeft,
                y: e.offsetTop
            }; e.offsetParent; ) e = e.offsetParent, t.x += e.offsetLeft, t.y += e.offsetTop;
            return t;
        }, this.Xe = function() {
            var e = t.pf.container(), i = e === document.body, n = i ? "fixed" : "absolute", a = document.createElement("div");
            a.id = this.id + "hide", a.style.position = n, a.style.left = "0px", a.style.top = "0px", 
            a.style.right = "0px", a.style.bottom = "0px", a.oncontextmenu = function() {
                return !1;
            }, a.onmousedown = function() {
                return !1;
            }, e.appendChild(a);
            var r = document.createElement("div");
            r.id = this.id + "popup", r.style.position = n, r.style.left = "50%", r.style.top = "0px", 
            r.style.backgroundColor = "white", r.style.width = "50px", r.style.height = "50px", 
            this.dragDrop && (r.onmousedown = this.lf);
            var o = null;
            this.useIframe && (o = document.createElement("iframe"), o.id = this.id + "iframe", 
            o.name = this.id + "iframe", o.frameBorder = "0", o.style.width = "100%", o.style.height = "50px", 
            r.appendChild(o)), e.appendChild(r), this.div = r, this.iframe = o, this.hideDiv = a;
        }, this.setInnerHTML = function(e, i) {
            var n = window.frames[e], a = n.contentWindow || n.document || n.contentDocument;
            a.document && (a = a.document), null == a.body && a.write("<body></body>"), i.nodeType ? a.body.appendChild(i) : a.body.innerHTML = i, 
            t.autoStretch && (t.autoStretchFirstLoadOnly && t.qf || (t.stretch(), t.qf = !0));
        }, this.close = function(e) {
            this.result = e, this.hide();
        }, this.closeSerialized = function() {
            for (var e = t.af(), i = e.querySelectorAll("input, textarea, select"), n = {}, a = 0; a < i.length; a++) {
                var r = i[a], o = r.name;
                if (o) {
                    var s = r.value;
                    if (r.picker && (s = r.picker.date ? r.picker.date.toString() : null), "SELECT" === r.tagName) {
                        var l = r.options[r.selectedIndex];
                        l && "undefined" != typeof l.rf && (s = l.rf);
                    }
                    n[o] = s;
                }
            }
            t.close(n);
        }, this.hide = function(e) {
            e = e || {};
            var i = {};
            i.backgroundClick = !!e.backgroundClick, i.result = this.result, i.canceled = "undefined" == typeof this.result, 
            i.preventDefault = function() {
                this.preventDefault.value = !0;
            }, "function" == typeof this.onClose && (this.onClose(i), i.preventDefault.value) || (this.div && (this.div.style.display = "none", 
            this.hideDiv.style.display = "none", this.useIframe || (this.div.innerHTML = null)), 
            window.focus(), DayPilot.ModalStatic.remove(this), "function" == typeof this.onClosed ? this.onClosed(i) : this.closed && this.closed(), 
            delete this.result, this.disposeOnClose && (t.kf(), t.sf(t.div), t.sf(t.hideDiv), 
            t.div = null, t.hideDiv = null, t.iframe = null));
        }, this.sf = function(e) {
            e && e.parentNode && e.parentNode.removeChild(e);
        }, this.tf = function() {
            if (e) for (var t in e) this[t] = e[t];
        }, this.tf();
    }, DayPilot.Modal.alert = function(e, t) {
        t = t || {}, t.height = t.height || 40, t.useIframe = !1;
        var i = t.okText || "OK";
        t.cancelText || "Cancel";
        return DayPilot.getPromise(function(n, a) {
            t.onClosed = function(e) {
                n(e);
            };
            var r = new DayPilot.Modal(t), o = document.createElement("div");
            o.className = r.theme + "_inner";
            var s = document.createElement("div");
            s.className = r.theme + "_content", s.innerHTML = e;
            var l = document.createElement("div");
            l.className = r.theme + "_buttons";
            var d = document.createElement("button");
            d.innerText = i, d.className = r.theme + "_ok", d.onclick = function(e) {
                DayPilot.ModalStatic.close("OK");
            }, l.appendChild(d), o.appendChild(s), o.appendChild(l), r.showHtml(o), r.autoFocus && d.focus();
        });
    }, DayPilot.Modal.confirm = function(e, t) {
        t = t || {}, t.height = t.height || 40, t.useIframe = !1;
        var i = t.okText || "OK", n = t.cancelText || "Cancel";
        return DayPilot.getPromise(function(a, r) {
            t.onClosed = function(e) {
                a(e);
            };
            var o = new DayPilot.Modal(t), s = document.createElement("div");
            s.className = o.theme + "_inner";
            var l = document.createElement("div");
            l.className = o.theme + "_content", l.innerHTML = e;
            var d = document.createElement("div");
            d.className = o.theme + "_buttons";
            var c = document.createElement("button");
            c.innerText = i, c.className = o.theme + "_ok", c.onclick = function(e) {
                DayPilot.ModalStatic.close("OK");
            };
            var h = document.createTextNode(" "), u = document.createElement("button");
            u.innerText = n, u.className = o.theme + "_cancel", u.onclick = function(e) {
                DayPilot.ModalStatic.close();
            }, d.appendChild(c), d.appendChild(h), d.appendChild(u), s.appendChild(l), s.appendChild(d), 
            o.showHtml(s), o.autoFocus && c.focus();
        });
    }, DayPilot.Modal.prompt = function(e, t, i) {
        "object" == typeof t && (i = t, t = ""), i = i || {}, i.height = i.height || 40, 
        i.useIframe = !1;
        var n = i.okText || "OK", a = i.cancelText || "Cancel", r = t || "";
        return DayPilot.getPromise(function(t, o) {
            i.onClosed = function(e) {
                t(e);
            };
            var s = new DayPilot.Modal(i), l = document.createElement("div");
            l.className = s.theme + "_inner";
            var d = document.createElement("div");
            d.className = s.theme + "_content", d.innerHTML = e;
            var c = document.createElement("div");
            c.className = s.theme + "_input";
            var h = document.createElement("input");
            h.value = r, h.style.width = "100%", h.onkeydown = function(e) {
                var t = !1;
                switch (e.keyCode) {
                  case 13:
                    s.close(this.value);
                    break;

                  case 27:
                    s.close();
                    break;

                  default:
                    t = !0;
                }
                t || (e.preventDefault(), e.stopPropagation());
            }, c.appendChild(h);
            var u = document.createElement("div");
            u.className = s.theme + "_buttons";
            var f = document.createElement("button");
            f.innerText = n, f.className = s.theme + "_ok", f.onclick = function(e) {
                s.close(h.value);
            };
            var v = document.createTextNode(" "), p = document.createElement("button");
            p.innerText = a, p.className = s.theme + "_cancel", p.onclick = function(e) {
                s.close();
            }, u.appendChild(f), u.appendChild(v), u.appendChild(p), l.appendChild(d), l.appendChild(c), 
            l.appendChild(u), s.showHtml(l), s.autoFocus && h.focus();
        });
    };
    var i = function(e) {
        return [ "text", "date", "select" ].indexOf(e.type) !== -1 ? e.type : e.options ? "select" : e.dateFormat ? "date" : "text";
    }, n = function(e, t) {
        return {
            text: function(t) {
                var i = document.createElement("input");
                return i.name = e.id, i.onkeydown = function(e) {
                    var i = !1;
                    switch (e.keyCode) {
                      case 13:
                        t.closeSerialized();
                        break;

                      case 27:
                        t.close();
                        break;

                      default:
                        i = !0;
                    }
                    i || (e.preventDefault(), e.stopPropagation());
                }, i;
            },
            date: function(t) {
                var i = document.createElement("input");
                i.className = t.theme + "_input_date", i.name = e.id, i.onkeydown = function(e) {
                    var n = !1;
                    switch (e.keyCode) {
                      case 13:
                        t.closeSerialized();
                        break;

                      case 27:
                        i.picker.close(), t.close();
                        break;

                      case 9:
                        i.picker && i.picker.close(), n = !0;
                        break;

                      default:
                        n = !0;
                    }
                    n || (e.preventDefault(), e.stopPropagation());
                }, i.onfocus = function() {
                    i.picker.show();
                }, i.onclick = function() {
                    i.picker.show();
                };
                var n = DayPilot.DatePicker || DayPilot.ModalDatePicker, a = new n({
                    target: i,
                    theme: "navigator_modal",
                    zIndex: t.zIndex + 1,
                    resetTarget: !1,
                    targetAlignment: "left"
                });
                e.dateFormat && (a.pattern = e.dateFormat);
                var r = e.locale || t.locale;
                return r && (a.locale = r), i.picker = a, i;
            },
            select: function(t) {
                var i = document.createElement("select");
                return i.name = e.id, r(e.options) && e.options.forEach(function(e) {
                    var t = document.createElement("option");
                    t.innerText = e.name, t.value = e.id, t.rf = e.id, i.appendChild(t);
                }), i;
            }
        }[i(e)](t);
    }, a = function(e, t) {
        var a = null, r = "string" == typeof t.id, o = i(t);
        r && (a = n(t, e));
        var s = document.createElement("div");
        s.className = e.theme + "_form_item_label", s.innerHTML = t.name;
        var l = document.createElement("div");
        l.className = e.theme + "_form_item", t.id || (l.className += " " + e.theme + "_form_title"), 
        t.cssClass && (l.className += " " + t.cssClass), r && (l.className += " " + e.theme + "_form_item_" + o), 
        l.appendChild(s), a && l.appendChild(a);
        var d = {};
        return d.div = l, d.label = s, d.element = a, d.type = o, d.set = function(e) {
            if (d.element) if ("date" === d.type) {
                var i = d.element.picker;
                i.date = new DayPilot.Date(e);
                var n = new DayPilot.Date(e).toString(t.dateFormat || i.pattern, i.locale);
                d.element.value = n;
            } else d.element.value = e;
        }, d.focus = function() {
            a && a.focus();
        }, d.canFocus = function() {
            return !!a;
        }, d;
    }, r = function(e) {
        return "[object Array]" === Object.prototype.toString.call(e);
    };
    DayPilot.Modal.form = function(e, t, i) {
        if (1 === arguments.length) {
            var n = e;
            if (r(n)) t = {}; else {
                if ("object" != typeof n) throw "Invalid DayPilot.Modal.form() parameter";
                t = e, e = [];
                for (var o in t) {
                    var s = {};
                    s.name = o, s.id = o, e.push(s);
                }
            }
        }
        var l = {};
        for (var o in i) l[o] = i[o];
        l.height = l.height || 40, l.useIframe = !1, "undefined" == typeof l.autoFocus && (l.autoFocus = !1);
        var d = l.okText || "OK", c = l.cancelText || "Cancel", h = l.message || "";
        return DayPilot.getPromise(function(i, n) {
            l.onClosed = function(e) {
                var n = {};
                for (var a in t) n[a] = t[a];
                for (var a in e.result) n[a] = e.result[a];
                e.result = n, i(e);
            };
            var r = new DayPilot.Modal(l), o = document.createElement("div");
            o.className = r.theme + "_inner";
            var s = document.createElement("div");
            s.className = r.theme + "_content", s.innerHTML = h;
            var u = document.createElement("div");
            u.className = r.theme + "_input";
            var f = [], v = {};
            e.forEach(function(e) {
                var t = a(r, e);
                f.push(t), v[e.id] = t;
            });
            for (var p in t) v[p] && v[p].set(t[p]);
            f.forEach(function(e) {
                u.appendChild(e.div);
            });
            var m = document.createElement("div");
            m.className = r.theme + "_buttons";
            var g = document.createElement("button");
            g.innerText = d, g.className = r.theme + "_ok", g.onclick = function(e) {
                r.closeSerialized();
            };
            var y = document.createTextNode(" "), b = document.createElement("button");
            if (b.innerText = c, b.className = r.theme + "_cancel", b.onclick = function(e) {
                r.close();
            }, m.appendChild(g), m.appendChild(y), m.appendChild(b), o.appendChild(s), o.appendChild(u), 
            o.appendChild(m), r.showHtml(o), r.div.setAttribute("tabindex", "-1"), r.div.addEventListener("keydown", function(e) {
                switch (e.keyCode) {
                  case 27:
                    r.close();
                    break;

                  case 13:
                    r.closeSerialized();
                }
            }), r.autoFocus) {
                var w = f.find(function(e) {
                    return e.canFocus();
                });
                w && w.focus();
            } else r.div.focus();
        });
    }, DayPilot.Modal.close = function(e) {
        var t = DayPilot.Modal.opener();
        t && t.close(e);
    }, DayPilot.Modal.stretch = function(e) {
        var t = DayPilot.Modal.opener();
        if (!t) throw "Unable to find the opener DayPilot.Modal instance.";
        t.stretch();
    }, DayPilot.Modal.closeSerialized = function() {
        DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
    }, DayPilot.Modal.opener = function() {
        return "undefined" != typeof DayPilot && "undefined" != typeof DayPilot.ModalStatic && DayPilot.ModalStatic.list.length > 0 ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1] : parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];
    }, "undefined" == typeof DayPilot.getPromise && (DayPilot.getPromise = function(e) {
        return "undefined" != typeof Promise ? new Promise(e) : (DayPilot.Promise = function(e) {
            var t = this;
            this.then = function(t, i) {
                return t = t || function() {}, i = i || function() {}, e(t, i), DayPilot.getPromise(e);
            }, this["catch"] = function(i) {
                return t.then(null, i), DayPilot.getPromise(e);
            };
        }, new DayPilot.Promise(e));
    });
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    var e = function() {};
    if ("undefined" == typeof DayPilot.Month) {
        var t = {};
        DayPilot.Month = function(i, n) {
            this.v = "2020.2.4327", this.nav = {};
            var a = this;
            this.id = i, this.isMonth = !0, this.api = 2, this.N = !1, this.hideUntilInit = !0, 
            this.startDate = new DayPilot.Date(), this.width = null, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble() : this.bubble = null, 
            this.cssClassPrefix = "month_default", this.cellHeight = 100, this.cellMarginBottom = 0, 
            this.allowMultiSelect = !0, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, 
            this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.doubleClickTimeout = 300, 
            this.eventEndSpec = "DateTime", this.headerHeight = 30, this.heightSpec = "Auto", 
            this.weekStarts = "Auto", this.eventHeight = 25, this.cellHeaderHeight = 24, this.clientState = {}, 
            this.afterRender = function() {}, this.cssOnly = !0, this.eventsLoadMethod = "GET", 
            this.initEventEnabled = !1, this.lineSpace = 1, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", 
            this.locale = "en-us", this.messageHideAfter = 5e3, this.notifyCommit = "Immediate", 
            this.visible = !0, this.eventMoveToPosition = !1, this.eventStartTime = !1, this.eventEndTime = !1, 
            this.eventStartEndWidth = 60, this.showWeekend = !0, this.cellMode = !1, this.shadowType = "Fill", 
            this.tapAndHoldTimeout = 300, this.timeFormat = "Auto", this.viewType = "Month", 
            this.weeks = 1, this.eventClickHandling = "Enabled", this.eventDeleteHandling = "Disabled", 
            this.eventDoubleClickHandling = "Enabled", this.eventMoveHandling = "Update", this.eventResizeHandling = "Update", 
            this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", 
            this.headerClickHandling = "Enabled", this.timeRangeSelectedHandling = "Enabled", 
            this.timeRangeDoubleClickHandling = "Enabled", this.onEventFilter = null, this.onBeforeEventRender = null, 
            this.onBeforeCellRender = null, this.onBeforeHeaderRender = null, this.onDomAddEvent = null, 
            this.onDomRemoveEvent = null, this.onBeforeEventExport = null, this.onBeforeCellExport = null, 
            this.onBeforeHeaderExport = null, this.backendUrl = null, this.cellEvents = [], 
            this.elements = {}, this.elements.events = [], this.L = {}, this.L.events = {}, 
            this.events = {}, this.M = 0, this.members = {}, this.members.ignore = [ "internal", "nav", "debug", "temp", "elements", "members", "cellProperties" ], 
            this.O = "javasc", this.X = function(e, t) {
                var e = JSON.parse(e);
                if (e.BubbleGuid) {
                    var i = e.BubbleGuid, n = this.bubbles[i];
                    return delete this.bubbles[i], a.na(), void ("undefined" != typeof e.Result.BubbleHTML && n.updateView(e.Result.BubbleHTML, n));
                }
                if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                if ("undefined" != typeof e.ClientState && (a.clientState = e.ClientState), "None" === e.UpdateType) return a.oa(e.CallBackData, !0), 
                e.Message && a.message(e.Message), void a.na();
                if (e.VsUpdate) {
                    var r = document.createElement("input");
                    r.type = "hidden", r.name = a.id + "_vsupdate", r.id = r.name, r.value = e.VsUpdate, 
                    a.uf.innerHTML = "", a.uf.appendChild(r);
                }
                a.events.list = e.Events, "undefined" != typeof e.TagFields && (a.tagFields = e.TagFields), 
                "undefined" != typeof e.SortDirections && (a.sortDirections = e.SortDirections), 
                "Full" === e.UpdateType && (a.cellProperties = e.CellProperties, a.headerProperties = e.HeaderProperties, 
                a.startDate = e.StartDate, "undefined" != typeof e.ShowWeekend && (a.showWeekend = e.ShowWeekend), 
                a.locale = e.Locale ? e.Locale : a.locale, a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat, 
                "undefined" != typeof e.WeekStarts && (a.weekStarts = e.WeekStarts), a.hashes = e.Hashes), 
                a.multiselect.clear(!0), a.multiselect.initList = e.SelectedEvents, a._(), a.vf(), 
                a.ta(), "Full" === e.UpdateType && (a.wf(), a.xf()), a.Ca(), a.Ga(), a.Ha(), a.oa(e.CallBackData, !0), 
                a.Ka(), e.Message && a.message(e.Message), a.na();
            }, this.oa = function(e, t) {
                var i = function(e, t) {
                    return function() {
                        if (a.La()) {
                            if ("function" == typeof a.onAfterRender) {
                                var i = {};
                                i.isCallBack = t, i.data = e, a.onAfterRender(i);
                            }
                        } else a.afterRender && a.afterRender(e, t);
                    };
                };
                window.setTimeout(i(e, t), 0);
            }, this.La = function() {
                return 2 === a.api;
            }, this.C = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : "";
            }, this.ta = function() {
                if (this.events.list) {
                    if ("function" == typeof this.onBeforeEventRender) for (var e = this.events.list.length, t = 0; t < e; t++) this.Ld(t);
                    this.cellMode ? this.yf() : this.zf();
                }
            }, this.U = function(e) {
                var t = e ? 0 : 100;
                a.loadingTimeout && window.clearTimeout(a.loadingTimeout), a.loadingTimeout = window.setTimeout(function() {
                    a.loadingLabelVisible && a.nav.loading && (a.nav.loading.style.top = s.headerHeight() + 5 + "px", 
                    a.nav.loading.innerHTML = a.loadingLabelText, a.nav.loading.style.display = "");
                }, t);
            }, this.na = function() {
                this.loadingTimeout && window.clearTimeout(this.loadingTimeout), a.nav.loading && (this.nav.loading.style.display = "none");
            }, this.zf = function() {
                if (this.events.list) {
                    for (var e = 0; e < this.events.list.length; e++) {
                        var t = this.events.list[e];
                        if ("object" != typeof t) throw new DayPilot.Exception("Event data item must be an object");
                        if (!t.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                        var i = null;
                        if ("function" == typeof a.onBeforeEventRender && (i = a.L.events[e]), i) {
                            if (i.hidden) continue;
                        } else if (t.hidden) continue;
                        var n = new DayPilot.Date(t.start), r = new DayPilot.Date(t.end);
                        if (r = a.Af(r), !(n.getTime() > r.getTime())) for (var o = 0; o < this.rows.length; o++) {
                            var s = this.rows[o];
                            if (s.belongsHere(n, r)) {
                                var l = new DayPilot.Event(t, a);
                                if ("function" == typeof a.onEventFilter && a.events.Rd) {
                                    var d = {};
                                    if (d.filter = a.events.Rd, d.visible = !0, d.e = l, a.onEventFilter(d), !d.visible) break;
                                }
                                s.events.push(l), "function" == typeof this.onBeforeEventRender && (l.cache = this.L.events[e]);
                            }
                        }
                    }
                    for (var c = 0; c < this.rows.length; c++) {
                        var s = this.rows[c];
                        s.events.sort(this.Td);
                        for (var h = 0; h < this.rows[c].events.length; h++) {
                            var u = s.events[h], f = s.getStartColumn(u), v = s.getWidth(u);
                            s.putIntoLine(u, f, v, c);
                        }
                    }
                }
            }, this.yf = function() {
                this.cellEvents = [];
                for (var e = 0; e < this.Bf(); e++) {
                    this.cellEvents[e] = [];
                    for (var t = 0; t < this.rows.length; t++) {
                        var i = {}, n = this.firstDate.addDays(7 * t + e);
                        i.start = n, i.end = n.addDays(1), i.events = [], this.cellEvents[e][t] = i;
                    }
                }
                for (var r = 0; r < this.events.list.length; r++) {
                    var o = this.events.list[r];
                    if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object");
                    if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                    var s = null;
                    if ("function" == typeof a.onBeforeEventRender && (s = a.L.events[r]), s) {
                        if (s.hidden) continue;
                    } else if (o.hidden) continue;
                    var l = new DayPilot.Date(o.start), d = new DayPilot.Date(o.start);
                    if (d = a.Af(d), !(l.getTime() > d.getTime())) for (var e = 0; e < this.Bf(); e++) for (var t = 0; t < this.rows.length; t++) {
                        var i = this.cellEvents[e][t];
                        if (l.getTime() >= i.start.getTime() && l.getTime() < i.end.getTime()) {
                            var c = new DayPilot.Event(o, a);
                            if ("function" == typeof a.onEventFilter && a.events.Rd) {
                                var h = {};
                                if (h.filter = a.events.Rd, h.visible = !0, h.e = c, a.onEventFilter(h), !h.visible) continue;
                            }
                            i.events.push(c), "function" == typeof this.onBeforeEventRender && (c.cache = this.L.events[r]);
                        }
                    }
                }
                for (var e = 0; e < this.Bf(); e++) for (var t = 0; t < this.rows.length; t++) {
                    var i = this.cellEvents[e][t];
                    i.events.sort(this.Td);
                }
            }, this._ = function() {
                for (var e = 0; e < this.elements.events.length; e++) {
                    var t = this.elements.events[e];
                    if ("function" == typeof a.onDomRemoveEvent) {
                        var i = t.domArgs;
                        t.domArgs = null, a.onDomRemoveEvent(i);
                    }
                    t.event = null, t.click = null, t.parentNode.removeChild(t);
                }
                this.elements.events = [];
            }, this.Ha = function() {
                this.L.events = {}, this.cellMode ? this.Cf() : this.Df(), this.multiselect.redraw();
            }, this.Cf = function() {
                this.elements.events = [];
                for (var e = 0; e < this.Bf(); e++) for (var t = 0; t < this.rows.length; t++) for (var i = this.cellEvents[e][t], n = (this.cells[e][t], 
                0); n < i.events.length; n++) {
                    var a = i.events[n];
                    a.part.colStart = e, a.part.colWidth = 1, a.part.row = t, a.part.line = n, a.part.startsHere = !0, 
                    a.part.endsHere = !0, this.vc(a);
                }
            }, this.Df = function() {
                this.elements.events = [];
                for (var e = 0; e < this.rows.length; e++) for (var t = this.rows[e], i = 0; i < t.lines.length; i++) for (var n = t.lines[i], a = 0; a < n.length; a++) this.vc(n[a]);
            }, this.Sd = function(e, t) {
                if (!(e && t && e.start && t.start)) return 0;
                var i = e.start().ticks - t.start().ticks;
                return 0 !== i ? i : t.end().ticks - e.end().ticks;
            }, this.Td = function(e, t) {
                if (!e || !t) return 0;
                if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return a.Sd(e, t);
                for (var i = 0, n = 0; 0 === i && "undefined" != typeof e.data.sort[n] && "undefined" != typeof t.data.sort[n]; ) i = e.data.sort[n] === t.data.sort[n] ? 0 : "number" == typeof e.data.sort[n] && "number" == typeof t.data.sort[n] ? e.data.sort[n] - t.data.sort[n] : a.Ud(e.data.sort[n], t.data.sort[n], a.sortDirections[n]), 
                n++;
                return i;
            }, this.Ud = function(e, t, i) {
                var n = "desc" !== i, a = n ? -1 : 1, r = -a;
                if (null === e && null === t) return 0;
                if (null === t) return r;
                if (null === e) return a;
                var o = [];
                return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r;
            }, this.Ef = function(e, i, n, a, r, o) {
                r || (r = 0);
                var s = a;
                this.shadow = {}, this.shadow.list = [], this.shadow.start = {
                    x: e,
                    y: i
                }, this.shadow.width = a, this.eventMoveToPosition && (s = 1, this.shadow.position = n);
                var l = 7 * i + e - r;
                l < 0 && (s += l, e = 0, i = 0);
                for (var d = r; d >= 7; ) i--, d -= 7;
                if (d > e) {
                    d > e + (7 - this.Bf()) ? (i--, e = e + 7 - d) : (s = s - d + e, e = 0);
                } else e -= d;
                i < 0 && (i = 0, e = 0);
                var c = null;
                for (t.resizingEvent ? c = "w-resize" : t.movingEvent && (c = "move"), this.nav.top.style.cursor = c; s > 0 && i < this.rows.length; ) {
                    var h = Math.min(this.Bf() - e, s), u = this.rows[i], f = this.Ff(i), v = u.getHeight();
                    this.eventMoveToPosition && (f = this.Gf(i, n), v = 2);
                    var p = document.createElement("div");
                    p.setAttribute("unselectable", "on"), p.style.position = "absolute", p.style.left = this.Hf() * e + "%", 
                    p.style.width = this.Hf() * h + "%", p.style.top = f + "px", p.style.height = v + "px", 
                    p.style.cursor = c;
                    var m = document.createElement("div");
                    m.setAttribute("unselectable", "on"), p.appendChild(m), p.className = this.C("_shadow"), 
                    m.className = this.C("_shadow_inner");
                    this.nav.events.appendChild(p), this.shadow.list.push(p), s -= h + 7 - this.Bf(), 
                    e = 0, i++;
                }
            }, this.If = function() {
                if (this.shadow) {
                    this.nav.events;
                    DayPilot.de(this.shadow.list), this.shadow = null, this.nav.top.style.cursor = "";
                }
            }, this.Gf = function(e, t) {
                for (var i = 0, n = 0; n < e; n++) i += this.rows[n].getHeight();
                return i += this.cellHeaderHeight, i += t * s.lineHeight();
            }, this.Jf = function(e, t) {
                return this.firstDate.addDays(7 * t + e);
            }, this.Ld = function(e) {
                var t = this.L.events, i = this.events.list[e], n = {};
                for (var a in i) n[a] = i[a];
                if ("function" == typeof this.onBeforeEventRender) {
                    var r = {};
                    r.e = n, r.data = n, this.onBeforeEventRender(r);
                }
                t[e] = n;
            }, this.vc = function(e) {
                var t = this.cellMode, i = e.part.row, n = e.part.line, o = e.part.colStart, l = e.part.colWidth, d = e.cache || e.data, c = t ? 0 : this.Hf() * o, h = t ? 100 : this.Hf() * l, u = t ? n * s.lineHeight() : this.Gf(i, n), f = document.createElement("div");
                f.setAttribute("unselectable", "on"), f.style.height = s.eventHeight() + "px", f.style.position = "relative", 
                f.style.overflow = "hidden", f.className = this.C("_event"), d.cssClass && DayPilot.Util.addClass(f, d.cssClass), 
                f.event = e, t ? (f.style.marginRight = "2px", f.style.marginBottom = "2px") : (f.style.width = h + "%", 
                f.style.position = "absolute", f.style.left = c + "%", f.style.top = u + "px"), 
                this.showToolTip && d.toolTip && !this.bubble && (f.title = d.toolTip), f.onclick = this.Kf, 
                f.ondblclick = this.Lf, f.oncontextmenu = this.Mf, f.onmousedown = this.yc, f.onmousemove = this.wc, 
                f.onmouseout = this.xc, f.ontouchstart = r.onEventTouchStart, f.ontouchmove = r.onEventTouchMove, 
                f.ontouchend = r.onEventTouchEnd, e.part.startsHere || DayPilot.Util.addClass(f, this.C("_event_continueleft")), 
                e.part.endsHere || DayPilot.Util.addClass(f, this.C("_event_continueright"));
                var v = document.createElement("div");
                v.setAttribute("unselectable", "on"), v.className = this.C("_event_inner"), d.fontColor && (v.style.color = d.fontColor), 
                d.borderColor && ("darker" === d.borderColor && d.backColor ? v.style.borderColor = DayPilot.ColorUtil.darker(d.backColor, 2) : v.style.borderColor = d.borderColor), 
                d.backColor && (v.style.background = d.backColor), f.appendChild(v);
                var p = this.$c.locale(), m = a.eventStartEndWidth;
                if (this.eventStartTime || d.htmlStart) {
                    var g = "Clock12Hours" === a.$c.timeFormat() ? e.start().toString("h tt", p) : e.start().toString("H", p), y = {
                        left: 5,
                        top: 3,
                        width: m,
                        bottom: 2,
                        v: "Visible",
                        html: d.htmlStart || g,
                        css: a.C("_event_timeleft")
                    }, b = DayPilot.Areas.createArea(f, e, y);
                    f.appendChild(b), v.style.paddingLeft = m + "px";
                }
                if (this.eventEndTime || d.htmlEnd) {
                    var g = "Clock12Hours" === a.$c.timeFormat() ? e.end().toString("h tt", p) : e.end().toString("H", p), y = {
                        right: 5,
                        top: 3,
                        width: m,
                        bottom: 2,
                        v: "Visible",
                        html: d.htmlEnd || g,
                        css: a.C("_event_timeright")
                    }, b = DayPilot.Areas.createArea(f, e, y);
                    f.appendChild(b), v.style.paddingRight = m + "px";
                }
                if (d.areas) for (var w = d.areas, k = 0; k < w.length; k++) {
                    var y = w[k];
                    if (DayPilot.Areas.isVisible(y)) {
                        var b = DayPilot.Areas.createArea(f, e, y);
                        f.appendChild(b);
                    }
                }
                !function() {
                    var t = {};
                    t.e = e, t.element = null, f.domArgs = t, "function" == typeof a.onDomAddEvent && a.onDomAddEvent(t), 
                    t.element ? v.appendChild(t.element) : v.innerHTML = e.client.innerHTML();
                }(), this.elements.events.push(f), t ? this.cells[o][i].body.appendChild(f) : this.nav.events.appendChild(f), 
                a.multiselect.$b(f.event) && a.multiselect.add(f.event, !0);
                var f = f;
                if (a.La()) {
                    if ("function" == typeof a.onAfterEventRender) {
                        var C = {};
                        C.e = f.event, C.div = f, a.onAfterEventRender(C);
                    }
                } else a.afterEventRender && a.afterEventRender(f.event, f);
            }, this.Kf = function(e) {
                r.start || a.Ya(this, e);
            }, this.Lf = function(e) {
                a.ab(this, e);
            }, this.wc = function(e) {
                var i = this, n = i.event;
                if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
                    var r = DayPilot.mo3(i, e);
                    if (r) {
                        !function() {
                            var e = i;
                            if (!e.active) {
                                var t = [], r = n.cache || n.data;
                                "Disabled" === a.eventDeleteHandling || r.deleteDisabled || t.push({
                                    action: "JavaScript",
                                    v: "Hover",
                                    w: 17,
                                    h: 17,
                                    top: 2,
                                    right: 2,
                                    css: a.C("_event_delete"),
                                    js: function(e) {
                                        a.gb(e);
                                    }
                                });
                                var o = e.event.cache ? e.event.cache.areas : e.event.data.areas;
                                o && o.length > 0 && (t = t.concat(o)), DayPilot.Areas.showAreas(e, e.event, null, t);
                            }
                        }(), a.Nf(i.event).each(function(e) {
                            DayPilot.Util.addClass(e, a.C("_event_hover"));
                        });
                        var o = 6;
                        if (!a.cellMode && r.x <= o && n.client.resizeEnabled() ? n.part.startsHere ? (i.style.cursor = "w-resize", 
                        i.dpBorder = "left") : i.style.cursor = "not-allowed" : !a.cellMode && i.clientWidth - r.x <= o && n.client.resizeEnabled() ? n.part.endsHere ? (i.style.cursor = "e-resize", 
                        i.dpBorder = "right") : i.style.cursor = "not-allowed" : n.client.clickEnabled() ? i.style.cursor = "pointer" : i.style.cursor = "default", 
                        "undefined" != typeof DayPilot.Bubble && a.bubble && "Disabled" !== a.eventHoverHandling) if (t.movingEvent || t.resizingEvent) DayPilot.Bubble.hideActive(); else {
                            var s = this.Md && r.x === this.Md.x && r.y === this.Md.y;
                            s || (this.Md = r, a.bubble.showEvent(i.event));
                        }
                    }
                }
            }, this.xc = function(e) {
                var t = this;
                "undefined" != typeof DayPilot.Bubble && a.bubble && a.bubble.hideOnMouseOut(), 
                t.style.cursor = "", a.Nf(t.event).each(function(e) {
                    DayPilot.Util.removeClass(e, a.C("_event_hover"));
                }), DayPilot.Areas.hideAreas(t, e);
            }, this.Mf = function() {
                var e = this;
                return a.bb(e.event), !1;
            }, this.yc = function(e) {
                if (!r.start) {
                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
                    var i = this, n = i.event, o = n.part.row, s = n.part.colStart, l = n.part.line, d = n.part.colWidth;
                    e = e || window.event;
                    var c = DayPilot.Util.mouseButton(e);
                    if (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), c.left) if ("undefined" != typeof DayPilot.Bubble && a.bubble && DayPilot.Bubble.hideActive(), 
                    t.movingEvent = null, "w-resize" === this.style.cursor || "e-resize" === this.style.cursor) {
                        var h = {};
                        h.start = {}, h.start.x = s, h.start.y = o, h.event = i.event, h.width = DayPilot.DateUtil.daysSpan(h.event.start(), h.event.end()) + 1, 
                        h.direction = this.style.cursor, t.resizingEvent = h;
                    } else if ("move" === this.style.cursor || n.client.moveEnabled()) {
                        a.If();
                        var u = DayPilot.mo3(a.nav.events, e);
                        if (!u) return;
                        var f = a.Of(u.x, u.y);
                        if (!f) return;
                        var v = DayPilot.DateUtil.daysDiff(n.start(), a.rows[o].start), p = 7 * f.y + f.x - (7 * o + s);
                        v && (p += v);
                        var m = {};
                        m.start = {}, m.start.x = s, m.start.y = o, m.start.line = l, m.offset = a.eventMoveToPosition ? 0 : p, 
                        m.colWidth = d, m.event = i.event, m.coords = u, t.movingEvent = m;
                    }
                }
            }, this.temp = {}, this.temp.getPosition = function() {
                if (!a.coords) return null;
                var e = a.Of(a.coords.x, a.coords.y);
                if (!e) return null;
                var t = new DayPilot.Date(a.Jf(e.x, e.y)), e = {};
                return e.start = t, e.end = t.addDays(1), e;
            }, this.zc = {};
            var r = a.zc;
            r.active = !1, r.start = !1, r.timeouts = [], r.onEventTouchStart = function(e) {
                if (!r.active && !r.start) {
                    r.clearTimeouts(), r.start = !0, r.active = !1;
                    var t = this;
                    if (t.event.client.moveEnabled()) {
                        var i = a.tapAndHoldTimeout;
                        r.timeouts.push(window.setTimeout(function() {
                            r.active = !0, r.start = !1;
                            var i = r.relativeCoords(e);
                            r.startMoving(t, i), e.preventDefault();
                        }, i));
                    }
                    e.stopPropagation();
                }
            }, r.onEventTouchMove = function(e) {
                r.clearTimeouts(), r.start = !1;
            }, r.onEventTouchEnd = function(e) {
                r.clearTimeouts(), r.start && a.Za(this, e), window.setTimeout(function() {
                    r.start = !1, r.active = !1;
                }, 500);
            }, r.onMainTouchStart = function(e) {
                if (!r.active && !r.start) {
                    r.clearTimeouts(), r.start = !0, r.active = !1;
                    var t = a.tapAndHoldTimeout;
                    r.timeouts.push(window.setTimeout(function() {
                        r.active = !0, r.start = !1, e.preventDefault();
                        var t = r.relativeCoords(e);
                        r.startRange(t);
                    }, t));
                }
            }, r.onMainTouchMove = function(e) {
                if (r.clearTimeouts(), r.start = !1, r.active) {
                    e.preventDefault();
                    var t = r.relativeCoords(e);
                    if (r.moving) return void r.updateMoving(t);
                    r.range && r.updateRange(t);
                }
            }, r.onMainTouchEnd = function(e) {
                if (r.clearTimeouts(), r.active) {
                    if (r.moving) {
                        var t = (r.moving, r.moving.event), i = a.shadow.start, n = a.shadow.position, o = r.moving.offset;
                        a.If(), r.moving = null, a.pb(t, i.x, i.y, o, e, n);
                    }
                    if (r.range) {
                        var s = r.range, i = new DayPilot.Date(a.Jf(s.from.x, s.from.y)), l = i.addDays(s.width);
                        r.range = null, a.xb(i, l);
                    }
                }
                window.setTimeout(function() {
                    r.start = !1, r.active = !1;
                }, 500);
            }, r.clearTimeouts = function() {
                for (var e = 0; e < r.timeouts.length; e++) clearTimeout(r.timeouts[e]);
                r.timeouts = [];
            }, r.relativeCoords = function(e) {
                var t = a.nav.events, i = e.touches ? e.touches[0] : e, n = i.pageX, r = i.pageY, o = DayPilot.abs(t);
                return {
                    x: n - o.x,
                    y: r - o.y,
                    toString: function() {
                        return "x: " + this.x + ", y:" + this.y;
                    }
                };
            }, r.startMoving = function(e, t) {
                a.If();
                var i = e.event, n = a.Of(t.x, t.y);
                if (n) {
                    var o = DayPilot.DateUtil.daysDiff(i.start(), a.rows[i.part.row].start), s = 7 * n.y + n.x - (7 * i.part.row + i.part.colStart);
                    o && (s += o);
                    var l = {};
                    l.start = {}, l.start.x = i.part.colStart, l.start.y = i.part.row, l.start.line = i.part.line, 
                    l.offset = a.eventMoveToPosition ? 0 : s, l.colWidth = i.part.colWidth, l.event = i, 
                    l.coords = t, r.moving = l, r.updateMoving(t);
                }
            }, r.updateMoving = function(e) {
                var t = a.Of(e.x, e.y);
                if (t) {
                    var i = a.Pf(t);
                    a.If();
                    var n = r.moving.event, o = r.moving.offset, s = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(n.start(), n.end()) + 1;
                    s < 1 && (s = 1), a.Ef(t.x, t.y, i, s, o, n);
                }
            }, r.startRange = function(e) {
                var t = a.Of(e.x, e.y);
                if (t) {
                    a.If();
                    var i = {};
                    i.start = {}, i.start.x = t.x, i.start.y = t.y, i.x = t.x, i.y = t.y, i.width = 1, 
                    r.range = i, r.updateRange(e);
                }
            }, r.updateRange = function(e) {
                var t = a.Of(e.x, e.y);
                if (t) {
                    a.If();
                    var i = r.range.start, n = 7 * i.y + i.x, o = 7 * t.y + t.x, s = Math.abs(o - n) + 1;
                    s < 1 && (s = 1);
                    var l = n < o ? i : t;
                    r.range.width = s, r.range.from = {
                        x: l.x,
                        y: l.y
                    }, a.Ef(l.x, l.y, 0, s, 0, null);
                }
            }, this.isWeekend = function(e) {
                return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
            }, this.Qf = function() {
                var e = this.startDate.lastDayOfMonth();
                if (this.showWeekend) return e;
                for (;this.isWeekend(e); ) e = e.addDays(-1);
                return e;
            }, this.vf = function() {
                if ("string" == typeof this.startDate && (this.startDate = new DayPilot.Date(this.startDate)), 
                "Month" === this.viewType ? this.startDate = this.startDate.firstDayOfMonth() : this.startDate = this.startDate.getDatePart(), 
                this.firstDate = this.startDate.firstDayOfWeek(s.weekStarts()), !this.showWeekend) {
                    for (var e = this.startDate.addMonths(-1).getMonth(), t = new DayPilot.Date(this.firstDate).addDays(6); this.isWeekend(t); ) t = t.addDays(-1);
                    t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7));
                }
                var i;
                this.startDate;
                if ("Month" === this.viewType) {
                    var n = this.Qf(), r = DayPilot.DateUtil.daysDiff(this.firstDate, n) + 1;
                    i = Math.ceil(r / 7);
                } else i = this.weeks;
                this.days = 7 * i, this.rows = [];
                for (var o = 0; o < i; o++) {
                    var l = {};
                    l.start = this.firstDate.addDays(7 * o), l.end = l.start.addDays(this.Bf()), l.events = [], 
                    l.lines = [], l.index = o, l.minHeight = this.cellHeight, l.calendar = this, l.belongsHere = function(e, t) {
                        return t.getTime() === e.getTime() && e.getTime() === this.start.getTime() || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime());
                    }, l.getPartStart = function(e) {
                        return DayPilot.DateUtil.max(this.start, e.start());
                    }, l.getPartEnd = function(e) {
                        return DayPilot.DateUtil.min(this.end, e.rawend());
                    }, l.getStartColumn = function(e) {
                        var t = this.getPartStart(e);
                        return DayPilot.DateUtil.daysDiff(this.start, t);
                    }, l.getWidth = function(e) {
                        return DayPilot.DateUtil.daysSpan(this.getPartStart(e), this.getPartEnd(e)) + 1;
                    }, l.putIntoLine = function(e, t, i, n) {
                        for (var a = this, r = 0; r < this.lines.length; r++) {
                            var o = this.lines[r];
                            if (o.isFree(t, i)) return o.addEvent(e, t, i, n, r), r;
                        }
                        var o = [];
                        return o.isFree = function(e, t) {
                            for (var i = !0, n = 0; n < this.length; n++) {
                                var a = this[n];
                                e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (i = !1);
                            }
                            return i;
                        }, o.addEvent = function(e, t, i, n, r) {
                            e.part.colStart = t, e.part.colWidth = i, e.part.row = n, e.part.line = r, e.part.startsHere = a.start.getTime() <= e.start().getTime(), 
                            e.part.endsHere = a.end.getTime() >= e.end().getTime(), this.push(e);
                        }, o.addEvent(e, t, i, n, this.lines.length), this.lines.push(o), this.lines.length - 1;
                    }, l.getStart = function() {
                        for (var e = 0, t = 0; t < a.rows.length && t < this.index; t++) e += a.rows[t].getHeight();
                    }, l.getHeight = function() {
                        return Math.max(this.lines.length * s.lineHeight() + a.cellHeaderHeight + a.cellMarginBottom, this.calendar.cellHeight);
                    }, this.rows.push(l);
                }
                this.Rf = this.firstDate.addDays(7 * i);
            }, this.Sf = function() {
                switch (this.heightSpec) {
                  case "Auto":
                    for (var e = s.headerHeight(), t = 0; t < this.rows.length; t++) e += this.rows[t].getHeight();
                    return e;

                  case "Fixed":
                    return this.height;
                }
            }, this.Tf = function(e, t) {
                return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
            }, this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function() {
                a.Wd.scope && a.Wd.scope["$apply"]();
            }, this.debug = new DayPilot.Debug(this), this.Fc = function() {
                var e = this.nav.top;
                this.nav.top.dp = this, e.setAttribute("unselectable", "on"), e.style.MozUserSelect = "none", 
                e.style.KhtmlUserSelect = "none", e.style.WebkitUserSelect = "none", e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", 
                e.style.WebkitTouchCallout = "none", e.style.position = "relative", this.width && (e.style.width = this.width), 
                e.onselectstart = function(e) {
                    return !1;
                }, e.className = this.C("_main"), this.hideUntilInit && (e.style.visibility = "hidden"), 
                this.visible || (e.style.display = "none"), e.onmousemove = this.Lc, e.ontouchstart = r.onMainTouchStart, 
                e.ontouchmove = r.onMainTouchMove, e.ontouchend = r.onMainTouchEnd, this.uf = document.createElement("div"), 
                this.uf.style.display = "none", this.nav.top.appendChild(this.uf);
                var t = document.createElement("div");
                t.style.position = "relative", t.style.height = s.headerHeight() + "px", t.oncontextmenu = function() {
                    return !1;
                }, this.nav.top.appendChild(t), this.nav.header = t;
                var i = document.createElement("div");
                i.style.zoom = "1";
                var n = document.createElement("div");
                n.style.position = "relative", i.appendChild(n), this.nav.loading = document.createElement("div"), 
                this.nav.loading.style.position = "absolute", this.nav.loading.style.top = "0px", 
                this.nav.loading.style.left = "5px", this.nav.loading.className = a.C("_loading"), 
                this.nav.loading.innerHTML = this.loadingLabelText, this.nav.loading.style.display = "none", 
                this.nav.top.appendChild(i), this.nav.top.appendChild(this.nav.loading), this.nav.scrollable = i, 
                this.nav.events = n;
            }, this.Lc = function(e) {
                e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), 
                a.coords = DayPilot.mo3(a.nav.events, e);
                var i = a.coords;
                if (i) {
                    var n = a.Of(i.x, i.y);
                    if (n) {
                        if (t.resizingEvent) {
                            a.If();
                            var r, o, s = t.resizingEvent;
                            s.start;
                            if ("w-resize" === s.direction) {
                                o = n;
                                var l = s.event.rawend();
                                l.getDatePart().getTime() === l.getTime() && (l = l.addDays(-1));
                                var d = a.Uf(l);
                                r = a.Tf(n, d);
                            } else o = a.Uf(s.event.start()), r = a.Tf(o, n);
                            r < 1 && (r = 1), a.Ef(o.x, o.y, 0, r);
                        } else if (t.movingEvent) {
                            if (i.x === t.movingEvent.coords.x && i.y === t.movingEvent.coords.y) return;
                            var c = a.Pf(n);
                            a.If();
                            var h = t.movingEvent.event, u = t.movingEvent.offset, r = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(h.start(), h.rawend()) + 1;
                            r < 1 && (r = 1), a.Ef(n.x, n.y, c, r, u, h);
                        } else if (t.timeRangeSelecting) {
                            t.cancelCellClick = !0, a.If();
                            var o = t.timeRangeSelecting, f = 7 * o.y + o.x, v = 7 * n.y + n.x, r = Math.abs(v - f) + 1;
                            r < 1 && (r = 1);
                            var p = f < v ? o : n;
                            t.timeRangeSelecting.from = {
                                x: p.x,
                                y: p.y
                            }, t.timeRangeSelecting.width = r, t.timeRangeSelecting.moved = !0, a.Ef(p.x, p.y, 0, r, 0, null);
                        }
                        if (t.drag) {
                            if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingEvent) {
                                var m = DayPilot.Date.today(), e = {
                                    id: t.drag.id,
                                    start: m,
                                    end: m.addSeconds(t.drag.duration),
                                    text: t.drag.text
                                }, g = t.drag.data;
                                if (g) {
                                    var y = [ "duration", "element", "remove", "id", "text" ];
                                    for (var b in g) DayPilot.contains(y, b) || (e[b] = g[b]);
                                }
                                var h = new DayPilot.Event(e, a);
                                h.external = !0;
                                var w = t.movingEvent = {};
                                w.event = h, w.coords = i, w.position = 0, w.offset = 0, w.external = !0, w.removeElement = t.drag.element;
                            }
                            e.cancelBubble = !0;
                        }
                    }
                }
            }, this.Pf = function(e) {
                for (var t = e.relativeY, i = a.rows[e.y], n = a.cellHeaderHeight, r = s.lineHeight(), o = i.lines.length, l = 0; l < i.lines.length; l++) {
                    if (i.lines[l].isFree(e.x, 1)) {
                        o = l;
                        break;
                    }
                }
                var d = Math.floor((t - n + r / 2) / r), d = Math.min(o, d), d = Math.max(0, d);
                return d;
            }, this.message = function(e, t, i, n) {
                if (null !== e) {
                    var r, t = t || this.messageHideAfter || 2e3, o = .8, l = s.headerHeight();
                    if (this.nav.message) r = a.nav.message; else {
                        r = document.createElement("div"), r.setAttribute("unselectable", "on"), r.style.position = "absolute", 
                        r.style.right = "0px", r.style.left = "0px", r.style.top = l + "px", r.style.opacity = o, 
                        r.style.filter = "alpha(opacity=80)", r.style.display = "none", r.onmousemove = function() {
                            r.messageTimeout && !r.status && clearTimeout(r.messageTimeout);
                        }, r.onmouseout = function() {
                            "none" !== a.nav.message.style.display && (r.messageTimeout = setTimeout(a.Wa, 500));
                        };
                        var d = document.createElement("div");
                        d.setAttribute("unselectable", "on"), d.onclick = function() {
                            a.nav.message.style.display = "none";
                        }, d.className = this.C("_message"), r.appendChild(d);
                        var c = document.createElement("div");
                        c.setAttribute("unselectable", "on"), c.style.position = "absolute", c.className = this.C("_message_close"), 
                        c.onclick = function() {
                            a.nav.message.style.display = "none";
                        }, r.appendChild(c), this.nav.top.appendChild(r), this.nav.message = r;
                    }
                    var h = function() {
                        a.nav.message.style.opacity = o, a.nav.message.firstChild.innerHTML = e;
                        var i = function() {
                            r.messageTimeout = setTimeout(a.Wa, t);
                        };
                        DayPilot.fade(a.nav.message, .2, i);
                    };
                    clearTimeout(r.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(a.nav.message, -.2, h) : h();
                }
            }, this.message.show = function(e) {
                a.message(e);
            }, this.message.hide = function() {
                a.Wa();
            }, this.Wa = function() {
                var e = function() {
                    a.nav.message.style.display = "none";
                };
                DayPilot.fade(a.nav.message, -.2, e);
            }, this.ea = function(e) {
                "Parent100Pct" === a.heightSpec && a.Ca();
            }, this.Ca = function() {
                var e = this.nav.scrollable;
                if ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec ? (e.style.top = this.headerHeight + "px", 
                e.style.bottom = "0px", e.style.left = "0px", e.style.right = "0px", e.style.overflow = "auto", 
                e.style.position = "absolute") : e.style.position = "relative", "Parent100Pct" === this.heightSpec) {
                    this.nav.top.style.height = "100%";
                    this.nav.top.clientHeight;
                } else this.nav.top.style.height = this.Sf() + "px";
                for (var t = 0; t < this.cells.length; t++) for (var i = 0; i < this.cells[t].length; i++) this.cells[t][i].style.top = this.Ff(i) + "px", 
                this.cells[t][i].style.height = this.rows[i].getHeight() + "px";
                this.Vf();
            }, this.Of = function(e, t) {
                for (var i = Math.floor(this.nav.top.clientWidth / this.Bf()), n = Math.min(Math.floor(e / i), this.Bf() - 1), a = null, r = 0, o = 0, s = 0, l = 0; l < this.rows.length; l++) {
                    if (o += this.rows[l].getHeight(), t < o) {
                        r = t - s, a = l;
                        break;
                    }
                    s = o;
                }
                null === a && (a = this.rows.length - 1);
                var d = {};
                return d.x = n, d.y = a, d.relativeY = r, d;
            }, this.Uf = function(e) {
                for (var t = DayPilot.DateUtil.daysDiff(this.firstDate, e), i = {
                    x: 0,
                    y: 0
                }; t >= 7; ) i.y++, t -= 7;
                return i.x = t, i;
            }, this.Vf = function() {
                var e = DayPilot.sw(this.nav.scrollable);
                this.nav.header.style.marginRight = e + "px";
            };
            var o = null;
            this.xf = function() {
                var e = this.nav.header, t = this.nav.events;
                this.cells = [];
                for (var i = 0; i < this.Bf(); i++) {
                    this.cells[i] = [];
                    var n = this.headerProperties ? this.headerProperties[i] : null, r = i + s.weekStarts();
                    if (r > 6 && (r -= 7), !n) {
                        var n = {};
                        n.html = s.locale().dayNames[r];
                    }
                    if ("function" == typeof a.onBeforeHeaderRender) {
                        var l = {};
                        l.header = {}, l.header.dayOfWeek = r;
                        var d = [ "html", "backColor", "cssClass" ];
                        DayPilot.Util.copyProps(n, l.header, d), a.onBeforeHeaderRender(l), DayPilot.Util.copyProps(l.header, n, d);
                    }
                    var c = document.createElement("div");
                    c.setAttribute("unselectable", "on"), c.style.position = "absolute", c.style.left = this.Hf() * i + "%", 
                    c.style.width = this.Hf() + "%", c.style.top = "0px", c.style.height = s.headerHeight() + "px", 
                    function(e) {
                        c.onclick = function() {
                            a.db(e);
                        };
                    }(r);
                    var h = document.createElement("div");
                    h.setAttribute("unselectable", "on"), h.className = this.C("_header_inner"), h.innerHTML = n.html, 
                    c.appendChild(h), c.className = this.C("_header"), n && (n.cssClass && DayPilot.Util.addClass(c, n.cssClass), 
                    n.backColor && (h.style.background = n.backColor)), e.appendChild(c);
                    for (var u = 0; u < this.rows.length; u++) this.Wf(i, u, t);
                }
                if (!DayPilot.contains(this.nav.top.childNodes, o) && DayPilot.Util.isNullOrUndefined(undefined)) {
                    var f = document.createElement("div");
                    f.style.position = "absolute", f.style.padding = "2px", f.style.top = "0px", f.style.left = "0px", 
                    f.style.backgroundColor = "#FF6600", f.style.color = "white", f.innerHTML = "DE" + "MO", 
                    o = f, this.nav.top.appendChild(f);
                }
            }, this.wf = function() {
                for (var e = 0; e < this.cells.length; e++) for (var t = 0; t < this.cells[e].length; t++) this.cells[e][t].onclick = null;
                this.nav.header.innerHTML = "", this.nav.events.innerHTML = "";
            }, this.Wf = function(t, i, n) {
                var r = this.rows[i], o = this.firstDate.addDays(7 * i + t), l = this.cellProperties ? this.cellProperties[i * this.Bf() + t] : null, d = null;
                if (l) d = l["headerHtml"]; else {
                    var c = o.getDay();
                    d = 1 === c ? s.locale().monthNames[o.getMonth()] + " " + c : c + "";
                }
                if (!l) {
                    var l = {};
                    l.business = !a.isWeekend(o), l.headerHtml = d;
                }
                if ("function" == typeof a.onBeforeCellRender) {
                    var h = {};
                    h.cell = {}, h.cell.areas = null, h.cell.backColor = null, h.cell.backImage = null, 
                    h.cell.backRepeat = null, h.cell.business = a.isWeekend(o), h.cell.headerHtml = d, 
                    h.cell.headerBackColor = null, h.cell.cssClass = null, h.cell.html = null, h.cell.start = o, 
                    h.cell.end = h.cell.start.addDays(1), h.cell.events = function() {
                        return a.events.forRange(h.cell.start, h.cell.end);
                    }, DayPilot.Util.copyProps(l, h.cell), a.onBeforeCellRender(h), DayPilot.Util.copyProps(h.cell, l, [ "areas", "backColor", "backImage", "backRepeat", "business", "headerHtml", "headerBackColor", "cssClass", "html" ]);
                }
                var u = document.createElement("div");
                u.setAttribute("unselectable", "on"), u.style.position = "absolute", u.style.cursor = "default", 
                u.style.left = this.Hf() * t + "%", u.style.width = this.Hf() + "%", u.style.top = this.Ff(i) + "px", 
                u.style.height = r.getHeight() + "px", u.d = o, u.x = t, u.y = i, u.props = l;
                var f = this.startDate.addMonths(-1).getMonth(), v = this.startDate.addMonths(1).getMonth(), p = this.startDate.getMonth(), m = document.createElement("div");
                m.setAttribute("unselectable", "on"), u.appendChild(m), m.className = this.C("_cell_inner"), 
                m.className = this.C("_cell_inner"), o.getMonth() === p ? u.className = this.C("_cell") : o.getMonth() === f ? u.className = this.C("_cell") + " " + this.C("_previous") : o.getMonth() === v ? u.className = this.C("_cell") + " " + this.C("_next") : e(), 
                l && (l["cssClass"] && DayPilot.Util.addClass(u, l.cssClass), l["business"] && DayPilot.Util.addClass(u, this.C("_cell_business")), 
                l["backColor"] && (m.style.backgroundColor = l["backColor"]), l["backImage"] && (m.style.backgroundImage = "url('" + l["backImage"] + "')"), 
                l["backRepeat"] && (m.style.backgroundRepeat = l["backRepeat"])), u.onmousedown = this.Fb, 
                u.onmousemove = this.Pb, u.onmouseout = this.Ob, u.oncontextmenu = this.Xf, u.onclick = this.Yf, 
                u.ondblclick = this.Zf;
                var g = document.createElement("div");
                if (g.setAttribute("unselectable", "on"), g.style.height = this.cellHeaderHeight + "px", 
                l && l["headerBackColor"] && (g.style.background = l["headerBackColor"]), g.className = this.C("_cell_header"), 
                g.innerHTML = l.headerHtml, m.appendChild(g), l && l["html"]) {
                    var y = document.createElement("div");
                    y.setAttribute("unselectable", "on"), y.style.height = r.getHeight() - this.cellHeaderHeight + "px", 
                    y.style.overflow = "hidden", y.innerHTML = l["html"], m.appendChild(y);
                }
                if (this.cellMode) {
                    var b = document.createElement("div");
                    b.setAttribute("unselectable", "on"), b.style.height = this.cellHeight - this.cellHeaderHeight + "px", 
                    b.style.overflow = "auto", b.style.position = "relative";
                    var w = document.createElement("div");
                    w.setAttribute("unselectable", "on"), w.style.paddingTop = "1px", w.style.paddingBottom = "1px", 
                    b.appendChild(w), m.appendChild(b), u.body = w, u.scrolling = b;
                }
                if (u.props) for (var k = u.props.areas || [], C = 0; C < k.length; C++) {
                    var x = k[C];
                    if (DayPilot.Areas.isVisible(x)) {
                        var S = DayPilot.Areas.createArea(u, u.props, x);
                        u.appendChild(S);
                    }
                }
                this.cells[t][i] = u, n.appendChild(u), "function" == typeof a.onAfterCellRender && (h.cell.div = u, 
                h.cell.divHeader = g, a.onAfterCellRender(h));
            }, this.Pb = function() {
                var e = this;
                e.props && DayPilot.Areas.showAreas(e, e.props);
            }, this.Ob = function(e) {
                var t = this;
                t.props && DayPilot.Areas.hideAreas(t, e);
            }, this.Xf = function() {
                var e = this.d;
                return function(e) {
                    var t = new DayPilot.Date(e), i = t.addDays(1), n = new DayPilot.Selection(t, i, null, a);
                    a.contextMenuSelection && a.contextMenuSelection.show(n);
                }(e), !1;
            }, this.Zf = function() {
                var e = this.d;
                if (a.timeouts) {
                    for (var t in a.timeouts) window.clearTimeout(a.timeouts[t]);
                    a.timeouts = null;
                }
                if ("Disabled" !== a.timeRangeDoubleClickHandling) {
                    var i = new DayPilot.Date(e), n = i.addDays(1);
                    a.yb(i, n);
                }
            }, this.Yf = function() {
                if (!t.cancelCellClick) {
                    var e = this.d, i = function(e) {
                        var t = new DayPilot.Date(e), i = t.addDays(1);
                        a.xb(t, i);
                    };
                    if ("Disabled" !== a.timeRangeSelectedHandling && "Disabled" === a.timeRangeDoubleClickHandling) return void i(e);
                    a.timeouts || (a.timeouts = []);
                    var n = function(e) {
                        return function() {
                            i(e);
                        };
                    };
                    a.timeouts.push(window.setTimeout(n(e), a.doubleClickTimeout));
                }
            }, this.Fb = function(e) {
                var i = this, n = i.x, r = i.y;
                if (t.cancelCellClick = !1, i.scrolling) {
                    var o = DayPilot.mo3(i.scrolling, e), s = DayPilot.sw(i.scrolling), l = i.scrolling.offsetWidth;
                    if (o.x > l - s) return;
                }
                "Disabled" !== a.timeRangeSelectedHandling && (a.If(), t.timeRangeSelecting = {
                    root: a,
                    x: n,
                    y: r,
                    from: {
                        x: n,
                        y: r
                    },
                    width: 1
                });
            }, this.Bf = function() {
                return this.showWeekend ? 7 : 5;
            }, this.Hf = function() {
                return this.showWeekend ? 14.285 : 20;
            }, this.Ff = function(e) {
                for (var t = 0, i = 0; i < e; i++) t += this.rows[i].getHeight();
                return t;
            }, this.clearSelection = function() {
                this.If();
            }, this.R = function(e, t, i) {
                var n = {};
                n.action = e, n.parameters = i, n.data = t, n.header = this.S();
                var r = "JSON" + JSON.stringify(n);
                __doPostBack(a.uniqueID, r);
            }, this.T = function(e, t, i, n) {
                if (!this.E()) return void a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof n && (n = "CallBack"), a.U();
                var r = {};
                r.action = e, r.type = n, r.parameters = t, r.data = i, r.header = this.S();
                var o = "JSON" + JSON.stringify(r);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.V, o, this.W) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, o, this.X, null, this.callbackError, !0);
            }, this.E = function() {
                return "javasc" !== a.O && a.O.indexOf("DCODE") === -1 || a.devsb;
            }, this.Y = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
            }, this.W = function(e) {
                if ("function" == typeof a.onAjaxError) {
                    var t = {};
                    t.request = e, a.onAjaxError(t);
                } else "function" == typeof a.ajaxError && a.ajaxError(e);
            }, this.V = function(e) {
                a.X(e.responseText);
            }, this.S = function() {
                var e = {};
                return e.v = this.v, e.control = "dpm", e.id = this.id, e.visibleStart = new DayPilot.Date(this.firstDate), 
                e.visibleEnd = e.visibleStart.addDays(this.days), e.clientState = this.clientState, 
                e.cssClassPrefix = a.cssClassPrefix, e.startDate = a.startDate, e.showWeekend = this.showWeekend, 
                e.locale = this.locale, e.timeFormat = this.timeFormat, e.weekStarts = this.weekStarts, 
                e.viewType = this.viewType, e.weeks = this.weeks, e.selected = a.multiselect.events(), 
                e.hashes = a.hashes, e;
            }, this.visibleStart = function() {
                return new DayPilot.Date(this.firstDate);
            }, this.visibleEnd = function() {
                return a.visibleStart().addDays(a.days);
            }, this.hb = function(e, t, i, n) {
                if ("PostBack" === e) a.postBack2(t, i, n); else if ("CallBack" === e) a.T(t, i, n, "CallBack"); else if ("Immediate" === e) a.T(t, i, n, "Notify"); else if ("Queue" === e) a.queue.add(new DayPilot.Action(this, t, i, n)); else {
                    if ("Notify" !== e) throw "Invalid event invocation type";
                    "Notify" === s.notifyType() ? a.T(t, i, n, "Notify") : a.queue.add(new DayPilot.Action(a, t, i, n));
                }
            }, this.tb = function(e, t) {
                var i = a.ub(t), n = {};
                n.args = e, n.guid = i, a.T("Bubble", n);
            }, this.ub = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;
            }, this.eventClickPostBack = function(e, t) {
                this.R("EventClick", t, e);
            }, this.eventClickCallBack = function(e, t) {
                this.T("EventClick", e, t);
            }, this.Ya = function(e, i) {
                t.movingEvent = null, t.resizingEvent = null;
                var i = i || window.event;
                i.ctrlKey, i.metaKey;
                if (i.cancelBubble = !0, i.stopPropagation && i.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), 
                "Disabled" === a.eventDoubleClickHandling) return void a.Za(e, i);
                if (a.timeouts) {
                    for (var n in a.timeouts) window.clearTimeout(a.timeouts[n]);
                    a.timeouts = [];
                } else a.timeouts = [];
                var r = function(e, t) {
                    return function() {
                        a.Za(e, t);
                    };
                };
                a.timeouts.push(window.setTimeout(r(e, i), a.doubleClickTimeout));
            }, this.Za = function(e, t) {
                var i = e.event;
                if (i.client.clickEnabled()) {
                    var n = t.ctrlKey, r = t.metaKey;
                    if (a.La()) {
                        var o = {};
                        if (o.e = i, o.div = e, o.originalEvent = t, o.meta = t.metaKey, o.ctrl = t.ctrlKey, 
                        o.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, "function" == typeof a.onEventClick && (a.onEventClick(o), o.preventDefault.value)) return;
                        switch (a.eventClickHandling) {
                          case "PostBack":
                            a.eventClickPostBack(i);
                            break;

                          case "CallBack":
                            a.eventClickCallBack(i);
                            break;

                          case "Select":
                            a._a(e, i, n, r);
                            break;

                          case "ContextMenu":
                            var s = i.client.contextMenu();
                            s ? s.show(i) : a.contextMenu && a.contextMenu.show(i);
                            break;

                          case "Bubble":
                            a.bubble && a.bubble.showEvent(i);
                        }
                        "function" == typeof a.onEventClicked && a.onEventClicked(o);
                    } else switch (a.eventClickHandling) {
                      case "PostBack":
                        a.eventClickPostBack(i);
                        break;

                      case "CallBack":
                        a.eventClickCallBack(i);
                        break;

                      case "JavaScript":
                        a.onEventClick(i);
                        break;

                      case "Select":
                        a._a(e, i, n, r);
                        break;

                      case "ContextMenu":
                        var s = i.client.contextMenu();
                        s ? s.show(i) : a.contextMenu && a.contextMenu.show(i);
                        break;

                      case "Bubble":
                        a.bubble && a.bubble.showEvent(i);
                    }
                }
            }, this.gb = function(e) {
                if (a.La()) {
                    var t = {};
                    if (t.e = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventDelete && (a.onEventDelete(t), t.preventDefault.value)) return;
                    switch (a.eventDeleteHandling) {
                      case "PostBack":
                        a.eventDeletePostBack(e);
                        break;

                      case "CallBack":
                        a.eventDeleteCallBack(e);
                        break;

                      case "Update":
                        a.events.remove(e);
                    }
                    "function" == typeof a.onEventDeleted && a.onEventDeleted(t);
                } else switch (a.eventDeleteHandling) {
                  case "PostBack":
                    a.eventDeletePostBack(e);
                    break;

                  case "CallBack":
                    a.eventDeleteCallBack(e);
                    break;

                  case "JavaScript":
                    a.onEventDelete(e);
                }
            }, this.eventDeletePostBack = function(e, t) {
                this.R("EventDelete", e, t);
            }, this.eventDeleteCallBack = function(e, t) {
                this.T("EventDelete", e, t);
            }, this.eventDoubleClickPostBack = function(e, t) {
                this.R("EventDoubleClick", t, e);
            }, this.eventDoubleClickCallBack = function(e, t) {
                this.T("EventDoubleClick", e, t);
            }, this.ab = function(e, t) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), a.timeouts) {
                    for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
                    a.timeouts = null;
                }
                var t = t || window.event, n = e.event;
                if (a.La()) {
                    var r = {};
                    if (r.e = n, r.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventDoubleClick && (a.onEventDoubleClick(r), r.preventDefault.value)) return;
                    switch (a.eventDoubleClickHandling) {
                      case "PostBack":
                        a.eventDoubleClickPostBack(n);
                        break;

                      case "CallBack":
                        a.eventDoubleClickCallBack(n);
                        break;

                      case "Select":
                        a._a(e, n, t.ctrlKey, t.metaKey);
                        break;

                      case "Bubble":
                        a.bubble && a.bubble.showEvent(n);
                    }
                    "function" == typeof a.onEventDoubleClicked && a.onEventDoubleClicked(r);
                } else switch (a.eventDoubleClickHandling) {
                  case "PostBack":
                    a.eventDoubleClickPostBack(n);
                    break;

                  case "CallBack":
                    a.eventDoubleClickCallBack(n);
                    break;

                  case "JavaScript":
                    a.onEventDoubleClick(n);
                    break;

                  case "Select":
                    a._a(e, n, t.ctrlKey, t.metaKey);
                    break;

                  case "Bubble":
                    a.bubble && a.bubble.showEvent(n);
                }
            }, this._a = function(e, t, i, n) {
                a.Ab(e, t, i, n);
            }, this.eventSelectPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.R("EventSelect", i, n);
            }, this.eventSelectCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.T("EventSelect", n, i);
            }, this.Ab = function(e, t, i, n) {
                var r = a.multiselect, o = r.isSelected(t);
                if (i || n || !o || 1 !== r.list.length) if (a.La()) {
                    r.previous = r.events();
                    var s = {};
                    if (s.e = t, s.selected = r.isSelected(t), s.ctrl = i, s.meta = n, s.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventSelect && (a.onEventSelect(s), s.preventDefault.value)) return;
                    switch (a.eventSelectHandling) {
                      case "PostBack":
                        a.eventSelectPostBack(t, l);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        a.eventSelectCallBack(t, l);
                        break;

                      case "Update":
                        r.Eb(e, i);
                    }
                    "function" == typeof a.onEventSelected && (s.change = r.isSelected(t) ? "selected" : "deselected", 
                    s.selected = r.isSelected(t), a.onEventSelected(s));
                } else {
                    r.previous = r.events(), r.Eb(e, i);
                    var l = r.isSelected(t) ? "selected" : "deselected";
                    switch (a.eventSelectHandling) {
                      case "PostBack":
                        a.eventSelectPostBack(t, l);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        a.eventSelectCallBack(t, l);
                        break;

                      case "JavaScript":
                        a.onEventSelect(t, l);
                    }
                }
            }, this.eventRightClickPostBack = function(e, t) {
                this.R("EventRightClick", t, e);
            }, this.eventRightClickCallBack = function(e, t) {
                this.T("EventRightClick", e, t);
            }, this.bb = function(e) {
                if (this.event = e, !e.client.rightClickEnabled()) return !1;
                if (a.La()) {
                    var t = {};
                    if (t.e = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventRightClick && (a.onEventRightClick(t), t.preventDefault.value)) return;
                    switch (a.eventRightClickHandling) {
                      case "PostBack":
                        a.eventRightClickPostBack(e);
                        break;

                      case "CallBack":
                        a.eventRightClickCallBack(e);
                        break;

                      case "ContextMenu":
                        var i = e.client.contextMenu();
                        i ? i.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                        break;

                      case "Bubble":
                        a.bubble && a.bubble.showEvent(e);
                    }
                    "function" == typeof a.onEventRightClicked && a.onEventRightClicked(t);
                } else switch (a.eventRightClickHandling) {
                  case "PostBack":
                    a.eventRightClickPostBack(e);
                    break;

                  case "CallBack":
                    a.eventRightClickCallBack(e);
                    break;

                  case "JavaScript":
                    a.onEventRightClick(e);
                    break;

                  case "ContextMenu":
                    var i = e.client.contextMenu();
                    i ? i.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                    break;

                  case "Bubble":
                    a.bubble && a.bubble.showEvent(e);
                }
                return !1;
            }, this.eventMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.R("EventMenuClick", i, n);
            }, this.eventMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.T("EventMenuClick", n, i);
            }, this.vb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    a.eventMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    a.eventMenuClickCallBack(t, e);
                }
            }, this.eventMovePostBack = function(e, t, i, n, a) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var r = {};
                r.e = e, r.newStart = t, r.newEnd = i, r.position = a, this.R("EventMove", n, r);
            }, this.eventMoveCallBack = function(e, t, i, n, a) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var r = {};
                r.e = e, r.newStart = t, r.newEnd = i, r.position = a, this.T("EventMove", r, n);
            }, this.pb = function(e, t, i, n, r, o, s) {
                var l = e.start().getTimePart(), d = e.rawend().getDatePart();
                d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
                var c = DayPilot.DateUtil.diff(e.rawend(), d), h = this.Jf(t, i);
                h = h.addDays(-n);
                var u = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1, f = h.addDays(u), v = h.addTime(l), p = f.addTime(c);
                if (p = a.$f(p), a.La()) {
                    var m = {};
                    if (m.e = e, m.newStart = v, m.newEnd = p, m.position = o, m.ctrl = !1, m.external = s, 
                    r && (m.ctrl = r.ctrlKey), m.shift = !1, r && (m.shift = r.shiftKey), m.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventMove && (a.onEventMove(m), m.preventDefault.value)) return;
                    switch (a.eventMoveHandling) {
                      case "PostBack":
                        a.eventMovePostBack(e, v, p, null, o);
                        break;

                      case "CallBack":
                        a.eventMoveCallBack(e, v, p, null, o);
                        break;

                      case "Notify":
                        a.eventMoveNotify(e, v, p, null, o);
                        break;

                      case "Update":
                        m.external ? (e.start(v), e.end(p), e.commit(), a.events.add(e)) : (e.start(v), 
                        e.end(p), a.events.update(e)), a.rb();
                    }
                    "function" == typeof a.onEventMoved && a.onEventMoved(m);
                } else switch (a.eventMoveHandling) {
                  case "PostBack":
                    a.eventMovePostBack(e, v, p, null, o);
                    break;

                  case "CallBack":
                    a.eventMoveCallBack(e, v, p, null, o);
                    break;

                  case "JavaScript":
                    a.onEventMove(e, v, p, r.ctrlKey, r.shiftKey, o);
                    break;

                  case "Notify":
                    a.eventMoveNotify(e, v, p, null, o);
                }
            }, this.eventMoveNotify = function(e, t, i, n, r) {
                var o = new DayPilot.Event(e.copy(), this);
                e.start(t), e.end(i), e.commit(), a.update(), this.sb("Notify", o, t, i, n, r);
            }, this.sb = function(e, t, i, n, a, r) {
                var o = {};
                o.e = t, o.newStart = i, o.newEnd = n, o.position = r, this.hb(e, "EventMove", o, a);
            }, this.eventResizePostBack = function(e, t, i, n) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var a = {};
                a.e = e, a.newStart = t, a.newEnd = i, this.R("EventResize", n, a);
            }, this.eventResizeCallBack = function(e, t, i, n) {
                if (!t) throw "newStart is null";
                if (!i) throw "newEnd is null";
                var a = {};
                a.e = e, a.newStart = t, a.newEnd = i, this.T("EventResize", a, n);
            }, this.lb = function(e, t, i) {
                var n = e.start().getTimePart(), r = e.rawend().getDatePart();
                r != e.rawend() && (r = r.addDays(1));
                var o = DayPilot.DateUtil.diff(e.rawend(), r), s = this.Jf(t.x, t.y), l = s.addDays(i), d = s.addTime(n), c = l.addTime(o);
                if (c = a.$f(c), a.La()) {
                    var h = {};
                    if (h.e = e, h.newStart = d, h.newEnd = c, h.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onEventResize && (a.onEventResize(h), h.preventDefault.value)) return;
                    switch (a.eventResizeHandling) {
                      case "PostBack":
                        a.eventResizePostBack(e, d, c);
                        break;

                      case "CallBack":
                        a.eventResizeCallBack(e, d, c);
                        break;

                      case "Notify":
                        a.eventResizeNotify(e, d, c);
                        break;

                      case "Update":
                        e.start(d), e.end(c), a.events.update(e);
                    }
                    "function" == typeof a.onEventResized && a.onEventResized(h);
                } else switch (a.eventResizeHandling) {
                  case "PostBack":
                    a.eventResizePostBack(e, d, c);
                    break;

                  case "CallBack":
                    a.eventResizeCallBack(e, d, c);
                    break;

                  case "JavaScript":
                    a.onEventResize(e, d, c);
                    break;

                  case "Notify":
                    a.eventResizeNotify(e, d, c);
                }
            }, this.eventResizeNotify = function(e, t, i, n) {
                var r = new DayPilot.Event(e.copy(), this);
                e.start(t), e.end(i), e.commit(), a.update(), this.nb("Notify", r, t, i, n);
            }, this.nb = function(e, t, i, n, a) {
                var r = {};
                r.e = t, r.newStart = i, r.newEnd = n, this.hb(e, "EventResize", r, a);
            }, this.timeRangeSelectedPostBack = function(e, t, i) {
                var n = {};
                n.start = e, n.end = t, this.R("TimeRangeSelected", i, n);
            }, this.timeRangeSelectedCallBack = function(e, t, i) {
                var n = {};
                n.start = e, n.end = t, this.T("TimeRangeSelected", n, i);
            }, this.xb = function(e, t) {
                if (t = a.$f(t), a.La()) {
                    var i = {};
                    if (i.start = e, i.end = t, i.control = a, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onTimeRangeSelect && (a.onTimeRangeSelect(i), i.preventDefault.value)) return;
                    switch (a.timeRangeSelectedHandling) {
                      case "PostBack":
                        a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                        break;

                      case "CallBack":
                        a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                    }
                    "function" == typeof a.onTimeRangeSelected && a.onTimeRangeSelected(i);
                } else switch (a.timeRangeSelectedHandling) {
                  case "PostBack":
                    a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                    break;

                  case "CallBack":
                    a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                    break;

                  case "JavaScript":
                    a.onTimeRangeSelected(e, t);
                }
            }, this.timeRangeMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.R("TimeRangeMenuClick", i, n);
            }, this.timeRangeMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.T("TimeRangeMenuClick", n, i);
            }, this.wb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    a.timeRangeMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    a.timeRangeMenuClickCallBack(t, e);
                }
            }, this.headerClickPostBack = function(e, t) {
                this.R("HeaderClick", t, e);
            }, this.headerClickCallBack = function(e, t) {
                this.T("HeaderClick", e, t);
            }, this.db = function(e) {
                var t = (this.data, {
                    day: e
                });
                if (a.La()) {
                    var i = {};
                    if (i.header = {}, i.header.dayOfWeek = e, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onHeaderClick && (a.onHeaderClick(i), i.preventDefault.value)) return;
                    switch (a.headerClickHandling) {
                      case "PostBack":
                        a.headerClickPostBack(t);
                        break;

                      case "CallBack":
                        a.headerClickCallBack(t);
                    }
                    "function" == typeof a.onHeaderClicked && a.onHeaderClicked(i);
                } else switch (a.headerClickHandling) {
                  case "PostBack":
                    a.headerClickPostBack(t);
                    break;

                  case "CallBack":
                    a.headerClickCallBack(t);
                    break;

                  case "JavaScript":
                    a.onHeaderClick(t);
                }
            }, this.timeRangeDoubleClickPostBack = function(e, t, i) {
                var n = {};
                n.start = e, n.end = t, this.R("TimeRangeDoubleClick", i, n);
            }, this.timeRangeDoubleClickCallBack = function(e, t, i) {
                var n = {};
                n.start = e, n.end = t, this.T("TimeRangeDoubleClick", n, i);
            }, this.yb = function(e, t) {
                if (a.La()) {
                    var i = {};
                    if (i.start = e, i.end = t, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof a.onTimeRangeDoubleClick && (a.onTimeRangeDoubleClick(i), 
                    i.preventDefault.value)) return;
                    switch (a.timeRangeDoubleClickHandling) {
                      case "PostBack":
                        a.timeRangeDoubleClickPostBack(e, t);
                        break;

                      case "CallBack":
                        a.timeRangeDoubleClickCallBack(e, t);
                    }
                    "function" == typeof a.onTimeRangeDoubleClicked && a.onTimeRangeDoubleClicked(i);
                } else switch (a.timeRangeDoubleClickHandling) {
                  case "PostBack":
                    a.timeRangeDoubleClickPostBack(e, t);
                    break;

                  case "CallBack":
                    a.timeRangeDoubleClickCallBack(e, t);
                    break;

                  case "JavaScript":
                    a.onTimeRangeDoubleClick(e, t);
                }
            }, this.commandCallBack = function(e, t) {
                this._f();
                var i = {};
                i.command = e, this.T("Command", i, t);
            }, this.commandPostBack = function(e, t) {
                this._f();
                var i = {};
                i.command = e, this.R("Command", i, t);
            }, this.Vd = function(e) {
                for (var t = 0; t < a.elements.events.length; t++) {
                    var i = a.elements.events[t];
                    if (i.event === e || i.event.data === e.data) return i;
                }
                return null;
            }, this.Nf = function(e) {
                var t = {};
                t.list = [], t.each = function(e) {
                    if (e) for (var t = 0; t < this.list.length; t++) e(this.list[t]);
                };
                for (var i = 0; i < this.elements.events.length; i++) {
                    var n = this.elements.events[i];
                    n.event.data === e.data && t.list.push(n);
                }
                return t;
            }, this.be = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", 
                t.className = this.C(e), document.body.appendChild(t);
                var i = t.offsetHeight, n = t.offsetWidth;
                document.body.removeChild(t);
                var a = {};
                return a.height = i, a.width = n, a;
            }, this.$c = {};
            var s = this.$c;
            s.clearCache = function() {
                delete a.L.eventHeight, delete a.L.headerHeight;
            }, s.lineHeight = function() {
                return s.eventHeight() + a.lineSpace;
            }, s.rounded = function() {
                return "Rounded" === a.eventCorners;
            }, s.loadFromServer = function() {
                return !!a.backendUrl;
            }, s.locale = function() {
                return DayPilot.Locale.find(a.locale);
            }, s.getWeekStart = function() {
                return a.showWeekend ? a.weekStarts : 1;
            }, s.weekStarts = function() {
                if (!a.showWeekend) return 1;
                if ("Auto" === a.weekStarts) {
                    var e = s.locale();
                    return e ? e.weekStarts : 0;
                }
                return a.weekStarts;
            }, s.notifyType = function() {
                var e;
                if ("Immediate" === a.notifyCommit) e = "Notify"; else {
                    if ("Queue" !== a.notifyCommit) throw "Invalid notifyCommit value: " + a.notifyCommit;
                    e = "Queue";
                }
                return e;
            }, s.eventHeight = function() {
                if (a.L.eventHeight) return a.L.eventHeight;
                var e = a.be("_event_height").height;
                return e || (e = a.eventHeight), a.L.eventHeight = e, e;
            }, s.headerHeight = function() {
                if (a.L.headerHeight) return a.L.headerHeight;
                var e = a.be("_header_height").height;
                return e || (e = a.headerHeight), a.L.headerHeight = e, e;
            }, s.timeFormat = function() {
                return "Auto" !== a.timeFormat ? a.timeFormat : s.locale().timeFormat;
            }, this.Gd = function() {
                var e = a.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
            }, this.exportAs = function(e, t) {
                if (!a.Gd()) throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export.");
                var i = l.generate(e, t);
                return new DayPilot.Export(i);
            }, this.ce = {};
            var l = this.ce;
            l.ee = null, l.fe = null, l.generate = function(e, t) {
                "object" == typeof e && (t = e, e = null);
                var t = t || {}, e = e || t.format || "svg", i = t.scale || 1;
                if ("config" !== e) {
                    "jpg" === e.toLowerCase() && (e = "jpeg");
                    var n = t.area || "viewport";
                    l.ee = t, l.fe = n;
                    var r, o = l.getWidth(), d = l.getHeight();
                    switch (e.toLowerCase()) {
                      case "svg":
                        r = new DayPilot.Svg(o, d);
                        break;

                      case "png":
                        r = new DayPilot.Canvas(o, d, "image/png", i);
                        break;

                      case "jpeg":
                        r = new DayPilot.Canvas(o, d, "image/jpeg", i, t.quality);
                        break;

                      default:
                        throw "Export format not supported: " + e;
                    }
                    var c = l.getRectangles(), h = new DayPilot.StyleReader(a.nav.top).get("background-color"), u = new DayPilot.StyleReader(a.nav.top).get("border-top-color"), f = a.nav.header.firstChild.firstChild, v = new DayPilot.StyleReader(f).get("background-color"), p = new DayPilot.StyleReader(f).getFont(), m = new DayPilot.StyleReader(f).get("color"), g = a.cells[0][0].firstChild, y = (new DayPilot.StyleReader(g).get("background-color"), 
                    new DayPilot.StyleReader(g).get("border-right-color")), b = c.grid.w * a.Hf() / 100, w = 0;
                    r.fillRect(c.main, "white"), r.fillRect(c.main, h), DayPilot.list.for(a.Bf()).each(function(e) {
                        var t = a.headerProperties ? a.headerProperties[e] : null, i = e + s.weekStarts();
                        if (i > 6 && (i -= 7), !t) {
                            var t = {};
                            t.html = s.locale().dayNames[i];
                        }
                        var n = 0, o = b, l = s.headerHeight(), d = t.html, c = {
                            x: w,
                            y: n,
                            w: o + 1,
                            h: l + 1
                        }, h = DayPilot.Util.copyProps(c), f = {};
                        f.header = {}, f.header.dayOfWeek = i, f.backColor = v, f.text = d, f.horizontalAlignment = "center", 
                        f.fontSize = p.size, f.fontFamily = p.family, f.fontStyle = p.style, f.fontColor = m, 
                        "function" == typeof a.onBeforeHeaderExport && a.onBeforeHeaderExport(f);
                        var g = {
                            size: f.fontSize,
                            family: f.fontFamily,
                            style: f.fontStyle
                        };
                        r.fillRect(c, f.backColor), r.rect(c, u), r.text(h, f.text, g, f.fontColor, f.horizontalAlignment), 
                        w += o;
                    });
                    var k = c.grid.y;
                    l.getRows().forEach(function(e) {
                        var t = e.getHeight(), i = 0, n = a.rows.indexOf(e);
                        DayPilot.list.for(a.Bf()).each(function(e) {
                            var o = a.cells[e][n], s = o.props, l = b, d = new DayPilot.StyleReader(a.cells[e][n].firstChild).get("background-color"), c = a.cells[e][n].firstChild.firstChild, h = new DayPilot.StyleReader(c).getFont(), u = new DayPilot.StyleReader(c).get("color"), f = new DayPilot.StyleReader(c).get("background-color"), v = a.firstDate.addDays(7 * n + e), p = {};
                            p.cell = {}, p.cell.start = v, p.cell.end = v.addDays(1), p.backColor = d, p.text = s.headerHtml, 
                            p.horizontalAlignment = "right", "function" == typeof a.onBeforeCellExport && a.onBeforeCellExport(p);
                            var m = {
                                x: i,
                                y: k,
                                w: l + 1,
                                h: t + 1
                            };
                            r.fillRect(m, p.backColor), r.rect(m, y);
                            var g = {
                                x: i,
                                y: k,
                                w: l - 2,
                                h: a.cellHeaderHeight
                            };
                            r.fillRect(m, f), r.text(g, p.text, h, u, p.horizontalAlignment), i += l;
                        }), k += t;
                    });
                    var C = 0;
                    return l.getRows().forEach(function(e) {
                        var t = e.getHeight();
                        DayPilot.list(e.lines).each(function(e) {
                            DayPilot.list(e).each(function(e) {
                                var t = e.cache || e.data, i = l.fakeEvent();
                                i.className += " " + t.cssClass;
                                var n = i.firstChild, o = new DayPilot.StyleReader(n).get("border-right-color"), d = new DayPilot.StyleReader(n).getFont(), h = new DayPilot.StyleReader(n).get("color"), u = new DayPilot.StyleReader(n).getBackColor(), f = {};
                                f.left = new DayPilot.StyleReader(n).getPx("padding-left"), f.right = new DayPilot.StyleReader(n).getPx("padding-right"), 
                                f.top = new DayPilot.StyleReader(n).getPx("padding-top"), f.bottom = new DayPilot.StyleReader(n).getPx("padding-bottom"), 
                                DayPilot.de(i);
                                var v = t.backColor || u, p = {};
                                p.e = e, p.text = e.text ? e.text() : e.client.html(), p.fontSize = d.size, p.fontFamily = d.family, 
                                p.fontStyle = d.style, p.fontColor = t.fontColor || h, p.backColor = t.backColor || v, 
                                p.borderColor = o, p.horizontalAlignment = "left", "function" == typeof a.onBeforeEventExport && a.onBeforeEventExport(p);
                                var m = b * e.part.colStart, g = b * e.part.colWidth, y = C + a.cellHeaderHeight + e.part.line * s.lineHeight() + c.grid.y + 2, w = s.eventHeight(), k = 2, x = {
                                    x: m + k,
                                    y: y,
                                    w: g + 1 - 4,
                                    h: w
                                }, S = DayPilot.Util.copyProps(x);
                                S.x += f.left, S.w -= f.left + f.right, S.y += f.top, S.h -= f.top + f.bottom, r.fillRect(x, p.backColor), 
                                r.text(S, p.text, {
                                    size: p.fontSize,
                                    family: p.fontFamily,
                                    style: p.fontStyle
                                }, p.fontColor, p.horizontalAlignment), r.rect(x, p.borderColor);
                            });
                        }), C += t;
                    }), r.rect(c.main, u), r.line(c.grid.x, 0, c.grid.x, c.main.h, u), r.line(0, c.grid.y, c.main.w, c.grid.y, u), 
                    r;
                }
            }, l.fakeEvent = function() {
                var e = document.createElement("div");
                e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", 
                e.style.display = "none", e.className = a.C("_event");
                var t = document.createElement("div");
                return t.className = a.C("_event_inner"), e.appendChild(t), a.nav.events.appendChild(e), 
                e;
            }, l.fakeCell = function() {
                var e = document.createElement("div");
                e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", 
                e.style.display = "none", e.className = a.C("_cell");
                var t = document.createElement("div");
                return t.className = a.C("_cell_inner"), e.appendChild(t), a.nav.events.appendChild(e), 
                e;
            }, l.getWidth = function() {
                var e = l.fe, t = Math.floor(a.nav.top.clientWidth / a.Bf()) * a.Bf();
                switch (e) {
                  case "viewport":
                  case "full":
                  case "range":
                    return "number" == typeof l.ee.width ? l.ee.width : t;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, l.getHeight = function() {
                var e = l.fe;
                switch (e) {
                  case "viewport":
                  case "full":
                    return a.nav.top.clientHeight;

                  case "range":
                    var t = s.headerHeight();
                    return l.getRows().forEach(function(e) {
                        t += e.getHeight();
                    }), t;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, l.getRows = function() {
                var e = new DayPilot.Date(l.ee.dateFrom || a.visibleStart()), t = new DayPilot.Date(l.ee.dateTo || a.visibleEnd());
                return a.rows.filter(function(i) {
                    return "range" !== l.fe || DayPilot.Util.overlaps(i.start, i.end, e, t);
                });
            }, l.getRectangles = function() {
                var e = s.headerHeight(), t = {};
                return t.main = {
                    x: 0,
                    y: 0,
                    w: l.getWidth(),
                    h: l.getHeight()
                }, t.grid = {
                    x: 0,
                    y: e,
                    w: l.getWidth(),
                    h: l.getHeight() - e
                }, t;
            }, this.multiselect = {}, this.multiselect.initList = [], this.multiselect.list = [], 
            this.multiselect.divs = [], this.multiselect.previous = [], this.multiselect.Yb = function() {
                var e = a.multiselect;
                return JSON.stringify(e.events());
            }, this.multiselect.events = function() {
                var e = a.multiselect, t = [];
                t.ignoreToJSON = !0;
                for (var i = 0; i < e.list.length; i++) t.push(e.list[i]);
                return t;
            }, this.multiselect.Zb = function() {}, this.multiselect.Eb = function(e, t) {
                var i = a.multiselect;
                if (i.isSelected(e.event)) if (a.allowMultiSelect) if (t) i.remove(e.event, !0); else {
                    var n = i.list.length;
                    i.clear(!0), n > 1 && i.add(e.event, !0);
                } else i.clear(!0); else a.allowMultiSelect && t ? i.add(e.event, !0) : (i.clear(!0), 
                i.add(e.event, !0));
                i.redraw(), i.Zb();
            }, this.multiselect.$b = function(e) {
                var t = a.multiselect;
                return t._b(e, t.initList);
            }, this.multiselect.bc = function() {
                for (var e = a.multiselect, t = [], i = 0; i < e.list.length; i++) {
                    var n = e.list[i];
                    t.push(n.value());
                }
                alert(t.join("\n"));
            }, this.multiselect.add = function(e, t) {
                var i = a.multiselect;
                i.indexOf(e) === -1 && i.list.push(e), t || i.redraw();
            }, this.multiselect.remove = function(e, t) {
                var i = a.multiselect, n = i.indexOf(e);
                n !== -1 && i.list.splice(n, 1);
            }, this.multiselect.clear = function(e) {
                var t = a.multiselect;
                t.list = [], e || t.redraw();
            }, this.multiselect.redraw = function() {
                for (var e = a.multiselect, t = 0; t < a.elements.events.length; t++) {
                    var i = a.elements.events[t];
                    e.isSelected(i.event) ? e.dc(i) : e.ec(i);
                }
            }, this.multiselect.dc = function(e) {
                var t = a.multiselect, i = a.C("_selected"), e = t.fc(e);
                DayPilot.Util.addClass(e, i), t.divs.push(e);
            }, this.multiselect.fc = function(e) {
                return e;
            }, this.multiselect.gc = function() {
                for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {
                    var i = e.divs[t];
                    e.ec(i, !0);
                }
                e.divs = [];
            }, this.multiselect.ec = function(e, t) {
                var i = a.multiselect, n = a.C("_selected"), r = i.fc(e);
                if (r && r.className && r.className.indexOf(n) !== -1 && (r.className = r.className.replace(n, "")), 
                !t) {
                    var o = DayPilot.indexOf(i.divs, e);
                    o !== -1 && i.divs.splice(o, 1);
                }
            }, this.multiselect.isSelected = function(e) {
                return a.multiselect._b(e, a.multiselect.list);
            }, this.multiselect.indexOf = function(e) {
                return DayPilot.indexOf(a.multiselect.list, e);
            }, this.multiselect._b = function(e, t) {
                if (!t) return !1;
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    if (e === n) return !0;
                    if ("function" == typeof n.value) {
                        if (null !== n.value() && null !== e.value() && n.value() === e.value()) return !0;
                        if (null === n.value() && null === e.value() && n.recurrentMasterId() === e.recurrentMasterId() && e.start().toStringSortable() === n.start()) return !0;
                    } else {
                        if (null !== n.value && null !== e.value() && n.value === e.value()) return !0;
                        if (null === n.value && null === e.value() && n.recurrentMasterId === e.recurrentMasterId() && e.start().toStringSortable() === n.start) return !0;
                    }
                }
                return !1;
            }, this.events.forRange = function(e, t) {
                return e = new DayPilot.Date(e), t = new DayPilot.Date(t), DayPilot.list(a.events.list).filter(function(i) {
                    var n = new DayPilot.Date(i.start), a = new DayPilot.Date(i.end);
                    return n === a && n === e || DayPilot.Util.overlaps(e, t, n, a);
                }).map(function(e) {
                    return new DayPilot.Event(e, a);
                });
            }, this.events.find = function(e) {
                if (!a.events.list || "undefined" == typeof a.events.list.length) return null;
                for (var t = a.events.list.length, i = 0; i < t; i++) if (a.events.list[i].id === e) return new DayPilot.Event(a.events.list[i], a);
                return null;
            }, this.events.findRecurrent = function(e, t) {
                if (!a.events.list || "undefined" == typeof a.events.list.length) return null;
                for (var i = a.events.list.length, n = 0; n < i; n++) if (a.events.list[n].recurrentMasterId === e && a.events.list[n].start.getTime() === t.getTime()) return new DayPilot.Event(a.events.list[n], a);
                return null;
            }, this.events.update = function(e, t) {
                var i = {};
                i.oldEvent = new DayPilot.Event(e.copy(), a), i.newEvent = new DayPilot.Event(e.temp(), a);
                var n = new DayPilot.Action(a, "EventUpdate", i, t);
                return e.commit(), a.N && a.update(), a.Wd.notify(), n;
            }, this.events.remove = function(e, t) {
                var i = {};
                i.e = new DayPilot.Event(e.data, a);
                var n = new DayPilot.Action(a, "EventRemove", i, t), r = DayPilot.indexOf(a.events.list, e.data);
                return a.events.list.splice(r, 1), a.N && a.update(), a.Wd.notify(), n;
            }, this.events.add = function(e, t) {
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = a, a.events.list || (a.events.list = []), 
                a.events.list.push(e.data);
                var i = {};
                i.e = e;
                var n = new DayPilot.Action(a, "EventAdd", i, t);
                return a.N && a.update(), a.Wd.notify(), n;
            }, this.events.filter = function(e) {
                a.events.Rd = e, a.kc();
            }, this.events.load = function(e, t, i) {
                var n = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, r = function(e) {
                    var i, r = e.request;
                    try {
                        i = JSON.parse(r.responseText);
                    } catch (e) {
                        var o = {};
                        return o.exception = e, void n(o);
                    }
                    if (DayPilot.isArray(i)) {
                        var s = {};
                        if (s.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, s.data = i, "function" == typeof t && t(s), s.preventDefault.value) return;
                        a.events.list = i, a.N && a.update();
                    }
                };
                if (a.eventsLoadMethod && "POST" === a.eventsLoadMethod.toUpperCase()) DayPilot.ajax({
                    method: "POST",
                    data: {
                        start: a.visibleStart().toString(),
                        end: a.visibleEnd().toString()
                    },
                    url: e,
                    success: r,
                    error: n
                }); else {
                    var o = e, s = "start=" + a.visibleStart().toString() + "&end=" + a.visibleEnd().toString();
                    o += o.indexOf("?") > -1 ? "&" + s : "?" + s, DayPilot.ajax({
                        method: "GET",
                        url: o,
                        success: r,
                        error: n
                    });
                }
            }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction) throw "DayPilot.Action object required for queue.add()";
                    a.queue.list.push(e);
                }
            }, this.queue.notify = function(e) {
                var t = {};
                t.actions = a.queue.list, a.T("Notify", t, e, "Notify"), a.queue.list = [];
            }, this.queue.clear = function() {
                a.queue.list = [];
            }, this.queue.pop = function() {
                return a.queue.list.pop();
            }, this.$f = function(e) {
                return "DateTime" === a.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();
            }, this.Af = function(e) {
                return "DateTime" === a.eventEndSpec ? e : e.getDatePart().addDays(1);
            }, this.ag = function(e) {
                return "DateTime" === a.eventEndSpec ? e : e.getDatePart();
            }, this.Ka = function(e) {
                if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.M >= this.autoRefreshMaxCount)) {
                    this._f();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10) throw "The minimum autoRefreshInterval is 10 seconds";
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        a.Jd();
                    }, 1e3 * this.autoRefreshInterval);
                }
            }, this._f = function() {
                this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);
            }, this.Jd = function() {
                if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var i = {};
                        i.i = this.M, i.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, a.onAutoRefresh(i), i.preventDefault.value && (e = !0);
                    }
                    !e && this.E() && this.commandCallBack(this.autoRefreshCommand), this.M++;
                }
                this.M < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    a.Jd();
                }, 1e3 * this.autoRefreshInterval));
            }, this.kc = function(e) {
                if (this.cells) {
                    var e = e || {}, t = !e.eventsOnly;
                    a.cssOnly || (a.cssOnly = !0), a._(), a.vf(), a.ta(), t && (a.$c.clearCache(), a.wf(), 
                    a.xf()), a.Ca(), a.Ga(), a.Ha(), this.visible ? this.show() : this.hide();
                }
            }, this.update = function(e) {
                this._d(e), this.kc();
            }, this.dispose = function() {
                var e = a;
                e.nav.top && (e._f(), e._(), e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), 
                e.nav.top.innerHTML = "", e.nav.top.dp = null, e.nav.top.onmousemove = null, e.nav.top.ontouchstart = null, 
                e.nav.top.ontouchmove = null, e.nav.top.ontouchend = null, e.nav.top = null, DayPilot.ue(window, "resize", e.ea), 
                t.unregister(e));
            }, this.Kd = function() {
                t.globalHandlers || (t.globalHandlers = !0, DayPilot.re(document, "mousemove", t.gMouseMove), 
                DayPilot.re(document, "mouseup", t.gMouseUp)), DayPilot.re(window, "resize", this.ea);
            }, this.ha = function() {
                e();
            }, this.rb = function() {
                if (a.todo && a.todo.del) {
                    var e = a.todo.del;
                    e.parentNode.removeChild(e), a.todo.del = null;
                }
            }, this.Cc = function() {
                switch (a.O) {
                  case "aspnet":
                    if (!this.Y()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;

                  case "netmvc":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;

                  case "javaxx":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                }
            }, this.Ga = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
            }, this.show = function() {
                a.visible = !0, a.nav.top.style.display = "";
            }, this.hide = function() {
                a.visible = !1, a.nav.top.style.display = "none";
            }, this.je = function() {
                if (this.id && this.id.tagName) this.nav.top = this.id; else {
                    if ("string" != typeof this.id) throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Month: The placeholder element not found: '" + i + "'.";
                }
                (function(s) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    new Function(String.fromCharCode.apply(this, r))();
                })("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");
            }, this.ke = function() {
                this.je(), this.vf(), this.Fc(), this.xf(), this.Ca(), this.Kd(), this.Ka(), this.T("Init"), 
                t.register(this);
            }, this.init = function() {
                if (this.N) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                if (this.Cc(), this.je(), !this.nav.top.dp) {
                    var e = s.loadFromServer();
                    return a.cssOnly || (a.cssOnly = !0, window.console && window.console.log && window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")), 
                    e ? (this.ke(), void (this.N = !0)) : (this.vf(), this.ta(), this.Fc(), this.xf(), 
                    this.Ga(), this.Ha(), this.Ca(), this.Kd(), this.messageHTML && this.message(this.messageHTML), 
                    this.oa(null, !1), a.initEventEnabled && setTimeout(function() {
                        a.T("Init");
                    }), this.Ka(), t.register(this), this.N = !0, this.le(), this);
                }
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        events: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? a.events.list = e.list : a.events.list = e);
                            }
                        }
                    };
                    this.me = t;
                    for (var i in e) if (t[i]) {
                        var n = t[i];
                        n.data = e[i], n.preInit && n.preInit();
                    } else a[i] = e[i];
                }
            }, this.le = function() {
                var e = this.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
            }, this.internal = {}, this.internal.initialized = function() {
                return a.N;
            }, this.internal.invokeEvent = this.hb, this.internal.eventMenuClick = this.vb, 
            this.internal.timeRangeMenuClick = this.wb, this.internal.bubbleCallBack = this.tb, 
            this.internal.findEventDiv = this.Vd, this.internal.adjustEndIn = this.Af, this.internal.touch = a.zc, 
            this.Init = this.init, this._d(n);
        }, DayPilot.Month.makeDraggable = function(e) {
            function i() {
                var i = e.duration || 60;
                i instanceof DayPilot.Duration && (i = i.totalSeconds());
                var n = t.drag = {};
                n.element = a, n.id = e.id, n.duration = i, n.text = e.text || "", n.data = e, n.shadowType = "Fill";
            }
            var n = e.element, a = e.keepElement ? null : n;
            e.duration || 1;
            navigator.msPointerEnabled && (n.style.msTouchAction = "none", n.style.touchAction = "none");
            var r = function(e) {
                i();
                var t = e.target || e.srcElement;
                if (t.tagName) {
                    var n = t.tagName.toLowerCase();
                    if ("textarea" === n || "select" === n || "input" === n) return !1;
                }
                return e.preventDefault && e.preventDefault(), !1;
            }, o = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    window.setTimeout(function() {
                        i(), t.gTouchMove(e), e.preventDefault();
                    }, 0), e.preventDefault();
                }
            };
            DayPilot.us(n), DayPilot.re(n, "mousedown", r), DayPilot.re(n, DayPilot.touch.start, o), 
            n.cancelDraggable = function() {
                DayPilot.ue(n, "mousedown", r), DayPilot.ue(n, DayPilot.touch.start, o), delete n.cancelDraggable;
            };
        }, t.createGShadow = function() {
            var e = document.createElement("div");
            return e.setAttribute("unselectable", "on"), e.style.position = "absolute", e.style.width = "100px", 
            e.style.height = "20px", e.style.border = "2px dotted #666666", e.style.zIndex = 101, 
            e.style.pointerEvents = "none", e.style.backgroundColor = "#aaaaaa", e.style.opacity = .5, 
            e.style.filter = "alpha(opacity=50)", e.style.border = "2px solid #aaaaaa", document.body.appendChild(e), 
            e;
        }, t.gMouseMove = function(e) {
            if ("undefined" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
                var i = DayPilot.mc(e);
                if (t.drag) {
                    document.body.style.cursor = "move", t.gShadow || (t.gShadow = t.createGShadow());
                    var n = t.gShadow;
                    n.style.left = i.x + "px", n.style.top = i.y + "px", t.movingEvent = null, DayPilot.de(t.movingShadow), 
                    t.movingShadow = null;
                }
                for (var a = 0; a < t.registered.length; a++) t.registered[a].ha && t.registered[a].ha();
            }
        }, t.register = function(e) {
            t.registered || (t.registered = []);
            for (var i = 0; i < t.registered.length; i++) if (t.registered[i] === e) return;
            t.registered.push(e);
        }, t.unregister = function(e) {
            var i = t.registered;
            if (i) {
                var n = DayPilot.indexOf(i, e);
                n !== -1 && i.splice(n, 1), 0 === i.length && (i = null);
            }
            i || (DayPilot.ue(document, "mouseup", t.gMouseUp), t.globalHandlers = !1);
        }, t.gMouseUp = function(e) {
            function i() {
                t.drag && (t.drag = null, document.body.style.cursor = ""), t.gShadow && (document.body.removeChild(t.gShadow), 
                t.gShadow = null);
            }
            if (i(), t.movingEvent) {
                var n = t.movingEvent;
                if (t.movingEvent = null, !(n.event && n.event.calendar && n.event.calendar.shadow && n.event.calendar.shadow.start)) return;
                var a = n.event.calendar, r = n.event, o = a.shadow.start, s = a.shadow.position, l = n.offset, d = n.external, c = n.removeElement;
                c && (a.todo || (a.todo = {}), a.todo.del = c), a.If();
                var e = e || window.event;
                return a.pb(r, o.x, o.y, l, e, s, d), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), 
                !1;
            }
            if (t.resizingEvent) {
                var n = t.resizingEvent;
                if (t.resizingEvent = null, !(n.event && n.event.calendar && n.event.calendar.shadow && n.event.calendar.shadow.start)) return;
                var a = n.event.calendar, r = n.event, o = a.shadow.start, h = a.shadow.width;
                return a.If(), a.lb(r, o, h), e.cancelBubble = !0, !1;
            }
            if (t.timeRangeSelecting) {
                if (t.timeRangeSelecting.moved) {
                    var u = t.timeRangeSelecting, a = u.root, o = new DayPilot.Date(a.Jf(u.from.x, u.from.y)), f = o.addDays(u.width);
                    a.xb(o, f);
                }
                t.timeRangeSelecting = null;
            }
        }, "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotMonth = function(e) {
                var t = null, i = this.each(function() {
                    if (!this.daypilot) {
                        var i = new DayPilot.Month(this.id, e);
                        i.init(), this.daypilot = i, t || (t = i);
                    }
                });
                return 1 === this.length ? t : i;
            };
        }(jQuery), function() {
            var e = DayPilot.am();
            e && e.directive("daypilotMonth", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t.replaceWith(this["template"].replace("{{id}}", i["id"])), function(t, i, n) {
                            var a = new DayPilot.Month(i[0]);
                            a.Wd.scope = t, a.init();
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        t["$apply"](function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"], h = n["events"] || n["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var i in e) a[i] = e[i];
                                a.update();
                            }, !0), d.call(t, h, function(e) {
                                a.events.list = e, a.kc({
                                    eventsOnly: !0
                                });
                            }, !0);
                        };
                    }
                };
            } ]);
        }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator) {
        DayPilot.Navigator = function(e, t) {
            this.v = "2020.2.4327";
            var i = this;
            this.id = e, this.api = 2, this.isNavigator = !0, this.autoFocusOnClick = !0, this.weekStarts = "Auto", 
            this.selectMode = "day", this.titleHeight = 30, this.dayHeaderHeight = 30, this.bound = null, 
            this.cellWidth = 30, this.cellHeight = 30, this.cssOnly = !0, this.cssClassPrefix = "navigator_default", 
            this.freeHandSelectionEnabled = !1, this.selectionStart = new DayPilot.Date().getDatePart(), 
            this.selectionEnd = null, this.selectionDay = null, this.showMonths = 1, this.skipMonths = 1, 
            this.command = "navigate", this.year = new DayPilot.Date().getYear(), this.month = new DayPilot.Date().getMonth() + 1, 
            this.showWeekNumbers = !1, this.weekNumberAlgorithm = "Auto", this.rowsPerMonth = "Six", 
            this.orientation = "Vertical", this.locale = "en-us", this.rtl = !1, this.visible = !0, 
            this.timeRangeSelectedHandling = "Bind", this.visibleRangeChangedHandling = "Enabled", 
            this.onVisibleRangeChange = null, this.onVisibleRangeChanged = null, this.onTimeRangeSelect = null, 
            this.onTimeRangeSelected = null, this.nav = {}, this.L = {}, this.bg = function() {
                this.root.dp = this, this.cssOnly ? this.root.className = this.C("_main") : this.root.className = this.C("main"), 
                "Horizontal" === this.orientation ? (this.root.style.width = this.showMonths * (7 * r.cellWidth() + this.cg()) + "px", 
                this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + "px") : this.root.style.width = 7 * r.cellWidth() + this.cg() + "px", 
                this.rtl && (this.root.style.direction = "rtl"), this.root.style.position = "relative", 
                this.visible || (this.root.style.display = "none");
                var e = document.createElement("input");
                e.type = "hidden", e.name = i.id + "_state", e.id = e.name, this.root.appendChild(e), 
                this.state = e, this.startDate ? this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth() : this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month), 
                this.calendars = [], this.selected = [], this.months = [];
            }, this.La = function() {
                return 2 === i.api;
            }, this.wf = function() {
                this.root.innerHTML = "";
            }, this.C = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : "";
            }, this.dg = function(e, t) {
                var i = this.cssOnly ? this.C("_" + t) : this.C(t);
                DayPilot.Util.addClass(e, i);
            }, this.eg = function(e, t) {
                var i = this.cssOnly ? this.C("_" + t) : this.C(t);
                DayPilot.Util.removeClass(e, i);
            }, this.xf = function(e, t) {
                var n = {};
                n.cells = [], n.days = [], n.weeks = [];
                var a = this.startDate.addMonths(e), o = t.before, s = t.after, l = a.firstDayOfMonth(), d = l.firstDayOfWeek(r.weekStarts()), c = l.addMonths(1), h = DayPilot.DateUtil.daysDiff(d, c), u = "Auto" === this.rowsPerMonth ? Math.ceil(h / 7) : 6;
                n.rowCount = u;
                var f = new DayPilot.Date().getDatePart(), v = 7 * r.cellWidth() + this.cg();
                n.width = v;
                var p = this.cellHeight * u + this.titleHeight + this.dayHeaderHeight;
                n.height = p;
                var m = document.createElement("div");
                if (m.style.width = v + "px", m.style.height = p + "px", "Horizontal" === this.orientation) m.style.position = "absolute", 
                m.style.left = v * e + "px", m.style.top = "0px", n.top = 0, n.left = v * e; else {
                    m.style.position = "relative";
                    var g = e > 0 ? i.months[e - 1].top + i.months[e - 1].height : 0;
                    n.top = g, n.left = 0;
                }
                this.cssOnly ? m.className = this.C("_month") : m.className = this.C("month"), m.style.cursor = "default", 
                m.style.MozUserSelect = "none", m.style.KhtmlUserSelect = "none", m.style.WebkitUserSelect = "none", 
                m.month = n, this.root.appendChild(m);
                var y = this.titleHeight + this.dayHeaderHeight, b = document.createElement("div");
                b.style.position = "absolute", b.style.left = "0px", b.style.right = "0px", b.style.top = "0px", 
                b.style.width = r.cellWidth() + "px", b.style.height = this.titleHeight + "px", 
                b.style.lineHeight = this.titleHeight + "px", b.setAttribute("unselectable", "on"), 
                this.cssOnly ? b.className = this.C("_titleleft") : b.className = this.C("titleleft"), 
                t.left && (b.style.cursor = "pointer", b.innerHTML = "<span>&lt;</span>", b.onclick = this.fg), 
                m.appendChild(b), this.tl = b;
                var w = document.createElement("div");
                w.style.position = "absolute", w.style.left = r.cellWidth() + "px", w.style.top = "0px", 
                w.style.width = 5 * r.cellWidth() + this.cg() + "px", w.style.height = this.titleHeight + "px", 
                w.style.lineHeight = this.titleHeight + "px", w.setAttribute("unselectable", "on"), 
                this.cssOnly ? w.className = this.C("_title") : w.className = this.C("title"), w.innerHTML = r.locale().monthNames[a.getMonth()] + " " + a.getYear(), 
                m.appendChild(w), this.ti = w;
                var k = document.createElement("div");
                k.style.position = "absolute", k.style.left = 6 * r.cellWidth() + this.cg() + "px", 
                k.style.right = 6 * r.cellWidth() + this.cg() + "px", k.style.top = "0px", k.style.width = r.cellWidth() + "px", 
                k.style.height = this.titleHeight + "px", k.style.lineHeight = this.titleHeight + "px", 
                k.setAttribute("unselectable", "on"), this.cssOnly ? k.className = this.C("_titleright") : k.className = this.C("titleright"), 
                t.right && (k.style.cursor = "pointer", k.innerHTML = "<span>&gt;</span>", k.onclick = this.gg), 
                m.appendChild(k), this.tr = k;
                var C = this.cg();
                if (this.showWeekNumbers) for (var x = 0; x < u; x++) {
                    var S = d.addDays(7 * x), E = null;
                    switch (this.weekNumberAlgorithm) {
                      case "Auto":
                        E = 1 === r.weekStarts() ? S.weekNumberISO() : S.weekNumber();
                        break;

                      case "US":
                        E = S.weekNumber();
                        break;

                      case "ISO8601":
                        E = S.weekNumberISO();
                        break;

                      default:
                        throw "Unknown weekNumberAlgorithm value.";
                    }
                    var T = document.createElement("div");
                    T.style.position = "absolute", T.style.left = "0px", T.style.right = "0px", T.style.top = x * this.cellHeight + y + "px", 
                    T.style.width = r.cellWidth() + "px", T.style.height = this.cellHeight + "px", T.style.lineHeight = this.cellHeight + "px", 
                    T.setAttribute("unselectable", "on"), this.cssOnly ? T.className = this.C("_weeknumber") : T.className = this.C("weeknumber"), 
                    T.innerHTML = "<span>" + E + "</span>", m.appendChild(T), n.weeks.push(T);
                }
                for (var A = 0; A < 7; A++) {
                    n.cells[A] = [];
                    var T = document.createElement("div");
                    T.style.position = "absolute", T.style.left = A * r.cellWidth() + C + "px", T.style.right = A * r.cellWidth() + C + "px", 
                    T.style.top = this.titleHeight + "px", T.style.width = r.cellWidth() + "px", T.style.height = this.dayHeaderHeight + "px", 
                    T.style.lineHeight = this.dayHeaderHeight + "px", T.setAttribute("unselectable", "on"), 
                    this.cssOnly ? T.className = this.C("_dayheader") : T.className = this.C("dayheader"), 
                    T.innerHTML = "<span>" + this.hg(A) + "</span>", m.appendChild(T), n.days.push(T);
                    for (var x = 0; x < u; x++) {
                        var S = d.addDays(7 * x + A), D = this.ig(S) && "none" !== this.jg(), H = S.firstDayOfMonth() === a, M = S < a, _ = S >= a.addMonths(1);
                        if ("month" === this.jg()) D = D && H; else if ("day" === this.jg()) D = D && (H || o && M || s && _); else if ("week" === this.jg()) {
                            var R = S.firstDayOfMonth() === a;
                            D = D && (R || o && M || s && _);
                        }
                        var B = document.createElement("div");
                        n.cells[A][x] = B;
                        var P = i.kg(A, x), N = P.x, L = P.y;
                        B.day = S, B.x = A, B.y = x, B.left = N, B.top = L, B.isCurrentMonth = H, B.isNextMonth = _, 
                        B.isPrevMonth = M, B.showBefore = o, B.showAfter = s, this.cssOnly ? B.className = this.C(H ? "_day" : "_dayother") : B.className = this.C(H ? "day" : "dayother"), 
                        i.dg(B, "cell"), S.getTime() === f.getTime() && H && this.dg(B, "today"), 0 !== S.dayOfWeek() && 6 !== S.dayOfWeek() || this.dg(B, "weekend"), 
                        B.style.position = "absolute", B.style.left = N + "px", B.style.right = N + "px", 
                        B.style.top = L + "px", B.style.width = r.cellWidth() + "px", B.style.height = this.cellHeight + "px", 
                        B.style.lineHeight = this.cellHeight + "px";
                        var U = document.createElement("div");
                        U.style.position = "absolute", this.cssOnly ? U.className = S.getTime() === f.getTime() && H ? this.C("_todaybox") : this.C("_daybox") : U.className = S.getTime() === f.getTime() && H ? this.C("todaybox") : this.C("daybox"), 
                        i.dg(U, "cell_box"), U.style.left = "0px", U.style.top = "0px", U.style.right = "0px", 
                        U.style.bottom = "0px", B.appendChild(U);
                        var z = null;
                        if (this.cells && this.cells[S.toStringSortable()] && (z = this.cells[S.toStringSortable()]), 
                        "function" == typeof i.onBeforeCellRender) {
                            var O = {};
                            O.cell = z || {}, O.cell.day = S, O.cell.isCurrentMonth = H, O.cell.isToday = S.getTime() === f.getTime() && H, 
                            O.cell.isWeekend = 0 === S.dayOfWeek() || 6 === S.dayOfWeek(), z ? (O.cell.html = z.html || S.getDay(), 
                            O.cell.cssClass = z.css) : (O.cell.html = S.getDay(), O.cell.cssClass = null), i.onBeforeCellRender(O), 
                            z = O.cell;
                        }
                        if (z && DayPilot.Util.addClass(B, z.cssClass || z.css), H || o && M || s && _) {
                            var j = document.createElement("div");
                            j.innerHTML = S.getDay(), j.style.position = "absolute", j.style.left = "0px", j.style.top = "0px", 
                            j.style.right = "0px", j.style.bottom = "0px", i.dg(j, "cell_text"), B.isClickable = !0, 
                            z && z.html && (j.innerHTML = z.html), B.appendChild(j);
                        }
                        B.setAttribute("unselectable", "on"), B.onclick = this.lg, m.appendChild(B), D && (i.mg(m, A, x), 
                        this.selected.push(B));
                    }
                }
                var I = document.createElement("div");
                I.style.position = "absolute", I.style.left = "0px", I.style.top = y - 2 + "px", 
                I.style.width = 7 * r.cellWidth() + this.cg() + "px", I.style.height = "1px", I.style.fontSize = "1px", 
                I.style.lineHeight = "1px", this.cssOnly ? I.className = this.C("_line") : I.className = this.C("line"), 
                m.appendChild(I), this.months.push(n);
            }, this.kg = function(e, t) {
                var i = this.titleHeight + this.dayHeaderHeight, n = this.cg();
                return {
                    x: e * r.cellWidth() + n,
                    y: t * this.cellHeight + i
                };
            }, this.mg = function(e, t, n) {
                var a = e.month.cells[t][n];
                i.dg(a, "select");
            }, this.ng = function(e, t, n) {
                var a = e.month.cells[t][n];
                i.eg(a, "select");
            }, this.cg = function() {
                return this.showWeekNumbers ? r.cellWidth() : 0;
            }, this.og = function() {
                if (this.items) for (var e = 0; e < this.showMonths; e++) for (var t = 0; t < 7; t++) for (var i = 0; i < 6; i++) {
                    var n = this.months[e].cells[t][i];
                    n && (1 === this.items[n.day.toStringSortable()] ? this.dg(n, "busy") : this.eg(n, "busy"));
                }
            }, this.pg = function() {
                var e = {};
                e.startDate = i.startDate, e.selectionStart = i.selectionStart, e.selectionEnd = i.selectionEnd.addDays(1), 
                i.state.value = JSON.stringify(e);
            }, this.jg = function() {
                return (this.selectMode || "").toLowerCase();
            }, this.qg = function() {
                var e = this.selectionDay || this.selectionStart;
                e || (e = DayPilot.Date.today());
                var e = new DayPilot.Date(e);
                switch (this.jg()) {
                  case "day":
                    this.selectionStart = e, this.selectionDay = e, this.selectionEnd = e;
                    break;

                  case "week":
                    this.selectionDay = e, this.selectionStart = e.firstDayOfWeek(r.weekStarts()), this.selectionEnd = this.selectionStart.addDays(6);
                    break;

                  case "month":
                    this.selectionDay = e, this.selectionStart = e.firstDayOfMonth(), this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;

                  case "none":
                    this.selectionEnd = e;
                    break;

                  default:
                    throw "Unknown selectMode value.";
                }
            }, this.rg = null, this.select = function(e, t) {
                if (!this.N) return void (this.rg = {
                    date: e,
                    options: t
                });
                var i = !0, n = !0;
                "object" == typeof t ? (t.dontFocus && (i = !1), t.dontNotify && (n = !1)) : "boolean" == typeof t && (i = !t);
                var a = this.selectionStart, r = this.selectionEnd;
                this.selectionStart = new DayPilot.Date(e).getDatePart(), this.selectionDay = this.selectionStart;
                var o = !1;
                if (i) {
                    var s = this.startDate;
                    (this.selectionStart < this.sg() || this.selectionStart >= this.tg()) && (s = this.selectionStart.firstDayOfMonth()), 
                    s.toStringSortable() !== this.startDate.toStringSortable() && (o = !0), this.startDate = s;
                }
                this.qg(), this.wf(), this.bg(), this.ug(), this.og(), this.pg(), !n || a.equals(this.selectionStart) && r.equals(this.selectionEnd) || this.xb(), 
                o && this.vg();
            }, this.update = function(e) {
                if (i.$d) throw new DayPilot.Exception("This DayPilot.Navigator instance has been disposed.");
                i.wg(), i._d(e), i.kc();
            }, this.kc = function() {
                i.cssOnly || (i.cssOnly = !0), this.wf(), this.bg(), this.qg(), this.ug(), this.ta(), 
                this.og(), this.pg(), this.visible ? this.show() : this.hide();
            }, this.wg = function() {
                i.L = {};
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        events: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.events.list = e.list : i.events.list = e);
                            }
                        }
                    };
                    this.me = t;
                    for (var n in e) if (t[n]) {
                        var a = t[n];
                        a.data = e[n], a.preInit && a.preInit();
                    } else i[n] = e[n];
                }
            }, this.le = function() {
                var e = this.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
            }, this.T = function(e, t, i) {
                var n = {};
                n.action = e, n.parameters = i, n.data = t, n.header = this.S();
                var a = "JSON" + JSON.stringify(n);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.V, a, this.W) : WebForm_DoCallback(this.uniqueID, a, this.X, null, this.callbackError, !0);
            }, this.W = function(e) {
                if ("function" == typeof i.onAjaxError) {
                    var t = {};
                    t.request = e, i.onAjaxError(t);
                } else "function" == typeof i.ajaxError && i.ajaxError(e);
            }, this.V = function(e) {
                i.X(e.responseText);
            }, this.R = function(e, t, n) {
                var a = {};
                a.action = e, a.parameters = n, a.data = t, a.header = this.S();
                var r = "JSON" + JSON.stringify(a);
                __doPostBack(i.uniqueID, r);
            }, this.S = function() {
                var e = {};
                return e.v = this.v, e.startDate = this.startDate, e.selectionStart = this.selectionStart, 
                e.showMonths = this.showMonths, e;
            }, this.xg = function(e, t) {
                "refresh" === e && this.vg();
            }, this.hg = function(e) {
                var t = e + r.weekStarts();
                return t > 6 && (t -= 7), r.locale().dayNamesShort[t];
            }, this.ig = function(e) {
                return null !== this.selectionStart && null !== this.selectionEnd && (this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime());
            }, this.yg = function(e) {
                for (var t = 0; t < i.months.length; t++) {
                    var n = i.months[t];
                    if (!n) return null;
                    if (e.x < n.left || n.width < e.x) return null;
                    i.months[t].height;
                    if (n.top <= e.y && e.y < n.top + n.height) return t;
                }
                return null;
            }, this.zg = function(e) {
                var t = DayPilot.mo3(i.nav.top, e), n = i.yg(t);
                if (null === n) return null;
                var a = i.months[n], r = this.titleHeight + this.dayHeaderHeight;
                if (a.top <= t.y && t.y < a.top + r) return {
                    month: n,
                    x: 0,
                    y: 0,
                    coords: t,
                    header: !0
                };
                for (var o = 0; o < a.cells.length; o++) for (var s = 0; s < a.cells[o].length; s++) {
                    var l = a.cells[o][s], d = l.top + a.top, c = l.left + a.left;
                    if (c <= t.x && t.x < c + i.cellWidth && d <= t.y && t.y < d + i.cellHeight) return {
                        month: n,
                        x: o,
                        y: s,
                        coords: t
                    };
                }
                return null;
            }, this.Ag = function(e) {
                if (i.freeHandSelectionEnabled) {
                    var t = i.zg(e);
                    t && !t.header && (n.start = t), i.months[t.month].cells[t.x][t.y], e.preventDefault();
                }
            }, this.Bg = function(e) {
                if (n.start) {
                    var t = i.zg(e);
                    if (n.end) n.end = t; else if (t) {
                        var a = 3, r = DayPilot.distance(n.start.coords, t.coords);
                        r > a && (n.end = t);
                    }
                    n.end && (n.clear(), n.draw());
                }
            }, this.Cg = {};
            var n = this.Cg;
            n.start = null, n.drawCell = function(e) {
                var t = i.months[e.month], a = i.kg(e.x, e.y), r = t.top + a.y, o = t.left + a.x, s = document.createElement("div");
                s.style.position = "absolute", s.style.left = o + "px", s.style.top = r + "px", 
                s.style.height = i.cellHeight + "px", s.style.width = i.cellWidth + "px", s.style.backgroundColor = "#ccc", 
                s.style.opacity = .5, s.style.cursor = "default", i.nav.preselection.appendChild(s), 
                n.cells.push(s);
            }, n.clear = function() {
                if (n.cells) {
                    for (var e = 0; e < n.cells.length; e++) i.nav.preselection.removeChild(n.cells[e]);
                    n.cells = [];
                }
            }, n.draw = function() {
                var e = n.ordered(), t = new a(e.start), r = e.end;
                if (r) {
                    if (r === n.end && r.header && r.month > 0) {
                        r.month -= 1;
                        var o = i.months[r.month];
                        r.x = 6, r.y = o.rowCount - 1;
                    }
                    for (n.cells = []; !t.is(r); ) {
                        n.drawCell(t);
                        var s = new a(t).next();
                        if (!s) return;
                        t.month = s.month, t.x = s.x, t.y = s.y;
                    }
                    n.drawCell(t);
                }
            }, n.ordered = function() {
                var e = n.start, t = n.end, i = {};
                return !t || new a(e).before(t) ? (i.start = e, i.end = t) : (i.start = t, i.end = e), 
                i;
            };
            var a = function(e, t, n) {
                if (e instanceof a) return e;
                if ("object" == typeof e) {
                    var r = e;
                    this.month = r.month, this.x = r.x, this.y = r.y;
                } else this.month = e, this.x = t, this.y = n;
                this.is = function(e) {
                    return this.month === e.month && this.x === e.x && this.y === e.y;
                }, this.next = function() {
                    var e = this;
                    if (e.x < 6) return {
                        month: e.month,
                        x: e.x + 1,
                        y: e.y
                    };
                    var t = i.months[e.month];
                    return e.y < t.rowCount - 1 ? {
                        month: e.month,
                        x: 0,
                        y: e.y + 1
                    } : e.month < i.months.length - 1 ? {
                        month: e.month + 1,
                        x: 0,
                        y: 0
                    } : null;
                }, this.visible = function() {
                    var e = this.cell();
                    return !!e.isCurrentMonth || (!(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter));
                }, this.nextVisible = function() {
                    for (var e = this; !e.visible(); ) {
                        var t = e.next();
                        if (!t) return null;
                        e = new a(t);
                    }
                    return e;
                }, this.previous = function() {
                    var e = this;
                    if (e.x > 0) return {
                        month: e.month,
                        x: e.x - 1,
                        y: e.y
                    };
                    i.months[e.month];
                    if (e.y > 0) return {
                        month: e.month,
                        x: 6,
                        y: e.y - 1
                    };
                    if (e.month > 0) {
                        var t = i.months[e.month - 1];
                        return {
                            month: e.month - 1,
                            x: 6,
                            y: t.rowCount - 1
                        };
                    }
                    return null;
                }, this.previousVisible = function() {
                    for (var e = this; !e.visible(); ) {
                        var t = e.previous();
                        if (!t) return null;
                        e = new a(t);
                    }
                    return e;
                }, this.cell = function() {
                    return i.months[this.month].cells[this.x][this.y];
                }, this.date = function() {
                    return this.cell().day;
                }, this.before = function(e) {
                    return this.date() < new a(e).date();
                };
            };
            this.lg = function(e) {
                var t = this.parentNode, n = this.parentNode.month, a = this.x, r = this.y, o = n.cells[a][r].day;
                if (n.cells[a][r].isClickable) {
                    i.clearSelection(), i.selectionDay = o;
                    var o = i.selectionDay;
                    switch (i.jg()) {
                      case "none":
                        i.selectionStart = o, i.selectionEnd = o;
                        break;

                      case "day":
                        if (i.autoFocusOnClick) {
                            var s = o;
                            if (o < i.sg() || o >= i.tg()) return void i.select(o);
                        }
                        var l = n.cells[a][r];
                        i.mg(t, a, r), i.selected.push(l), i.selectionStart = l.day, i.selectionEnd = l.day;
                        break;

                      case "week":
                        if (i.autoFocusOnClick) {
                            var s = n.cells[0][r].day, d = n.cells[6][r].day;
                            if (s.firstDayOfMonth() === d.firstDayOfMonth() && (s < i.sg() || d >= i.tg())) return void i.select(o);
                        }
                        for (var c = 0; c < 7; c++) i.mg(t, c, r), i.selected.push(n.cells[c][r]);
                        i.selectionStart = n.cells[0][r].day, i.selectionEnd = n.cells[6][r].day;
                        break;

                      case "month":
                        if (i.autoFocusOnClick) {
                            var s = o;
                            if (o < i.sg() || o >= i.tg()) return void i.select(o);
                        }
                        for (var s = null, d = null, r = 0; r < 6; r++) for (var a = 0; a < 7; a++) {
                            var l = n.cells[a][r];
                            l && l.day.getYear() === o.getYear() && l.day.getMonth() === o.getMonth() && (i.mg(t, a, r), 
                            i.selected.push(l), null === s && (s = l.day), d = l.day);
                        }
                        i.selectionStart = s, i.selectionEnd = d;
                        break;

                      default:
                        throw "unknown selectMode";
                    }
                    i.pg(), i.xb();
                }
            }, this.xb = function(e) {
                var t = i.selectionStart, n = i.selectionEnd.addDays(1), a = DayPilot.DateUtil.daysDiff(t, n), r = i.selectionDay;
                if (e = e || {}, i.La()) {
                    var o = {};
                    if (o.start = t, o.end = n, o.day = r, o.days = a, o.mode = e.mode || i.selectMode, 
                    o.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof i.onTimeRangeSelect && (i.onTimeRangeSelect(o), o.preventDefault.value)) return;
                    switch (i.timeRangeSelectedHandling) {
                      case "Bind":
                        var s = DayPilot.Util.evalVariable(i.bound);
                        if (s) {
                            var l = {};
                            l.start = t, l.end = n, l.days = a, l.day = r, s.commandCallBack(i.command, l);
                        }
                        break;

                      case "None":
                        break;

                      case "PostBack":
                        i.timeRangeSelectedPostBack(t, n, r);
                    }
                    "function" == typeof i.onTimeRangeSelected && i.onTimeRangeSelected(o);
                } else switch (i.timeRangeSelectedHandling) {
                  case "Bind":
                    var s = DayPilot.Util.evalVariable(i.bound);
                    if (s) {
                        var l = {};
                        l.start = t, l.end = n, l.days = a, l.day = r, s.commandCallBack(i.command, l);
                    }
                    break;

                  case "JavaScript":
                    i.onTimeRangeSelected(t, n, r);
                    break;

                  case "None":
                    break;

                  case "PostBack":
                    i.timeRangeSelectedPostBack(t, n, r);
                }
            }, this.timeRangeSelectedPostBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.day = n, this.R("TimeRangeSelected", i, a);
            }, this.gg = function(e) {
                i.Dg(i.skipMonths);
            }, this.fg = function(e) {
                i.Dg(-i.skipMonths);
            }, this.Dg = function(e) {
                this.startDate = this.startDate.addMonths(e), this.wf(), this.bg(), this.ug(), this.pg(), 
                this.vg(), this.og();
            }, this.sg = function() {
                return i.startDate.firstDayOfMonth();
            }, this.tg = function() {
                return i.startDate.firstDayOfMonth().addMonths(this.showMonths);
            }, this.visibleStart = function() {
                return i.startDate.firstDayOfMonth().firstDayOfWeek(r.weekStarts());
            }, this.visibleEnd = function() {
                return i.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(r.weekStarts()).addDays(42);
            }, this.vg = function() {
                var e = this.visibleStart(), t = this.visibleEnd();
                if (i.La()) {
                    var n = {};
                    if (n.start = e, n.end = t, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof i.onVisibleRangeChange && (i.onVisibleRangeChange(n), n.preventDefault.value)) return;
                    switch (this.visibleRangeChangedHandling) {
                      case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;

                      case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;

                      case "Disabled":                    }
                    "function" == typeof i.onVisibleRangeChanged && i.onVisibleRangeChanged(n);
                } else switch (this.visibleRangeChangedHandling) {
                  case "CallBack":
                    this.visibleRangeChangedCallBack(null);
                    break;

                  case "PostBack":
                    this.visibleRangeChangedPostBack(null);
                    break;

                  case "JavaScript":
                    this.onVisibleRangeChanged(e, t);
                    break;

                  case "Disabled":                }
            }, this.visibleRangeChangedCallBack = function(e) {
                var t = {};
                this.T("Visible", e, t);
            }, this.visibleRangeChangedPostBack = function(e) {
                var t = {};
                this.R("Visible", e, t);
            }, this.X = function(e, t) {
                var e = JSON.parse(e);
                i.items = e.Items, i.cells = e.Cells, i.cells ? i.update() : i.og();
            }, this.ug = function() {
                for (var e = 0; e < this.showMonths; e++) {
                    var t = this.Eg(e);
                    this.xf(e, t);
                }
                this.root.style.height = this.Sf() + "px", this.nav.preselection = document.createElement("div"), 
                this.nav.preselection.style.position = "absolute", this.nav.preselection.style.left = "0px", 
                this.nav.preselection.style.top = "0px", this.root.appendChild(this.nav.preselection);
            }, this.Sf = function() {
                if ("Horizontal" === this.orientation) {
                    for (var e = 0, t = 0; t < this.months.length; t++) {
                        var i = this.months[t];
                        i.height > e && (e = i.height);
                    }
                    return e;
                }
                for (var n = 0, t = 0; t < this.months.length; t++) {
                    var i = this.months[t];
                    n += i.height;
                }
                return n;
            }, this.Eg = function(e) {
                if (this.internal.showLinks) return this.internal.showLinks;
                var t = {};
                return t.left = 0 === e, t.right = 0 === e, t.before = 0 === e, t.after = e === this.showMonths - 1, 
                "Horizontal" === this.orientation && (t.right = e === this.showMonths - 1), t;
            }, this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function() {
                i.Wd.scope && i.Wd.scope["$apply"]();
            }, this.internal = {}, this.internal.initialized = function() {
                return i.N;
            }, this.$c = {};
            var r = this.$c;
            r.locale = function() {
                return DayPilot.Locale.find(i.locale);
            }, r.weekStarts = function() {
                if ("Auto" === i.weekStarts) {
                    var e = r.locale();
                    return e ? e.weekStarts : 0;
                }
                return i.weekStarts;
            }, r.cellWidth = function() {
                if (i.L.cellWidth) return i.L.cellWidth;
                var e = i.be("_cell_dimensions").width;
                return e || (e = i.cellWidth), i.L.cellWidth = e, e;
            }, this.clearSelection = function() {
                for (var e = 0; e < this.selected.length; e++) {
                    var t = this.selected[e];
                    i.ng(t.parentNode, t.x, t.y);
                }
                this.selected = [];
            }, this.ge = function() {
                return !!this.backendUrl && ("undefined" == typeof i.items || !i.items);
            }, this.events = {}, this.ta = function() {
                if (DayPilot.isArray(this.events.list)) {
                    this.items = {};
                    for (var e = 0; e < this.events.list.length; e++) {
                        var t = this.events.list[e];
                        if (!t.hidden) {
                            var i = this.Fg(t);
                            for (var n in i) this.items[n] = 1;
                        }
                    }
                }
            }, this.be = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", 
                t.className = this.C(e);
                var n = i.root || document.body;
                n.appendChild(t);
                var a = t.offsetHeight, r = t.offsetWidth;
                n.removeChild(t);
                var o = {};
                return o.height = a, o.width = r, o;
            }, this.Fg = function(e) {
                for (var t = new DayPilot.Date(e.start), i = new DayPilot.Date(e.end), n = {}, a = t.getDatePart(); a.getTime() < i.getTime(); ) n[a.toStringSortable()] = 1, 
                a = a.addDays(1);
                return n;
            }, this.show = function() {
                i.visible = !0, i.root.style.display = "";
            }, this.hide = function() {
                i.visible = !1, i.root.style.display = "none";
            }, this.je = function() {
                if (this.id && this.id.tagName) this.nav.top = this.id; else {
                    if ("string" != typeof this.id) throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Navigator: The placeholder element not found: '" + e + "'.";
                }
                this.root = this.nav.top;
            }, this.init = function() {
                if (this.je(), !this.root.dp) {
                    i.cssOnly || (i.cssOnly = !0, DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")), 
                    this.qg(), this.bg(), this.ug(), this.ta(), this.og(), this.fa(), this.Gg(), this.Kd();
                    return this.ge() && this.vg(), this.N = !0, this.le(), this.rg && (this.select(this.rg.date, this.rg.options), 
                    this.rg = null), this;
                }
            }, this.Gg = function() {
                i.nav.top.onmousedown = this.Ag, i.nav.top.onmousemove = this.Bg;
            }, this.Kd = function() {
                DayPilot.re(document, "mouseup", i.Le);
            }, this.Le = function(e) {
                if (n.start && n.end) {
                    var t = DayPilot.mo3(i.nav.top, e);
                    if (t.x === n.start.coords.x && t.y === n.start.coords.y) return n.start = null, 
                    void n.clear();
                    n.clear();
                    var r = n.ordered();
                    r.start = new a(r.start).nextVisible(), r.end = new a(r.end).previousVisible(), 
                    i.selectionDay = new a(r.start).date(), i.selectionStart = i.selectionDay, i.selectionEnd = new a(r.end).date(), 
                    n.start = null, n.end = null, i.wf(), i.bg(), i.ug(), i.og(), i.pg();
                    i.xb({
                        mode: "freehand"
                    });
                }
                n.start = null, n.end = null;
            }, this.dispose = function() {
                var e = i;
                e.root && (e.root.removeAttribute("style"), e.root.removeAttribute("class"), e.root.dp = null, 
                e.root.innerHTML = null, e.root = null);
            }, this.fa = function() {
                this.root.dispose = this.dispose;
            }, this.Init = this.init, this._d(t);
        }, "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotNavigator = function(e) {
                var t = null, i = this.each(function() {
                    if (!this.daypilot) {
                        var i = new DayPilot.Navigator(this.id);
                        this.daypilot = i;
                        for (var n in e) i[n] = e[n];
                        i.Init(), t || (t = i);
                    }
                });
                return 1 === this.length ? t : i;
            };
        }(jQuery), function() {
            var e = DayPilot.am();
            e && e.directive("daypilotNavigator", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t.replaceWith(this["template"].replace("{{id}}", i["id"])), function(t, i, n) {
                            var a = new DayPilot.Navigator(i[0]);
                            a.Wd.scope = t, a.init();
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        t["$apply"](function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"], h = n["events"] || n["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var i in e) a[i] = e[i];
                                a.update();
                            }, !0), d.call(t, h, function(e) {
                                a.events.list = e, a.ta(), a.og();
                            }, !0);
                        };
                    }
                };
            } ]);
        }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    function t(e) {
        for (var t = e.touches[0].clientX, i = e.touches[0].clientY, n = document.elementFromPoint(t, i); n && n.parentNode; ) if (n = n.parentNode, 
        n.daypilotMainD) return n.calendar;
        return !1;
    }
    function i(e) {
        var t = e.touches[0].pageX, i = e.touches[0].pageY, n = {};
        return n.x = t, n.y = i, n;
    }
    if ("undefined" == typeof DayPilot.Scheduler) {
        var n = function() {
            var e = navigator.userAgent;
            return e.indexOf("Mozilla/5.0") > -1 && e.indexOf("Android ") > -1 && e.indexOf("AppleWebKit") > -1 && !(e.indexOf("Chrome") > -1);
        }(), a = navigator.userAgent.indexOf("iPad") > -1 || navigator.userAgent.indexOf("iPhone") > -1, o = {}, s = function() {}, l = !1;
        DayPilot.Scheduler = function(t, l) {
            function h(e) {
                e.div.style.right = e.right + "px", e.div.style.height = e.height + "px", e.div.style.top = e.top + "px", 
                f.Am(e.div, e.enabled()), e.divHeader.style.height = e.heightRes + "px", e.divHeader.style.top = e.top + "px", 
                f.Am(e.divHeader, e.enabled()), e.divSpace && (e.divSpace.style.top = e.height + "px");
            }
            function u(e, t) {
                return 1 - e / t;
            }
            this.v = "2020.2.4327";
            var f = this;
            this.id = t, this.isScheduler = !0, this.allowDefaultContextMenu = !1, this.allowEventOverlap = !0, 
            this.allowMultiMove = !1, this.allowMultiRange = !1, this.allowMultiResize = !1, 
            this.allowMultiSelect = !0, this.api = 2, this.multiSelectRectangle = "Disabled", 
            this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, 
            this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", this.blockOnCallBack = !1, 
            this.navigatorBackSync = null, this.backendUrl = null, this.beforeCellRenderCaching = !0, 
            this.businessBeginsHour = 9, this.businessEndsHour = 18, this.businessWeekends = !1, 
            this.cellDuration = 60, this.cellGroupBy = "Day", this.cellSweeping = !0, this.cellSweepingCacheSize = 1e3, 
            this.cellWidth = 40, this.cellWidthMin = 1, this.cellWidthSpec = "Fixed", this.cellsMarkBusiness = !0, 
            this.cornerHtml = "", this.crosshairTimeHeaderLevel = "Last", this.crosshairType = "Header", 
            this.cssClassPrefix = "scheduler_default", this.days = 1, this.doubleClickTimeout = 300, 
            this.dragOutAllowed = !1, this.drawBlankCells = !0, this.durationBarHeight = 3, 
            this.durationBarVisible = !0, this.durationBarMode = "Duration", this.dynamicEventRendering = "Progressive", 
            this.dynamicEventRenderingMargin = 50, this.dynamicEventRenderingMarginX = null, 
            this.dynamicEventRenderingMarginY = null, this.dynamicEventRenderingCacheSweeping = !1, 
            this.dynamicEventRenderingCacheSize = 200, this.dynamicLoading = !1, this.eventEditMinWidth = 100, 
            this.eventEndSpec = "DateTime", this.eventHeight = 35, this.eventHtmlLeftMargin = 10, 
            this.eventHtmlRightMargin = 10, this.eventMarginLeft = 0, this.eventMarginRight = 0, 
            this.eventMarginBottom = 0, this.eventMinWidth = 1, this.eventMoveMargin = 5, this.eventMoveToPosition = !1, 
            this.eventMoveSkipNonBusiness = !1, this.eventResizeMargin = 5, this.eventStackingLineHeight = 100, 
            this.eventTapAndHoldHandling = "Move", this.eventTextWrappingEnabled = !1, this.eventUpdateInplaceOptimization = !1, 
            this.eventsLoadMethod = "GET", this.eventVersionHeight = 25, this.eventVersionMargin = 2, 
            this.eventVersionPosition = "Above", this.eventVersionsEnabled = !1, this.eventVersionsReserveSpace = !1, 
            this.floatingEvents = !a, this.floatingTimeHeaders = !0, this.groupConcurrentEvents = !1, 
            this.groupConcurrentEventsLimit = 1, this.headerHeight = 30, this.heightSpec = "Max", 
            this.height = 600, this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !0, 
            this.infiniteScrollingEnabled = !1, this.infiniteScrollingMargin = 50, this.infiniteScrollingStepDays = 30, 
            this.initEventEnabled = !0, this.jointEventsResize = !0, this.jointEventsMove = !0, 
            this.layout = "Auto", this.linkCreateHandling = "Disabled", this.linkBottomMargin = 17, 
            this.linkPointSize = 10, this.linksLoadMethod = "GET", this.locale = "en-us", this.loadingLabelText = "Loading...", 
            this.loadingLabelVisible = !0, this.overrideWheelScrolling = !1, this.messageBarPosition = "Top", 
            this.messageHideAfter = 5e3, this.messageHideOnMouseOut = !0, this.multiMoveVerticalMode = "Disabled", 
            this.moveBy = "Full", this.notifyCommit = "Immediate", this.progressiveRowRendering = !0, 
            this.progressiveRowRenderingPreload = 25, this.rowCreateHeight = null, this.rowCreateHtml = "New row...", 
            this.rowDragHandleWidth = 10, this.rowHeaderColumnDefaultWidth = 80, this.rowHeaderHideIconEnabled = !1, 
            this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderWidthAutoFit = !0, 
            this.rowHeaderWidthMarginRight = 0, this.rowHeaderColumnsResizable = !0, this.rowHeaderColumnsMode = "Tabular", 
            this.rowHeaderColumns = null, this.rowHeaderWidth = 80, this.rowMarginBottom = 0, 
            this.rowMarginTop = 0, this.rowMinHeight = 0, this.rowsLoadMethod = "GET", this.rowSortingMode = "LeavesOnly", 
            this.scale = "CellDuration", this.scaleManualLimitBeyond = !0, this.scrollDelayDynamic = 500, 
            this.scrollDelayEvents = 200, this.scrollDelayCells = a ? 100 : 0, this.scrollDelayFloats = 0, 
            this.scrollDelayRows = 0, this.scrollStep = null, this.scrollX = 0, this.scrollY = 0, 
            this.selectedRows = [], this.separators = [], this.showNonBusiness = !0, this.showNonBusinessForceHours = !1, 
            this.showToolTip = !0, this.snapToGrid = !0, this.snapToGridTimeRangeSelecting = !0, 
            this.snapToGridEventMoving = !0, this.snapToGridEventResizing = !0, this.startDate = DayPilot.Date.today(), 
            this.syncResourceTree = !1, this.tapAndHoldTimeout = 300, this.timeHeaders = [ {
                groupBy: "Default"
            }, {
                groupBy: "Cell"
            } ], this.timeHeaderPosition = "Top", this.timeHeaderTextWrappingEnabled = !1, this.treeAnimation = !0, 
            this.treeAutoExpand = !0, this.treeEnabled = !1, this.treeIndent = 20, this.treeImageMarginLeft = 5, 
            this.treeImageMarginTop = 3, this.treeImageMarginRight = 2, this.treeImageWidth = 10, 
            this.treeImageHeight = 10, this.treePreventParentUsage = !1, this.timeFormat = "Auto", 
            this.timeline = null, this.useEventBoxes = "Always", this.viewType = "Resources", 
            this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = "Auto", this.width = null, 
            this.zoomLevels = [], this.zoomPosition = "left", this.eventClickHandling = "Enabled", 
            this.eventDeleteHandling = "Disabled", this.eventHoverHandling = "Bubble", this.eventDoubleClickHandling = "Disabled", 
            this.eventEditHandling = "Update", this.eventMoveHandling = "Update", this.eventResizeHandling = "Update", 
            this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", 
            this.resourceCollapseHandling = "Enabled", this.resourceExpandHandling = "Enabled", 
            this.rowClickHandling = "Enabled", this.rowDoubleClickHandling = "Disabled", this.rowRightClickHandling = "ContextMenu", 
            this.rowCreateHandling = "Disabled", this.rowEditHandling = "Update", this.rowHeaderColumnResizedHandling = "Update", 
            this.rowSelectHandling = "Update", this.rowMoveHandling = "Disabled", this.timeHeaderClickHandling = "Enabled", 
            this.timeHeaderRightClickHandling = "Enabled", this.timeRangeClickHandling = "Enabled", 
            this.timeRangeDoubleClickHandling = "Disabled", this.timeRangeSelectedHandling = "Enabled", 
            this.timeRangeRightClickHandling = "ContextMenu", this.timeRangeSelectingStartEndEnabled = !1, 
            this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy", this.eventMovingStartEndEnabled = !1, 
            this.eventMovingStartEndFormat = "MMMM d, yyyy", this.eventResizingStartEndEnabled = !1, 
            this.eventResizingStartEndFormat = "MMMM d, yyyy", "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble() : this.bubble = null, 
            this.cellBubble = null, this.resourceBubble = null;
            this.linkBubble = null;
            DayPilot.browser.ie && (this.scrollDelayCells = 100, this.scrollDelayFloats = 100), 
            1 === f.api && (this.onEventMove = function() {}, this.onEventResize = function() {}, 
            this.onResourceExpand = function() {}, this.onResourceCollapse = function() {}), 
            this.onEventClick = null, this.onEventClicked = null, this.onEventMove = null, this.onEventMoved = null, 
            this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, 
            this.onEventResizing = null, this.onEventRightClick = null, this.onEventRightClicked = null, 
            this.onEventMouseOver = null, this.onEventMouseOut = null, this.onIncludeTimeCell = null, 
            this.onLinkClick = null, this.onLinkClicked = null, this.onRowClick = null, this.onRowClicked = null, 
            this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowMouseOver = null, 
            this.onRowMouseOut = null, this.onRowRightClick = null, this.onRowRightClicked = null, 
            this.onTimeHeaderClick = null, this.onTimeHeaderClicked = null, this.onTimeHeaderRightClick = null, 
            this.onTimeHeaderRightClicked = null, this.onTimeRangeClick = null, this.onTimeRangeClicked = null, 
            this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, 
            this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onTimeRangeRightClick = null, 
            this.onTimeRangeRightClicked = null, this.onRowHeaderColumnResized = null, this.onRowHeaderResized = null, 
            this.onCellMouseOver = null, this.onCellMouseOut = null, this.onGridMouseDown = null, 
            this.onBeforeCellRender = null, this.onBeforeCornerRender = null, this.onBeforeCornerDomAdd = null, 
            this.onBeforeCornerDomRemove = null, this.onBeforeEventRender = null, this.onBeforeEventDomAdd = null, 
            this.onBeforeEventDomRemove = null, this.onBeforeTimeHeaderRender = null, this.onBeforeTimeHeaderDomAdd = null, 
            this.onBeforeTimeHeaderDomRemove = null, this.onBeforeResHeaderRender = null, this.onBeforeRowHeaderRender = null, 
            this.onBeforeRowHeaderColumnRender = null, this.onBeforeRowHeaderDomAdd = null, 
            this.onBeforeRowHeaderDomRemove = null, this.onBeforeCellExport = null, this.onBeforeEventExport = null, 
            this.onBeforeTimeHeaderExport = null, this.onBeforeRowHeaderExport = null, this.onAfterEventRender = null, 
            this.onAfterCellRender = null, this.onEventFilter = null, this.onRowFilter = null, 
            this.onRectangleEventSelecting = null, this.onRectangleEventSelect = null, this.onRectangleEventSelected = null, 
            this.onDimensionsChanged = null, this.onAfterUpdate = null, this.M = 0, this.Hg = !0, 
            this.Ig = !1, this.Jg = !1, this.Kg = !1, this.Lg = -1, this.Mg = -1, this.$d = !1, 
            this.Ng = -1, this.Og = !1, this.Pg = !0, this.rowlist = DayPilot.list(), this.itline = DayPilot.list(), 
            this.events = {}, this.cells = {}, this.elements = {}, this.elements.events = [], 
            this.elements.bars = [], this.elements.text = [], this.elements.cells = [], this.elements.linesVertical = [], 
            this.elements.separators = [], this.elements.range = [], this.elements.breaks = [], 
            this.elements.links = [], this.elements.linkpoints = [], this.elements.rectangle = [], 
            this.elements.hover = [], this.elements.timeHeader = [], this.L = {}, this.L.cells = [], 
            this.L.linesVertical = {}, this.L.linesHorizontal = {}, this.L.timeHeaderGroups = [], 
            this.L.timeHeader = {}, this.L.pixels = [], this.L.breaks = [], this.L.events = [], 
            this.clientState = {}, this.members = {}, this.members.obsolete = [ "Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader" ], 
            this.members.ignoreFilter = function(e) {
                return 0 === e.indexOf("div");
            }, this.members.ignore = [ "internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts", "rowHeaderCols" ], 
            this.members.noCssOnly = [], this.O = "javasc", this.nav = {}, this.X = function(e, t) {
                var e = JSON.parse(e);
                if (f.onScrollCalled = !1, e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                if ("function" == typeof f.onCallBackResult) {
                    var i = {};
                    if (i.result = e, i.preventDefault = function() {
                        i.preventDefault.value = !0;
                    }, f.onCallBackResult(i), i.preventDefault.value) return f.rb(), f.na(), f.Ka(), 
                    e.Message && f.message && f.message(e.Message), f.oa(e.CallBackData, !0), f.Qg(), 
                    void f.Rg();
                }
                if (e.BubbleGuid) {
                    var n = e.BubbleGuid, a = this.bubbles[n];
                    return delete this.bubbles[n], f.na(), "undefined" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a), 
                    void f.Qg();
                }
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "undefined" != typeof e.ClientState && (null === e.ClientState ? f.clientState = {} : f.clientState = e.ClientState), 
                "None" === e.UpdateType) return f.na(), f.Qg(), e.Message && f.message(e.Message), 
                void f.oa(e.CallBackData, !0);
                if (e.VsUpdate) {
                    var r = document.createElement("input");
                    r.type = "hidden", r.name = f.id + "_vsupdate", r.id = r.name, r.value = e.VsUpdate, 
                    f.uf.innerHTML = "", f.uf.appendChild(r);
                }
                "undefined" != typeof e.TagFields && (f.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (f.sortDirections = e.SortDirections), 
                f.L.drawArea = null, "Full" === e.UpdateType && (f.resources = e.Resources, f.colors = e.Colors, 
                f.palette = e.Palette, f.dirtyColors = e.DirtyColors, f.cellProperties = e.CellProperties, 
                f.cellConfig = e.CellConfig, f.separators = e.Separators, f.timeline = e.Timeline, 
                f.timeHeader = e.TimeHeader, f.timeHeaders = e.TimeHeaders, "undefined" != typeof e.Links && (f.links.list = e.Links), 
                "undefined" != typeof e.RowHeaderColumns && (f.rowHeaderColumns = e.RowHeaderColumns), 
                f.startDate = e.StartDate ? new DayPilot.Date(e.StartDate) : f.startDate, f.days = e.Days ? e.Days : f.days, 
                f.cellDuration = e.CellDuration ? e.CellDuration : f.cellDuration, f.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : f.cellGroupBy, 
                f.cellWidth = e.CellWidth ? e.CellWidth : f.cellWidth, "undefined" != typeof e.Scale && (f.scale = e.Scale), 
                f.viewType = e.ViewType ? e.ViewType : f.viewType, "undefined" != typeof e.ShowNonBusiness && (f.showNonBusiness = e.ShowNonBusiness), 
                f.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : f.businessBeginsHour, 
                f.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : f.businessEndsHour, 
                "undefined" != typeof e.DynamicLoading && (f.dynamicLoading = e.DynamicLoading), 
                "undefined" != typeof e.TreeEnabled && (f.treeEnabled = e.TreeEnabled), f.locale = e.Locale ? e.Locale : f.locale, 
                "undefined" != typeof e.TimeZone && (f.timeZone = e.TimeZone), f.timeFormat = e.TimeFormat ? e.TimeFormat : f.timeFormat, 
                f.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : f.rowHeaderCols, "undefined" != typeof e.DurationBarMode && (f.durationBarMode = e.DurationBarMode), 
                "undefined" != typeof e.CornerHTML && (f.cornerHtml = e.CornerHTML), f.hashes = e.Hashes, 
                f.Sg(), f.Tg(), f.Ug(), f.sa()), "Scroll" !== e.Action && f.ta(e.Events), "Full" === e.UpdateType && (f.Vg(), 
                f.Wg()), f.Xg(), f.Ga(), f.Yg(), f.L.drawArea = null, "Scroll" !== e.Action ? (f.Zg(), 
                f.va(), "Auto" !== f.heightSpec && "Max" !== f.heightSpec || f.Ca(), f.$g(), f._(), 
                f._g(), f.multiselect.clear(!0), f.multiselect.ah(e.SelectedEvents), f.bh(), f.ch(), 
                f.Ha()) : (f.multiselect.clear(!0), f.multiselect.ah(e.SelectedEvents), f.dh(e.Events)), 
                "HoldForever" !== f.timeRangeSelectedHandling && f.eh(), "Full" === e.UpdateType && (f.setScroll(e.ScrollX, e.ScrollY), 
                f.pg()), f.fh(), f.rb(), e.SelectedRows && f.gh(e.SelectedRows), f.na(), "Full" === e.UpdateType && navigator.appVersion.indexOf("MSIE 7.") !== -1 && window.setTimeout(function() {
                    f.Vg(), f.Ca();
                }, 0), f.Ka(), e.Message && f.message && f.message(e.Message), f.oa(e.CallBackData, !0), 
                f.Qg(), f.Rg(), "Full" !== e.UpdateType || "Scroll" === e.Action || f.onScrollCalled || setTimeout(function() {
                    f.hh();
                }, 0);
            }, this.rb = function() {
                if (f.todo && f.todo.del) {
                    var e = f.todo.del;
                    e.parentNode.removeChild(e), f.todo.del = null;
                }
            }, this.oa = function(e, t) {
                var i = function(e, t) {
                    return function() {
                        if (f.La()) {
                            if ("function" == typeof f.onAfterRender) {
                                var i = {};
                                i.isCallBack = t, i.isScroll = !1, i.data = e, f.onAfterRender(i);
                            }
                        } else f.afterRender && f.afterRender(e, t);
                    };
                };
                window.setTimeout(i(e, t), 0);
            }, this.scrollTo = function(e, t, i) {
                var n = DayPilot.Util.overlaps(f.visibleStart(), f.visibleEnd(), e, e);
                return f.infiniteScrollingEnabled && !n ? void f.infinite.scrollTo(e) : void (f.ih.enabled ? (f.ih.scrollToRequested = e, 
                setTimeout(function() {
                    var e = f.ih.scrollToRequested;
                    e && f.jh(e, t, i);
                }, 0)) : f.jh(e, t, i));
            }, this.jh = function(e, t, i) {
                if (e) {
                    if (!f.N) return void (f.kh = {
                        date: e,
                        animated: t,
                        position: i
                    });
                    if ("Days" === f.viewType) {
                        var n = f.lh(new DayPilot.Date(e));
                        if (!n) return;
                        return void setTimeout(function() {
                            var e = n.top;
                            f.nav.scroll.scrollTop = e;
                        }, 100);
                    }
                    var a;
                    if (e instanceof DayPilot.Date) a = this.getPixels(e).left; else if ("string" == typeof e) a = this.getPixels(new DayPilot.Date(e)).left; else {
                        if ("number" != typeof e) throw "Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";
                        a = e;
                    }
                    var r = f.mh.clientWidth, o = f.nav.scroll.clientWidth;
                    switch (i = i || "left", i.toLowerCase()) {
                      case "left":
                        break;

                      case "middle":
                        a -= o / 2;
                        break;

                      case "right":
                        a -= o;
                    }
                    if (a < 0 && (a = 0), a > r - o && (a = r - o), !t) return void f.nh(a);
                    var s = Math.abs(f.nav.scroll.scrollLeft - a), l = s / r, d = 50;
                    if ("number" == typeof t) d = t; else if ("string" == typeof t) switch (t) {
                      case "fast":
                        d = 30;
                        break;

                      case "normal":
                        d = 50;
                        break;

                      case "slow":
                        d = 100;
                        break;

                      case "linear":
                        d = Math.floor(100 * l);
                    }
                    l > .6 && (d = Math.min(d, 80)), f.oh(a, d);
                }
            }, this.oh = function(e, t) {
                function i(e) {
                    var t = e.next();
                    return "undefined" == typeof t ? void (e.finished && e.finished()) : (f.setScrollX(t), 
                    window.clearTimeout(f.refreshTimeout), void setTimeout(function() {
                        i(e);
                    }, e.delay));
                }
                var n = {};
                n.steps = [], n.index = 0, n.delay = 10, n.next = function() {
                    var e = n.steps[n.index];
                    return n.index += 1, e;
                }, n.finished = function() {
                    f.hh();
                };
                for (var a = f.getScrollX(), t = t || 100, r = e - a, o = 0; o < t; o++) {
                    var s = o / t, l = 2 * (s - .5) / (Math.pow(2 * (s - .5), 2) + 1) + .5;
                    n.steps.push(a + r * l);
                }
                n.steps.push(e), i(n);
            }, this.scrollToResource = function(e) {
                DayPilot.complete(function() {
                    var t;
                    if ("string" == typeof e || "number" == typeof e) t = f.ph(e); else {
                        if (!(e instanceof DayPilot.Row)) throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");
                        t = f.ph(e.id);
                    }
                    t && setTimeout(function() {
                        var e = t.top;
                        f.nav.scroll.scrollTop = e;
                    }, 100);
                });
            }, this.qh = function() {
                if (this.floatingTimeHeaders && this.timeHeader) {
                    var e = f.rh();
                    if (e) {
                        f.uh();
                        for (var t = e.pixels.left + p.shiftX, i = e.pixels.right + p.shiftX + e.sw, n = [], a = 0; a < this.timeHeader.length; a++) for (var r = 0; r < this.timeHeader[a].length; r++) {
                            var o = this.timeHeader[a][r], s = o.left, l = o.left + o.width, d = null;
                            if (s < t && t < l && (d = {}, d.x = r, d.y = a, d.marginLeft = t - s, d.marginRight = 0, 
                            d.div = f.L.timeHeader[r + "_" + a], n.push(d)), s < i && i < l) {
                                d || (d = {}, d.x = r, d.y = a, d.marginLeft = 0, d.div = f.L.timeHeader[r + "_" + a], 
                                n.push(d)), d.marginRight = l - i;
                                break;
                            }
                        }
                        for (var c = 0; c < n.length; c++) {
                            var d = n[c];
                            f.vh(d.div, d.marginLeft, d.marginRight);
                        }
                    }
                }
            }, this.fh = function() {
                f.qh(), f.wh();
            }, this.xh = {};
            var v = f.xh;
            v.eventsInRectangle = function(e, t, i, n) {
                var a = e, r = e + i, o = t, s = t + n;
                return DayPilot.list(f.elements.events).filter(function(e) {
                    var t = e.event, i = t.part.left, n = t.part.left + t.part.width, l = f.rowlist[t.part.dayIndex], d = l.top + t.part.top, c = d + t.part.height;
                    if (DayPilot.Util.overlaps(i, n, a, r) && DayPilot.Util.overlaps(d, c, o, s)) return !0;
                });
            }, v.events = function(e) {
                var t = [], e = e || "All", i = f.rh();
                if (!i) return DayPilot.list(t);
                for (var n = i.pixels.left, a = i.pixels.right, r = 0; r < f.elements.events.length; r++) {
                    var o = f.elements.events[r], s = o.event, l = s.part.left, d = s.part.left + s.part.width;
                    switch (e) {
                      case "Left":
                        l < n && n < d && t.push(o);
                        break;

                      case "All":
                        DayPilot.Util.overlaps(l, d, n, a) && t.push(o);
                    }
                }
                return DayPilot.list(t).addProps({
                    area: i
                });
            }, this.wh = function() {
                if (this.floatingEvents) {
                    var e = v.events("Left");
                    f.yh(), e.filter(function(e) {
                        return "Milestone" !== e.event.data.type;
                    }).forEach(function(t) {
                        var i = t.event, n = e.area.pixels.left, a = i.part.left, r = n - a;
                        f.zh(t, r, 0);
                    });
                }
            }, this.elements.sections = [], this.elements.hsections = [], this.vh = function(e, t, i) {
                var n = document.createElement("div");
                n.setAttribute("unselectable", "on"), n.className = f.C("_timeheader_float"), n.style.position = "absolute", 
                n.style.left = t + "px", n.style.right = i + "px", n.style.top = "0px", n.style.bottom = "0px", 
                n.style.overflow = "hidden";
                var a = document.createElement("div");
                a.className = f.C("_timeheader_float_inner"), a.setAttribute("unselectable", "on");
                var r = e.cell.th;
                if (r.innerHTML && (a.innerHTML = r.innerHTML), r.fontColor && (a.style.color = r.fontColor), 
                n.appendChild(a), e.section = n, e.insertBefore(n, e.firstChild.nextSibling), e.domArgs && e.domArgs.element) {
                    var o = e.firstChild && e.firstChild.firstChild;
                    o && (o.style.display = "none");
                } else e.firstChild.innerHTML = "";
                this.elements.hsections.push(e);
            }, this.uh = function() {
                for (var e = 0; e < this.elements.hsections.length; e++) {
                    var t = this.elements.hsections[e], i = t.cell;
                    if (i && t.firstChild) if (t.domArgs && t.domArgs.element) {
                        var n = t.firstChild && t.firstChild.firstChild;
                        n && (n.style.display = "");
                    } else t.firstChild.innerHTML = i.th.innerHTML;
                    DayPilot.de(t.section), t.section = null;
                }
                this.elements.hsections = [];
            }, this.zh = function(e, t, i) {
                var n = document.createElement("div");
                n.setAttribute("unselectable", "on"), n.className = f.C(M.eventFloat), n.style.position = "absolute", 
                n.style.left = t + "px", n.style.right = i + "px", n.style.top = "0px", n.style.bottom = "0px", 
                n.style.overflow = "hidden";
                var a = document.createElement("div");
                if (a.className = f.C(M.eventFloatInner), a.setAttribute("unselectable", "on"), 
                a.innerHTML = e.event.client.html(), n.appendChild(a), e.section = n, e.insertBefore(n, e.firstChild.nextSibling), 
                e.domArgs && e.domArgs.element) {
                    var r = e && e.firstChild && e.firstChild.firstChild;
                    r && (r.style.display = "none");
                } else e.firstChild.innerHTML = "";
                var o = e.event, s = o.cache || o.data, l = o.cache ? o.cache.areas : o.data.areas;
                l = l || [], s.fontColor && (a.style.color = e.event.data.fontColor);
                var d = {
                    offsetX: f.Ah(a),
                    eventDiv: e,
                    areas: l.filter(function(e) {
                        return !(e.start || e.end);
                    })
                };
                DayPilot.Areas.attach(n, e.event, d), DayPilot.Areas.disable(e), this.elements.sections.push(e);
            }, this.Bh = null, this.Ah = function(e) {
                return null === f.Bh && (f.Bh = parseInt(new DayPilot.StyleReader(e).get("padding-left"))), 
                f.Bh;
            }, this.yh = function() {
                for (var e = 0; e < this.elements.sections.length; e++) {
                    var t = this.elements.sections[e], i = t.event;
                    if (i) if (t.domArgs && t.domArgs.element) {
                        var n = t && t.firstChild && t.firstChild.firstChild;
                        n && (n.style.display = "");
                    } else t.firstChild.innerHTML = i.client.html();
                    DayPilot.de(t.section), DayPilot.Areas.enable(t), t.section = null;
                }
                this.elements.sections = [];
            }, this.setScrollX = function(e) {
                f.ih.enabled ? (f.ih.scrollXRequested = e, setTimeout(function() {
                    var e = f.ih.scrollXRequested;
                    "number" == typeof e && f.nh(e);
                }, 0)) : f.nh(e);
            }, this.nh = function(e) {
                var t = f.nav.scroll, i = f.Ch();
                t.clientWidth + e > i && (e = i - t.clientWidth), f.divTimeScroll.scrollLeft = e, 
                t.scrollLeft = e;
            }, this.setScrollY = function(e) {
                f.ih.enabled ? (f.ih.scrollYRequested = e, setTimeout(function() {
                    var e = f.ih.scrollYRequested;
                    "number" == typeof e && f.Dh(e);
                }, 0)) : f.Dh(e);
            }, this.Dh = function(e) {
                var t = f.nav.scroll, i = f.Ng;
                t.clientHeight + e > i && (e = i - t.clientHeight), f.divResScroll.scrollTop = e, 
                t.scrollTop = e;
            }, this.setScroll = function(e, t) {
                f.setScrollX(e), f.setScrollY(t);
            }, this.Eh = function() {
                return f.Fh() + P.splitterWidth() - 1;
            }, this.message = function(e, t) {
                if (null !== e && f.N) {
                    var i = {};
                    "object" == typeof arguments[1] && (i = arguments[1], t = i.delay);
                    var n, t = t || this.messageHideAfter || 2e3, a = f.Gh() + 1, r = f.Eh(), o = DayPilot.sw(f.nav.scroll) + 1, s = DayPilot.sh(f.nav.scroll);
                    if (this.nav.message) n = f.nav.message; else {
                        n = document.createElement("div"), n.style.position = "absolute", n.style.left = r + "px", 
                        n.style.right = o + "px", n.style.display = "none", DayPilot.re(n, DayPilot.touch.start, function(e) {
                            f.nav.message.style.display = "none", e.preventDefault(), e.stopPropagation();
                        }), n.onmousemove = function() {
                            f.messageHideOnMouseOut && n.messageTimeout && !n.status && clearTimeout(n.messageTimeout);
                        }, n.onmouseout = function() {
                            f.messageHideOnMouseOut && "none" !== f.nav.message.style.display && (n.messageTimeout = setTimeout(f.Wa, 500));
                        };
                        var l = document.createElement("div");
                        l.onclick = function() {
                            f.nav.message.style.display = "none";
                        }, l.className = f.C("_message"), n.appendChild(l);
                        var d = document.createElement("div");
                        d.style.position = "absolute", d.className = f.C("_message_close"), d.onclick = function() {
                            f.nav.message.style.display = "none";
                        }, n.appendChild(d), this.nav.top.appendChild(n), this.nav.message = n;
                    }
                    var c = function() {
                        var n = f.nav.message;
                        n.firstChild.className = f.C("_message"), i.cssClass && DayPilot.Util.addClass(n.firstChild, i.cssClass), 
                        f.nav.message.firstChild.innerHTML = e;
                        var r = DayPilot.sw(f.nav.scroll);
                        f.nav.message.style.right = r + "px";
                        var o = f.messageBarPosition || "Top";
                        "Bottom" === o ? (f.nav.message.style.bottom = s + "px", f.nav.message.style.top = "") : "Top" === o && (f.nav.message.style.bottom = "", 
                        f.nav.message.style.top = a + "px");
                        var l = function() {
                            n.messageTimeout = setTimeout(f.Wa, t);
                        };
                        DayPilot.fade(f.nav.message, .2, l);
                    };
                    clearTimeout(n.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(f.nav.message, -.2, c) : c();
                }
            }, this.Wa = function() {
                if (f.nav && f.nav.message) {
                    var e = function() {
                        f.nav.message.style.display = "none";
                    };
                    DayPilot.fade(f.nav.message, -.2, e);
                }
            }, this.Hh = function() {
                f.nav && f.nav.message && (f.nav.message.style.display = "none");
            }, this.message.show = function(e) {
                f.message(e);
            }, this.message.hide = function() {
                f.Wa();
            }, this.Ih = null, this.Ca = function() {
                if (this.nav.scroll) {
                    !function() {
                        var e = f.Ch();
                        f.mh.style.height = f.Ng + "px", f.mh.style.width = e + "px", "Auto" !== f.cellWidthSpec || f.Jh ? e > f.nav.scroll.clientWidth ? f.nav.scroll.style.overflowX = "auto" : f.nav.scroll.style.overflowX = "hidden" : (f.nav.scroll.style.overflowX = "hidden", 
                        f.nav.scroll.scrollLeft = 0);
                    }();
                    var e = "None" === f.timeHeaderPosition ? 0 : 1;
                    null !== this.Ih && (this.nav.top.style.border = this.Ih, this.Ih = null), "Parent100Pct" !== this.heightSpec && "Max100Pct" !== this.heightSpec || (this.nav.top.style.height = "100%", 
                    this.hideBorderFor100PctHeight && (this.Ih = this.nav.top.style.border, this.nav.top.style.border = "0 none"), 
                    this.height = parseInt(this.nav.top.clientHeight, 10) - this.Gh() - e), this.nav.scroll.style.height = "30px";
                    var t = this.Ec(), i = t + this.Gh() + e;
                    if (t >= 0 && (this.nav.scroll.style.height = t + "px", this.Kh.style.height = t + "px"), 
                    this.nav.divider && ((!i || isNaN(i) || i < 0) && (i = 0), this.nav.divider.style.height = i + "px"), 
                    "Parent100Pct" !== this.heightSpec && (this.nav.top.style.height = i + "px"), f.nav.resScrollSpace) {
                        var n = 30;
                        "Auto" === f.heightSpec && (n = DayPilot.sh(f.nav.scroll)), f.nav.resScrollSpace.style.height = n + "px";
                    }
                    for (var a = 0; a < this.elements.separators.length; a++) this.elements.separators[a].style.height = this.Ng + "px";
                    for (var a = 0; a < this.elements.linesVertical.length; a++) this.elements.linesVertical[a].style.height = this.Ng + "px";
                    f.Lh(), f.Mh();
                }
            }, this.Tg = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.L.pixels = [], 
                this.itline = DayPilot.list();
                var e = "Auto" === this.cellWidthSpec;
                if (function() {
                    if (e) {
                        var t = 0;
                        f.E() && f.timeline ? t = f.timeline.length : "Manual" === f.scale ? t = f.timeline.length : (f.Nh(), 
                        t = f.itline.length, f.itline = DayPilot.list());
                        var i = f.Oh();
                        if (t > 0 && i > 0) {
                            var n = i / t;
                            f.cellWidth = DayPilot.Util.atLeast(n, f.cellWidthMin), f.Jh = n < f.cellWidthMin;
                        }
                    }
                }(), this.E() && this.timeline) {
                    if (this.timeline) {
                        this.itline = DayPilot.list();
                        for (var t = null, i = 0, n = 0; n < this.timeline.length; n++) {
                            var a = this.timeline[n], r = {};
                            if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), 
                            a.width) r.left = a.left || i, r.width = a.width || this.cellWidth, i += r.width; else {
                                var o = Math.floor(i + this.cellWidth), s = o - Math.floor(i);
                                r.left = Math.floor(i), r.width = s, i += this.cellWidth;
                            }
                            r.breakBefore = t && t.ticks !== r.start.ticks, t = r.end, this.itline.push(r);
                        }
                    }
                    e && this.Ph();
                } else {
                    if (this.timeHeader = [], "Manual" === this.scale) {
                        this.itline = DayPilot.list();
                        for (var i = 0, t = null, n = 0; this.timeline && n < this.timeline.length; n++) {
                            var a = this.timeline[n], r = {};
                            if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), 
                            t && r.start.ticks < t.ticks) throw "The timeline must be sequential";
                            var l = a.width || this.cellWidth, o = Math.floor(i + l), s = o - Math.floor(i);
                            r.left = Math.floor(i), r.width = s, i += l, r.breakBefore = t && t.ticks !== r.start.ticks, 
                            t = r.end, this.itline.push(r);
                        }
                    } else this.Nh();
                    this.Qh();
                }
            }, this.infinite = {}, this.infinite.shiftStart = function(e) {
                p.shiftStart(e);
            }, this.infinite.scrollTo = function(e) {
                p.shiftTo(e);
            }, this.Rh = {};
            var p = this.Rh;
            p.shiftX = 0, p.active = !1, p.updateRowStarts = function() {
                f.Sh().forEach(function(e, t) {
                    e.start = f.Ta(), e.data = null, f.Th(e.index, e.grid);
                });
            }, p.isEnabled = function() {
                return f.infiniteScrollingEnabled && !f.E();
            }, p.shiftTo = function(e) {
                var e = new DayPilot.Date(e), t = e.addDays(-f.infiniteScrollingStepDays).getDatePart(), i = new DayPilot.Duration(t.getTime() - f.startDate.getDatePart().getTime()).totalDays();
                p.shiftStart(i, e);
            }, p.shiftStart = function(e, t) {
                var i;
                p.active = !0;
                var n = f.startDate, a = f.startDate.addDays(e);
                e > 0 && (i = -f.getPixels(a).left), f.startDate = f.startDate.addDays(e), f.itline = DayPilot.list(), 
                f.L.pixels = [], f.Uh = {}, f.Nh(), p.updateRowStarts(), e < 0 && (i = f.getPixels(n).left), 
                f.timeHeader = [], f.Qh(), f.Wg(), f.cellProperties = {}, f.$g(), f._g(), f.ta(), 
                f._(), f.Xg(), f.Zg(), f.Ca(), "undefined" != typeof t ? (f.scrollTo(new DayPilot.Date(t)), 
                f.hh()) : f.nav.scroll.scrollLeft += i, f.ch(), f.Ha(), p.active = !1;
            }, this.Nh = function() {
                for (var e = "Days" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, i = this.Vh(t), n = !1, a = 0, r = null; i.ticks <= e.ticks && i.ticks > t.ticks; ) {
                    var o = t, s = i;
                    f.showNonBusinessForceHours && "Day" == f.scale && (o = t.addHours(f.businessBeginsHour), 
                    s = t.addHours(f.businessEndsHour));
                    var l = this.Wh(o, s, !0);
                    if (!l.cell.start || !l.cell.end) throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");
                    if (l.cell.start = new DayPilot.Date(l.cell.start), l.cell.end = new DayPilot.Date(l.cell.end), 
                    l.cell.start >= l.cell.end) throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");
                    if (r && r.ticks > l.cell.start.ticks) throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");
                    n = !!(r && r.ticks < l.cell.start.ticks);
                    var d = l.cell.width || f.cellWidth;
                    if (l.cell.visible) {
                        var c = Math.floor(a + d), h = c - Math.floor(a), u = {};
                        u.start = l.cell.start, u.end = l.cell.end, u.left = Math.floor(a), u.width = h, 
                        u.breakBefore = n, this.itline.push(u), a += d, r = l.cell.end;
                    }
                    t = i, i = this.Vh(t);
                }
            }, this.Ph = function() {
                if (this.timeHeader) for (var e = 0; e < this.timeHeader.length; e++) for (var t = this.timeHeader[e], i = 0; i < t.length; i++) {
                    var n = t[i];
                    n.left = this.getPixels(new DayPilot.Date(n.start)).left;
                    var a = this.getPixels(new DayPilot.Date(n.end)).left, r = a - n.left;
                    n.width = r;
                }
            }, this.Qh = function() {
                var e = this.timeHeaders;
                if (e || (e = [ {
                    groupBy: this.cellGroupBy
                }, {
                    groupBy: "Cell"
                } ]), this.itline.isEmpty()) {
                    this.timeHeader = [];
                    for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];
                } else for (var i = f.Xh(), t = 0; t < e.length; t++) {
                    var n = e[t].groupBy, a = e[t].format;
                    "Default" === n && (n = this.cellGroupBy);
                    for (var r = [], o = this.Ta(); o.ticks < i.ticks; ) {
                        var s = {};
                        if (s.start = o, s.end = this.Yh(s.start, n), s.start.ticks === s.end.ticks) break;
                        s.left = this.getPixels(s.start).left;
                        var l = this.getPixels(s.end).left, d = l - s.left;
                        if (s.width = d, s.colspan = Math.ceil(d / (1 * this.cellWidth)), "string" == typeof a ? s.innerHTML = s.start.toString(a, P.locale()) : s.innerHTML = this.Zh(s, n), 
                        s.text = s.innerHTML, d > 0) {
                            if ("function" == typeof this.onBeforeTimeHeaderRender) {
                                var c = {};
                                c.start = s.start, c.end = s.end, c.text = s.innerHTML, c.html = s.innerHTML, c.toolTip = s.innerHTML, 
                                c.backColor = null, c.fontColor = null, c.level = this.timeHeader.length, c.cssClass = null;
                                var h = {};
                                h.header = c, this.onBeforeTimeHeaderRender(h), s.text = s.innerHTML, s.innerHTML = c.html, 
                                s.backColor = c.backColor, s.fontColor = c.fontColor, s.toolTip = c.toolTip, s.areas = c.areas, 
                                s.cssClass = c.cssClass;
                            }
                            r.push(s);
                        }
                        o = s.end;
                    }
                    this.timeHeader.push(r);
                }
            }, this.Wh = function(e, t) {
                var i = {};
                i.start = e, i.end = t, i.visible = !0, i.width = null;
                var n = {};
                if (n.cell = i, "function" == typeof this.onIncludeTimeCell) return this.onIncludeTimeCell(n), 
                n;
                if (this.showNonBusiness) return n;
                var a = "Days" === f.viewType;
                return n.cell.visible = this.isBusiness({
                    start: e,
                    end: t
                }, a), n;
            }, this.getPixels = function(e) {
                var t = e.ticks, i = this.L.pixels[t];
                if (i) return i;
                var n = 2218768416e5;
                if (0 === this.itline.length || t < this.itline[0].start.ticks) {
                    var a = {};
                    return a.cut = !1, a.left = 0, a.boxLeft = a.left, a.boxRight = a.left, a.i = null, 
                    a;
                }
                for (var r = this.$h(e), o = DayPilot.Util.atLeast(r.i - 1, 0), s = o; s < this.itline.length; s++) {
                    var l = this.itline[s], d = l.start.ticks, c = l.end.ticks;
                    if (d < t && t < c) {
                        var h = t - d, a = {};
                        a.cut = !1, a.left = l.left + this.md(l, h), a.boxLeft = l.left, a.boxRight = l.left + l.width, 
                        a.i = s;
                        break;
                    }
                    if (d === t) {
                        var a = {};
                        a.cut = !1, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left + l.width, 
                        a.i = s;
                        break;
                    }
                    if (c === t) {
                        var a = {};
                        a.cut = !1, a.left = l.left + l.width, a.boxLeft = a.left, a.boxRight = a.left, 
                        a.i = s + 1;
                        break;
                    }
                    if (t < d && t > n) {
                        var a = {};
                        a.cut = !0, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left, a.i = s;
                        break;
                    }
                    n = c;
                }
                if (!a) {
                    var u = this.itline[this.itline.length - 1], a = {};
                    a.cut = !0, a.left = u.left + u.width, a.boxLeft = a.left, a.boxRight = a.left, 
                    a.i = null;
                }
                return this.L.pixels[t] = a, a;
            }, this.getDate = function(e, t, i) {
                var n = this._h(e, i);
                if (!n) return null;
                var a = n.x, r = this.itline[a];
                if (!r) return null;
                var o = i && !t ? r.end : r.start;
                return t ? o.addTime(this.ai(n.cell, n.offset)) : o;
            }, this._h = function(e, t) {
                if (0 === this.itline.length) return null;
                for (var i = 0, n = 0, a = 0; a < this.itline.length; a++) {
                    var r = this.itline[a];
                    if (i += r.width || this.cellWidth, e < i || t && e === i) {
                        var o = {};
                        return o.x = a, o.offset = e - n, o.cell = r, o;
                    }
                    n = i;
                }
                var r = f.itline.last(), o = {};
                return o.x = this.itline.length - 1, o.offset = r.width || this.cellWidth, o.cell = r, 
                o;
            }, this.bi = function(e) {
                return this.$h(e);
            }, this.$h = function(e) {
                var t = new DayPilot.Date(e), i = 0, n = this.itline[0];
                if (t.ticks < n.start.ticks) {
                    var a = {};
                    return a.hidden = !0, a.previous = null, a.current = null, a.next = this.itline[0], 
                    a.i = -1, a;
                }
                var r = this.itline.length - 1, o = this.itline[r];
                if (t.ticks > o.end.ticks) {
                    var a = {};
                    return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, 
                    a;
                }
                if (t.ticks === o.end.ticks) {
                    var a = {};
                    return a.past = !1, a.current = this.itline[this.itline.length - 1], a.i = this.itline.length - 1, 
                    a;
                }
                for (var s = function() {
                    for (var e, n = f.itline; i <= r; ) if (e = Math.floor((i + r) / 2), n[e].start.ticks > t.ticks) r = e - 1; else {
                        if (!(n[e].end.ticks < t.ticks)) return e;
                        i = e + 1;
                    }
                    return i;
                }(), l = s; l < this.itline.length; l++) {
                    var d = this.itline[l];
                    if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                        var a = {};
                        return a.hidden = !1, a.current = d, a.i = l, a;
                    }
                    if (t.ticks < d.start.ticks) {
                        var a = {};
                        return a.hidden = !0, a.previous = l > 0 ? this.itline[l - 1] : null, a.current = null, 
                        a.next = this.itline[l], a.i = l, a;
                    }
                }
                var a = {};
                return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, 
                a;
            }, this.md = function(e, t) {
                var i = e.width || this.cellWidth, n = e.end.ticks - e.start.ticks;
                return Math.floor(i * t / n);
            }, this.ai = function(e, t) {
                var i = e.end.ticks - e.start.ticks, n = e.width || this.cellWidth;
                return Math.floor(t / n * i);
            }, this.Kf = function(e) {
                DayPilot.Global.touch.start || o.preventEventClick || (f.ci = {}, f.Ya(this, e));
            }, this.eventClickPostBack = function(e, t) {
                this.R("EventClick", e, t);
            }, this.eventClickCallBack = function(e, t) {
                this.T("EventClick", e, t);
            }, this.Ya = function(e, t) {
                var i = e.event;
                if (i) {
                    var t = t || window.event;
                    if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), !i.client.doubleClickEnabled()) return void f.Za(e, t);
                    f.timeouts.click || (f.timeouts.click = []);
                    var n = function(e, t) {
                        return function() {
                            f.Za(e, t);
                        };
                    };
                    f.timeouts.click.push(window.setTimeout(n(e, t), f.doubleClickTimeout));
                }
            }, this.di = function(e) {
                return f.itline[e];
            }, this.Za = function(e, t) {
                if ("boolean" == typeof t) throw "Invalid _eventClickSingle parameters";
                var i = e.event;
                if (i) {
                    var n = t.ctrlKey, a = t.metaKey;
                    if (i.client.clickEnabled()) if (f.ei(t), f.La()) {
                        var r = {};
                        if (r.e = i, r.div = e, r.originalEvent = t, r.ctrl = n, r.meta = a, r.shift = t.shiftKey, 
                        r.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, r.control = f, r.toJSON = function() {
                            return DayPilot.Util.copyProps(r, {}, [ "e", "ctrl", "meta", "shift" ]);
                        }, "function" == typeof f.onEventClick && (f.onEventClick(r), r.preventDefault.value)) return;
                        switch (f.eventClickHandling) {
                          case "PostBack":
                            f.eventClickPostBack(i);
                            break;

                          case "CallBack":
                            f.eventClickCallBack(i);
                            break;

                          case "Edit":
                            f.$a(e);
                            break;

                          case "Select":
                            f._a(e, i, n, a);
                            break;

                          case "ContextMenu":
                            var o = i.client.contextMenu();
                            o ? o.show(i) : f.contextMenu && f.contextMenu.show(i);
                            break;

                          case "Bubble":
                            f.bubble && f.bubble.showEvent(i);
                            break;

                          case "RectangleSelect":
                            if ("Disabled" !== f.multiSelectRectangle) return _.start(), !1;
                        }
                        "function" == typeof f.onEventClicked && f.onEventClicked(r);
                    } else switch (f.eventClickHandling) {
                      case "PostBack":
                        f.eventClickPostBack(i);
                        break;

                      case "CallBack":
                        f.eventClickCallBack(i);
                        break;

                      case "JavaScript":
                        f.onEventClick(i);
                        break;

                      case "Edit":
                        f.$a(e);
                        break;

                      case "Select":
                        f._a(e, i, n, a);
                        break;

                      case "ContextMenu":
                        var o = i.client.contextMenu();
                        o ? o.show(i) : f.contextMenu && f.contextMenu.show(i);
                        break;

                      case "Bubble":
                        f.bubble && f.bubble.showEvent(i);
                        break;

                      case "RectangleSelect":
                        if ("Disabled" !== f.multiSelectRectangle) return _.start(), !1;
                    }
                }
            }, this.gb = function(e) {
                if (f.La()) {
                    var t = {};
                    if (t.e = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, t.control = f, t.toJSON = function() {
                        return DayPilot.Util.copyProps(t, {}, [ "e" ]);
                    }, "function" == typeof f.onEventDelete && (f.onEventDelete(t), t.preventDefault.value)) return;
                    switch (f.eventDeleteHandling) {
                      case "PostBack":
                        f.eventDeletePostBack(e);
                        break;

                      case "CallBack":
                        f.eventDeleteCallBack(e);
                        break;

                      case "Update":
                        f.events.remove(e);
                    }
                    "function" == typeof f.onEventDeleted && f.onEventDeleted(t);
                } else switch (f.eventDeleteHandling) {
                  case "PostBack":
                    f.eventDeletePostBack(e);
                    break;

                  case "CallBack":
                    f.eventDeleteCallBack(e);
                    break;

                  case "JavaScript":
                    f.onEventDelete(e);
                }
            }, this.eventDeletePostBack = function(e, t) {
                this.R("EventDelete", e, t);
            }, this.eventDeleteCallBack = function(e, t) {
                this.T("EventDelete", e, t);
            }, this.setHScrollPosition = function(e) {
                this.nav.scroll.scrollLeft = e;
            }, this.getScrollX = function() {
                return this.nav.scroll.scrollLeft;
            }, this.getHScrollPosition = this.getScrollX, this.getScrollY = function() {
                return this.nav.scroll.scrollTop;
            }, this._a = function(e, t, i, n) {
                f.Ab(e, t, i, n);
            }, this.eventSelectPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.R("EventSelect", n, i);
            }, this.eventSelectCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.change = t, this.T("EventSelect", n, i);
            }, this.Ab = function(e, t, i, n) {
                var a = f.multiselect, r = a.isSelected(t);
                if (i || n || !r || 1 !== a.Bb.length) if (f.La()) {
                    a.Xb = a.events();
                    var o = {};
                    if (o.e = t, o.selected = r, o.ctrl = i, o.meta = n, o.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onEventSelect && (f.onEventSelect(o), o.preventDefault.value)) return;
                    switch (f.eventSelectHandling) {
                      case "PostBack":
                        f.eventSelectPostBack(t, s);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        f.eventSelectCallBack(t, s);
                        break;

                      case "Update":
                        a.Eb(e, i, n);
                    }
                    "function" == typeof f.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", 
                    o.selected = a.isSelected(t), f.onEventSelected(o));
                } else {
                    a.Xb = a.events(), a.Eb(e, i, n);
                    var s = a.isSelected(t) ? "selected" : "deselected";
                    switch (f.eventSelectHandling) {
                      case "PostBack":
                        f.eventSelectPostBack(t, s);
                        break;

                      case "CallBack":
                        "undefined" != typeof WebForm_InitCallback && (window.Cb = "", window.Db = [], WebForm_InitCallback()), 
                        f.eventSelectCallBack(t, s);
                        break;

                      case "JavaScript":
                        f.onEventSelect(t, s);
                    }
                }
            }, this.eventRightClickPostBack = function(e, t) {
                this.R("EventRightClick", e, t);
            }, this.eventRightClickCallBack = function(e, t) {
                this.T("EventRightClick", e, t);
            }, this.bb = function(e) {
                if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
                    var t = this.event;
                    if (e = e || window.event, e.cancelBubble = !0, !this.event.client.rightClickEnabled()) return !1;
                    if (f.ei(e), f.La()) {
                        var i = {};
                        if (i.e = t, i.div = this, i.originalEvent = e, i.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, "function" == typeof f.onEventRightClick && (f.onEventRightClick(i), i.preventDefault.value)) return !1;
                        switch (f.eventRightClickHandling) {
                          case "PostBack":
                            f.eventRightClickPostBack(t);
                            break;

                          case "CallBack":
                            f.eventRightClickCallBack(t);
                            break;

                          case "ContextMenu":
                            var n = t.client.contextMenu();
                            n ? n.show(t) : f.contextMenu && f.contextMenu.show(this.event);
                            break;

                          case "Bubble":
                            f.bubble && f.bubble.showEvent(t);
                        }
                        "function" == typeof f.onEventRightClicked && f.onEventRightClicked(i);
                    } else switch (f.eventRightClickHandling) {
                      case "PostBack":
                        f.eventRightClickPostBack(t);
                        break;

                      case "CallBack":
                        f.eventRightClickCallBack(t);
                        break;

                      case "JavaScript":
                        f.onEventRightClick(t);
                        break;

                      case "ContextMenu":
                        var n = t.client.contextMenu();
                        n ? n.show(t) : f.contextMenu && f.contextMenu.show(this.event);
                        break;

                      case "Bubble":
                        f.bubble && f.bubble.showEvent(t);
                    }
                    return !1;
                }
            }, this.eventDoubleClickPostBack = function(e, t) {
                this.R("EventDoubleClick", e, t);
            }, this.eventDoubleClickCallBack = function(e, t) {
                this.T("EventDoubleClick", e, t);
            }, this.ab = function(e) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), f.timeouts.click) {
                    for (var t in f.timeouts.click) window.clearTimeout(f.timeouts.click[t]);
                    f.timeouts.click = null;
                }
                var e = e || window.event, i = this.event;
                if (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, f.La()) {
                    var n = {};
                    if (n.e = i, n.originalEvent = e, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onEventDoubleClick && (f.onEventDoubleClick(n), n.preventDefault.value)) return;
                    switch (f.eventDoubleClickHandling) {
                      case "PostBack":
                        f.eventDoubleClickPostBack(i);
                        break;

                      case "CallBack":
                        f.eventDoubleClickCallBack(i);
                        break;

                      case "Edit":
                        f.$a(this);
                        break;

                      case "Select":
                        f._a(div, i, e.ctrlKey, e.metaKey);
                        break;

                      case "Bubble":
                        f.bubble && f.bubble.showEvent(i);
                        break;

                      case "ContextMenu":
                        var a = i.client.contextMenu();
                        a ? a.show(i) : f.contextMenu && f.contextMenu.show(i);
                    }
                    "function" == typeof f.onEventDoubleClicked && f.onEventDoubleClicked(n);
                } else switch (f.eventDoubleClickHandling) {
                  case "PostBack":
                    f.eventDoubleClickPostBack(i);
                    break;

                  case "CallBack":
                    f.eventDoubleClickCallBack(i);
                    break;

                  case "JavaScript":
                    f.onEventDoubleClick(i);
                    break;

                  case "Edit":
                    f.$a(this);
                    break;

                  case "Select":
                    f._a(div, i, e.ctrlKey, e.metaKey);
                    break;

                  case "Bubble":
                    f.bubble && f.bubble.showEvent(i);
                    break;

                  case "ContextMenu":
                    var a = i.client.contextMenu();
                    a ? a.show(i) : f.contextMenu && f.contextMenu.show(i);
                }
            }, this.eventResizePostBack = function(e, t, i, n) {
                this.nb("PostBack", e, t, i, n);
            }, this.eventResizeCallBack = function(e, t, i, n) {
                this.nb("CallBack", e, t, i, n);
            }, this.nb = function(e, t, i, n, a) {
                var r = t && !!t.preventDefault, o = {};
                if (r) {
                    var s = t;
                    o.e = s.e, o.newStart = s.newStart, o.newEnd = s.newEnd, o.multiresize = [], s.multiresize.forEach(function(e) {
                        var t = {};
                        t.e = e.event, t.newStart = e.start, t.newEnd = e.end, o.multiresize.push(t);
                    });
                } else o.e = t, o.newStart = i, o.newEnd = n;
                this.hb(e, "EventResize", o, a);
            }, this.lb = function(e, t, i, n) {
                if ("Disabled" !== this.eventResizeHandling) {
                    i = f.$f(i);
                    var a = {};
                    a.e = e, a.async = !1, a.loaded = function() {
                        o();
                    }, a.newStart = t, a.newEnd = i, a.what = n, a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, a.multiresize = DayPilot.list(k.list), a.control = f, a.toJSON = function() {
                        return DayPilot.Util.copyProps(a, {}, [ "e", "async", "newStart", "newEnd", "multiresize" ]);
                    };
                    var r = {};
                    if (r.event = e, r.start = t, r.end = i, a.multiresize.splice(0, 0, r), f.La()) {
                        var o = function() {
                            if (A.hide(), !a.preventDefault.value) {
                                switch (t = a.newStart, i = a.newEnd, f.eventResizeHandling) {
                                  case "PostBack":
                                    f.eventResizePostBack(a);
                                    break;

                                  case "CallBack":
                                    f.eventResizeCallBack(a);
                                    break;

                                  case "Notify":
                                    f.eventResizeNotify(a);
                                    break;

                                  case "Update":
                                    f.fi(a);
                                }
                                "function" == typeof f.onEventResized && f.onEventResized(a);
                            }
                        };
                        "function" == typeof f.onEventResize && f.onEventResize(a), a.async ? f.blockOnCallBack && A.show() : o();
                    } else switch (f.eventResizeHandling) {
                      case "PostBack":
                        f.eventResizePostBack(a);
                        break;

                      case "CallBack":
                        f.eventResizeCallBack(a);
                        break;

                      case "JavaScript":
                        f.onEventResize(e, t, i);
                        break;

                      case "Notify":
                        f.eventResizeNotify(a);
                        break;

                      case "Update":
                        f.fi(a);
                    }
                }
            }, this.eventMovePostBack = function(e, t, i, n, a, r) {
                this.sb("PostBack", e, t, i, n, a, r);
            }, this.eventMoveCallBack = function(e, t, i, n, a, r) {
                this.sb("CallBack", e, t, i, n, a, r);
            }, this.sb = function(e, t, i, n, a, r, o) {
                var s = t && !!t.preventDefault, l = {};
                if (s) {
                    var d = t;
                    l.e = d.e, l.newStart = d.newStart, l.newEnd = d.newEnd, l.newResource = d.newResource, 
                    l.position = d.position, l.multimove = [], d.multimove.forEach(function(e) {
                        var t = {};
                        if (t.e = e.event, t.newStart = e.start, t.newEnd = e.end, t.newResource = e.event.resource(), 
                        t.e === d.e || t.e.data.id == d.e.data.id) t.newResource = d.newResource; else if (C.rowoffset) {
                            var i = e.event.part.dayIndex + C.rowoffset;
                            t.newResource = f.rowlist[i].id;
                        }
                        l.multimove.push(t);
                    });
                } else l.e = t, l.newStart = i, l.newEnd = n, l.newResource = a, l.position = o;
                this.hb(e, "EventMove", l, r);
            }, this.gi = function(e, t, i) {
                var n = {};
                n.start = t.start, n.end = t.end, n.resource = t.resource, n.multirange = [], t.multirange.forEach(function(e) {
                    var t = {};
                    t.start = e.start, t.end = e.end, t.resource = e.resource, n.multirange.push(t);
                }), this.hb(e, "TimeRangeSelected", n, i);
            }, this.hb = function(e, t, i, n) {
                if ("PostBack" === e) f.R(t, i, n); else if ("CallBack" === e) f.T(t, i, n, "CallBack"); else if ("Immediate" === e) f.T(t, i, n, "Notify"); else if ("Queue" === e) f.queue.add(new DayPilot.Action(this, t, i, n)); else {
                    if ("Notify" !== e) throw "Invalid event invocation type";
                    "Notify" === P.notifyType() ? f.T(t, i, n, "Notify") : f.queue.add(new DayPilot.Action(f, t, i, n));
                }
            }, this.eventMoveNotify = function(e, t, i, n, a, r) {
                if (e && !!e.preventDefault) {
                    var o = e;
                    o.old = new DayPilot.Event(o.e.copy(), f), o.multimove.forEach(function(e) {
                        e.old = new DayPilot.Event(e.event.copy(), f);
                    }), f.fi(o), o.e = o.old, delete o.old, o.multimove.forEach(function(e) {
                        e.event = e.old, delete e.old;
                    });
                } else {
                    e = new DayPilot.Event(e.copy(), f);
                    var s = f.events.hi(e.data);
                    e.start(t), e.end(i), e.resource(n), e.commit(), s = s.concat(f.events.ii(e.data)), 
                    f.ji(s), f.ki(), f.li(s);
                }
                this.sb("Notify", e, t, i, n, a, r);
            }, this.eventResizeNotify = function(e, t, i, n) {
                if (e && !!e.preventDefault) {
                    var a = e;
                    a.old = new DayPilot.Event(a.e.copy(), f), a.multiresize.forEach(function(e) {
                        e.old = new DayPilot.Event(e.event.copy(), f);
                    }), f.fi(a), a.e = a.old, delete a.old, a.multiresize.forEach(function(e) {
                        e.event = e.old, delete e.old;
                    });
                } else {
                    e = new DayPilot.Event(e.copy(), f);
                    var r = f.events.hi(e.data);
                    e.start(t), e.end(i), e.commit(), r = r.concat(f.events.ii(e.data)), f.ji(r), f.ki(), 
                    f.li(r);
                }
                this.nb("Notify", e, t, i, n);
            }, this.mi = {}, this.mi.Te = function() {
                return f.resourcesTop || f.resourcesBottom;
            }, this.zoom = {}, this.zoom.active = -1, this.zoom.setActive = function(e, t) {
                if (!f.zoomLevels[e]) throw new DayPilot.Exception("Zoom level not found: " + e);
                if (e !== f.zoom.active) {
                    var i = f.zoom.zg(t);
                    f.zoom.ni(e, i), f.N && f.update(), i && f.scrollTo(i, null, t || f.zoomPosition);
                }
            }, this.zoom.zg = function(e) {
                e = e || f.zoomPosition || "left";
                var t = null;
                if (!f.nav.scroll) return null;
                var i = f.getViewPort();
                switch (e) {
                  case "left":
                    t = i.start;
                    break;

                  case "middle":
                    t = i.start && i.start.addTime((f.getViewPort().end.getTime() - f.getViewPort().start.getTime()) / 2);
                    break;

                  case "right":
                    t = i.end;
                }
                return t;
            }, this.zoom.ni = function(e, t) {
                var i = f.zoomLevels.length - 1;
                e > i && (e = i), e < 0 && (e = 0), f.zoom.active = e;
                var n = f.zoomLevels[e], a = {};
                return a.date = t || new DayPilot.Date(f.startDate), a.level = n, DayPilot.Util.ownPropsAsArray(n.properties).forEach(function(e) {
                    if (0 !== e.key.indexOf("on")) return "function" == typeof e.val ? void (f[e.key] = e.val(a)) : void (f[e.key] = e.val);
                }), a;
            }, this.multiselect = {}, this.multiselect.Bb = [], this.multiselect.Wb = [], this.multiselect.Xb = [], 
            this.multiselect.ah = function(e) {
                f.multiselect.Bb = DayPilot.list(e).map(function(e) {
                    return new DayPilot.Event(e, f);
                });
            }, this.multiselect.Yb = function() {
                var e = f.multiselect;
                return JSON.stringify(e.events());
            }, this.multiselect.events = function() {
                var e = f.multiselect, t = DayPilot.list();
                t.ignoreToJSON = !0;
                for (var i = 0; i < e.Bb.length; i++) t.push(e.Bb[i]);
                return t;
            }, this.multiselect.Zb = function() {}, this.multiselect.Eb = function(e, t, i) {
                var n = f.multiselect;
                if (n.isSelected(e.event)) if (f.allowMultiSelect) if (t || i) n.remove(e.event, !0); else {
                    var a = n.Bb.length;
                    n.clear(), a > 1 && n.add(e.event, !0);
                } else n.clear(); else f.allowMultiSelect && (t || i) ? n.add(e.event, !0) : (n.clear(), 
                n.add(e.event, !0));
                n.kc(e), n.Zb();
            }, this.multiselect.$b = function(e) {
                var t = f.multiselect;
                return t._b(e, t.Bb);
            }, this.multiselect.bc = function() {
                for (var e = f.multiselect, t = [], i = 0; i < e.Bb.length; i++) {
                    var n = e.Bb[i];
                    t.push(n.value());
                }
                alert(t.join("\n"));
            }, this.multiselect.add = function(e, t) {
                var i = f.multiselect;
                i.indexOf(e) === -1 && i.Bb.push(e), t || i.oi(e);
            }, this.multiselect.remove = function(e, t) {
                var i = f.multiselect, n = i.indexOf(e);
                n !== -1 && i.Bb.splice(n, 1), t || i.oi(e);
            }, this.multiselect.clear = function(e) {
                var t = f.multiselect;
                t.Bb = [], e || t.redraw();
            }, this.multiselect.redraw = function() {
                var e = f.multiselect;
                e.Wb = [];
                for (var t = 0; t < f.elements.events.length; t++) {
                    var i = f.elements.events[t];
                    i.event && i.event.isEvent && (e.isSelected(i.event) ? e.dc(i) : e.ec(i));
                }
            }, this.multiselect.kc = function(e) {
                if (e) {
                    var t = f.multiselect;
                    t.isSelected(e.event) ? t.dc(e) : t.ec(e);
                }
            }, this.multiselect.oi = function(e) {
                var t = f.multiselect, i = f.Vd(e);
                t.kc(i);
            }, this.multiselect.dc = function(e) {
                var t = f.multiselect, i = f.C("_selected"), e = t.fc(e);
                DayPilot.Util.addClass(e, i), t.Wb.push(e);
            }, this.multiselect.fc = function(e) {
                return e;
            }, this.multiselect.gc = function() {
                for (var e = f.multiselect, t = 0; t < e.Wb.length; t++) {
                    var i = e.Wb[t];
                    e.ec(i, !0);
                }
                e.Wb = [];
            }, this.multiselect.ec = function(e, t) {
                var i = f.multiselect, n = f.C("_selected");
                if (DayPilot.Util.removeClass(e, n), !t) {
                    var a = DayPilot.indexOf(i.Wb, e);
                    a !== -1 && i.Wb.splice(a, 1);
                }
            }, this.multiselect.isSelected = function(e) {
                return !!e && !!e.isEvent && f.multiselect._b(e, f.multiselect.Bb);
            }, this.multiselect.indexOf = function(e) {
                for (var t = e.data, i = 0; i < f.multiselect.Bb.length; i++) {
                    var n = f.multiselect.Bb[i];
                    if (f.Xd(n.data, t)) return i;
                }
                return -1;
            }, this.multiselect._b = function(e, t) {
                if (!t) return !1;
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    if (f.Xd(e, n)) return !0;
                }
                return !1;
            }, this.multiselect.startRectangle = function() {
                _.start();
            }, this.pi = function() {
                this._g(), this.ch();
            }, this.qi = function() {
                f.ri(), f.Vg(), f.Zg(), f.si(), f.progressiveRowRendering && f.ui();
            }, this.kc = function(e) {
                e = e || {};
                var t = !e.eventsOnly;
                window.clearTimeout(f.vi), t && (this.E() || (f.timeHeader = null, f.cellProperties = {}), 
                f.Uh = {}, f.Sg(), f.Tg(), e && e.dontLoadResources || f.Ug(), f.wi !== f.timeHeaderPosition && f.xi(), 
                f.events.yi(), f.$c.clearCache(), f.clearSelection()), this.ta(), this.zi(), f.Xg(), 
                f.Vg(), t && (f.Zd(), f.Ai(), f.Wg(), f.gh(f.selectedRows), f.Bi()), f.Zg(), f.si(), 
                f.va(), g.hideLinkpoints(), this._(), this.$g(), this.Rg(), this.sa(), this.bh(), 
                this.pi(), f.Ca(), e.immediateEvents || e.eventsOnly ? f.Ha() : setTimeout(function() {
                    f.Ha();
                }, 100), this.visible ? f.Pg != f.visible && this.show() : this.hide(), this.Pg = this.visible, 
                this.fh(), (f.Wd.scope || f.ih.enabled) && !f.N || this.hh(), this.Ci(), this.Ka();
            }, this.Ci = function() {
                if ("function" == typeof f.onAfterUpdate) {
                    var e = {};
                    f.onAfterUpdate(e);
                }
            }, this.update = function(e) {
                if (f.$d) throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");
                m.request(e);
            };
            var m = {};
            m.timeout = null, m.options = null, m.enabled = !1, m.request = function(e) {
                m.enabled ? (clearTimeout(m.timeout), m.mergeOptions(e), m.timeout = setTimeout(m.doit)) : (m.mergeOptions(e), 
                m.doit());
            }, m.mergeOptions = function(e) {
                if (e) {
                    m.options || (m.options = {});
                    for (var t in e) m.options[t] = e[t];
                }
            }, m.doit = function() {
                var e = m.options;
                return m.options = null, f.N ? DayPilot.Util.isOnlyProperty(e, "events") ? (f.events.list = e.events, 
                void f.kc({
                    eventsOnly: !0
                })) : DayPilot.Util.isOnlyProperty(e, "separators") ? (f.separators = e.separators, 
                void f.pi()) : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") && !f.Di() ? (f.rowHeaderColumns = e.rowHeaderColumns, 
                void f.qi()) : (f._d(e), f.kc({
                    immediateEvents: !0
                }), f.le(), void f.oa(null, !1)) : void f._d(e);
            }, this.Ei = function(e) {
                e.forEach(function(e) {
                    f.Fi(e.index, e.grid);
                });
            }, this.Gi = function(e) {
                return e && 0 !== e.length ? e[0].isRow ? e : e.map(function(e) {
                    return f.rowlist[e];
                }) : [];
            }, this.li = function(e, t, i) {
                e = DayPilot.ua(e), e = f.Gi(e), f.Ei(e), this.Hi ? (this.Xg(), this.Zg(), this.$g(), 
                this._g(), e.forEach(function(e) {
                    f.Ii(e.index, e.grid);
                }), e.forEach(function(e) {
                    f.Ji(e.index, e.grid);
                }), this.bh(), this.ch(), this.Ki()) : (e.forEach(function(e) {
                    t || f.Ii(e.index, e.grid), f.Ji(e.index, e.grid);
                }), e.forEach(function(e) {
                    f.Li(e.index, e.grid);
                }), f.bh()), f.wh(), g.load(), f.multiselect.redraw(), i && i(), this.Rg();
            }, this.$f = function(e) {
                return "DateTime" === f.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();
            }, this.Af = function(e) {
                return "DateTime" === f.eventEndSpec ? e : e.getDatePart().addDays(1);
            }, this.ag = function(e) {
                return "DateTime" === f.eventEndSpec ? e : e.getDatePart();
            }, this.pb = function(e, t, i, n, a, r, o) {
                if (f.ja = null, "Disabled" !== f.eventMoveHandling) {
                    i = f.$f(i);
                    var s = {};
                    s.e = e, s.newStart = t, s.newEnd = i, s.newResource = n, s.external = a, s.ctrl = !1, 
                    s.meta = !1, s.shift = !1, r && (s.shift = r.shiftKey, s.ctrl = r.ctrlKey, s.meta = r.metaKey), 
                    s.multimove = DayPilot.list(C.list), s.areaData = DayPilot.Global.movingAreaData, 
                    s.control = f, s.toJSON = function() {
                        return DayPilot.Util.copyProps(s, {}, [ "e", "newStart", "newEnd", "newResource", "external", "ctrl", "meta", "shift", "multimove", "areaData" ]);
                    };
                    var l = {};
                    if (l.event = e, l.start = t, l.end = i, l.overlapping = !1, l.resource = n, s.multimove.splice(0, 0, l), 
                    s.position = o, s.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, f.La()) {
                        var d = function() {
                            if (s.loaded = function() {}, A.hide(), s.preventDefault.value) return void f.qb();
                            switch (t = s.newStart, i = s.newEnd, f.eventMoveHandling) {
                              case "PostBack":
                                f.eventMovePostBack(s);
                                break;

                              case "CallBack":
                                f.eventMoveCallBack(s);
                                break;

                              case "Notify":
                                f.eventMoveNotify(s);
                                break;

                              case "Update":
                                f.fi(s);
                            }
                            f.qb(), "function" == typeof f.onEventMoved && f.onEventMoved(s);
                        };
                        s.async = !1, s.loaded = function() {
                            d();
                        }, "function" == typeof f.onEventMove && f.onEventMove(s), s.async ? f.blockOnCallBack && A.show() : d();
                    } else {
                        switch (f.eventMoveHandling) {
                          case "PostBack":
                            f.eventMovePostBack(s);
                            break;

                          case "CallBack":
                            f.eventMoveCallBack(s);
                            break;

                          case "JavaScript":
                            f.onEventMove(e, t, i, n, a, !!r && r.ctrlKey, !!r && r.shiftKey, o);
                            break;

                          case "Notify":
                            f.eventMoveNotify(s);
                            break;

                          case "Update":
                            f.fi(s);
                        }
                        f.qb();
                    }
                }
            }, this.fi = function(e) {
                var t = e.e, i = e.newStart, n = e.newEnd, a = e.newResource, r = e.external;
                t.start(i), t.end(n), t.resource(a), r ? (t.commit(), f.events.add(t)) : f.events.update(t), 
                e.multimove && !e.multimove.isEmpty() && e.multimove.forEach(function(e) {
                    e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.resource(e.resource), 
                    e.event.commit(), f.events.update(e.event));
                }), e.multiresize && !e.multiresize.isEmpty() && e.multiresize.forEach(function(e) {
                    e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.commit(), 
                    f.events.update(e.event));
                }), f.events.immediateRefresh(), f.rb();
            }, this.tb = function(e, t) {
                var i = f.ub(t), n = {};
                n.args = e, n.guid = i, f.T("Bubble", n);
            }, this.ub = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t;
            }, this.eventMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.R("EventMenuClick", n, i);
            }, this.eventMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.command = t, this.T("EventMenuClick", n, i);
            }, this.vb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    f.eventMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    f.eventMenuClickCallBack(t, e);
                }
            }, this.timeRangeSelectedPostBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.R("TimeRangeSelected", a, n);
            }, this.timeRangeSelectedCallBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.T("TimeRangeSelected", a, n);
            }, this.Mi = function(e) {
                if (e) {
                    if (e.disabled) return void f.clearSelection();
                    if (e.args) f.xb(e.args.start, e.args.end, e.args.resource); else {
                        var t = f.Ni(e);
                        if (!t) return;
                        f.xb(t.start, t.end, t.resource);
                    }
                }
            }, this.xb = function(e, t, i) {
                if ("Disabled" !== f.timeRangeSelectedHandling) {
                    var n = t;
                    t = f.$f(n);
                    var a = {};
                    if (a.control = f, a.start = e, a.end = t, a.resource = i, a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, a.multirange = DayPilot.list(R.list).map(function(e) {
                        return f.Ni(e);
                    }), a.multirange.isEmpty() && a.multirange.push({
                        start: a.start,
                        end: a.end,
                        resource: a.resource
                    }), a.toJSON = function() {
                        return DayPilot.Util.copyProps(a, {}, [ "start", "end", "resource", "multirange" ]);
                    }, f.La()) {
                        if ("function" == typeof f.onTimeRangeSelect) {
                            if (f.onTimeRangeSelect(a), a.preventDefault.value) return;
                            e = a.start, t = a.end;
                        }
                        switch (t = f.Af(t), f.Oi(f.rangeHold, e, t, a.multirange), f.Pi(f.rangeHold), f.timeRangeSelectedHandling) {
                          case "PostBack":
                            f.gi("PostBack", a);
                            break;

                          case "CallBack":
                            f.gi("CallBack", a);
                        }
                        "function" == typeof f.onTimeRangeSelected && f.onTimeRangeSelected(a);
                    } else switch (f.timeRangeSelectedHandling) {
                      case "PostBack":
                        f.gi("PostBack", a);
                        break;

                      case "CallBack":
                        f.gi("CallBack", a);
                        break;

                      case "JavaScript":
                        f.onTimeRangeSelected(e, t, i, a.multirange);
                        break;

                      case "Hold":                    }
                }
            }, this.Oi = function(e, t, i, n) {
                if (e && !(n && n.length > 1)) {
                    var a, r, o = i, s = 0;
                    if ("Days" === f.viewType) {
                        s = f.lh(t).start.getTime() - f.Ta().getTime();
                    }
                    t.getTime() < f.itline[0].start.getTime() ? (e.start.x = 0, e.start.time = f.itline[0].start.getTime()) : (a = f.bi(t.addTime(-s)), 
                    r = a.current || a.previous, e.start.x = DayPilot.indexOf(f.itline, r), e.start.time = t), 
                    a = f.bi(o.addMilliseconds(-1).addTime(-s)), a.past ? (e.end.x = f.itline.length - 1, 
                    e.end.time = f.itline[f.itline.length - 1].end.getTime()) : (r = a.current || a.next, 
                    e.end.x = DayPilot.indexOf(f.itline, r), e.end.time = i);
                }
            }, this.lh = function(e) {
                var t = e.getDatePart();
                return DayPilot.list(f.rowlist).find(function(e) {
                    return e.start.getDatePart() === t;
                });
            }, this.timeRangeDoubleClickPostBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.R("TimeRangeDoubleClick", a, n);
            }, this.timeRangeDoubleClickCallBack = function(e, t, i, n) {
                var a = {};
                a.start = e, a.end = t, a.resource = i, this.T("TimeRangeDoubleClick", a, n);
            }, this.yb = function(e, t, i) {
                if (t = f.$f(t), f.La()) {
                    var n = {};
                    if (n.start = e, n.end = t, n.resource = i, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onTimeRangeDoubleClick && (f.onTimeRangeDoubleClick(n), 
                    n.preventDefault.value)) return;
                    switch (f.timeRangeDoubleClickHandling) {
                      case "PostBack":
                        f.timeRangeDoubleClickPostBack(e, t, i);
                        break;

                      case "CallBack":
                        f.timeRangeDoubleClickCallBack(e, t, i);
                    }
                    "function" == typeof f.onTimeRangeDoubleClicked && f.onTimeRangeDoubleClicked(n);
                } else switch (f.timeRangeDoubleClickHandling) {
                  case "PostBack":
                    f.timeRangeDoubleClickPostBack(e, t, i);
                    break;

                  case "CallBack":
                    f.timeRangeDoubleClickCallBack(e, t, i);
                    break;

                  case "JavaScript":
                    f.onTimeRangeDoubleClick(e, t, i);
                }
            }, this.timeRangeMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.R("TimeRangeMenuClick", n, i);
            }, this.timeRangeMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.selection = e, n.command = t, this.T("TimeRangeMenuClick", n, i);
            }, this.wb = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    f.timeRangeMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    f.timeRangeMenuClickCallBack(t, e);
                }
            }, this.linkMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.link = e, n.command = t, this.R("LinkMenuClick", n, i);
            }, this.linkMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.link = e, n.command = t, this.T("LinkMenuClick", n, i);
            }, this.Qi = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    f.linkMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    f.linkMenuClickCallBack(t, e);
                }
            }, this.rowMenuClickPostBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.command = t, this.R("RowMenuClick", n, i);
            }, this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack, this.rowMenuClickCallBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.command = t, this.T("RowMenuClick", n, i);
            }, this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack, this.Ri = function(e, t, i) {
                switch (i) {
                  case "PostBack":
                    f.rowMenuClickPostBack(t, e);
                    break;

                  case "CallBack":
                    f.rowMenuClickCallBack(t, e);
                }
            }, this.Si = function(e, t) {
                var i = f.Ti(e);
                i.data.name = t, i.data.html && (i.data.html = t), f.rows.update(i);
            }, this.Ui = function(e, t) {
                if (t) {
                    var i = {};
                    if (i.text = t, i.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" != typeof f.onRowCreate || (f.onRowCreate(i), !i.preventDefault.value)) {
                        switch (f.rowCreateHandling) {
                          case "CallBack":
                            f.rowCreateCallBack(i.text);
                            break;

                          case "PostBack":
                            f.rowCreatePostBack(i.text);
                        }
                        "function" == typeof f.onRowCreated && f.onRowCreated(i);
                    }
                }
            }, this.Vi = function(e, t, i) {
                if (e.isNewRow) return void (i || f.Ui(e, t));
                var n = DayPilot.indexOf(f.rowlist, e), a = f.Ti(e, n);
                if (f.La()) {
                    var r = {};
                    r.resource = a, r.row = a, r.newText = t, r.canceled = i, r.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, r.async = !1, r.loaded = function() {
                        o();
                    };
                    var o = function() {
                        if (!i) {
                            switch (f.rowEditHandling) {
                              case "PostBack":
                                f.rowEditPostBack(a, t);
                                break;

                              case "CallBack":
                                f.rowEditCallBack(a, t);
                                break;

                              case "Update":
                                f.Si(e, t);
                            }
                            "function" == typeof f.onRowEdited && f.onRowEdited(r);
                        }
                    };
                    if ("function" == typeof f.onRowEdit && (f.onRowEdit(r), r.preventDefault.value)) return;
                    r.async || o();
                } else switch (f.rowEditHandling) {
                  case "PostBack":
                    f.rowEditPostBack(a, t);
                    break;

                  case "CallBack":
                    f.rowEditCallBack(a, t);
                    break;

                  case "JavaScript":
                    f.onrowEdit(a, t);
                }
            }, this.rowCreatePostBack = function(e, t) {
                var i = {};
                i.text = e, this.R("RowCreate", i, t);
            }, this.rowCreateCallBack = function(e, t) {
                var i = {};
                i.text = e, this.T("RowCreate", i, t);
            }, this.rowEditPostBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.newText = t, this.R("RowEdit", n, i);
            }, this.rowEditCallBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.newText = t, this.T("RowEdit", n, i);
            }, this.rowMovePostBack = function(e, t, i, n) {
                var a = {};
                a.source = e, a.target = t, a.position = i, this.R("RowMove", a, n);
            }, this.rowMoveCallBack = function(e, t, i, n) {
                var a = {};
                a.source = e, a.target = t, a.position = i, this.T("RowMove", a, n);
            }, this.rowMoveNotify = function(e, t, i, n) {
                var a = {};
                a.source = e, a.target = t, a.position = i, this.T("RowMove", a, n, "Notify");
            }, this.rowClickPostBack = function(e, t) {
                var i = {};
                i.resource = e, this.R("RowClick", i, t);
            }, this.resourceHeaderClickPostBack = this.rowClickPostBack, this.rowClickCallBack = function(e, t) {
                var i = {};
                i.resource = e, this.T("RowClick", i, t);
            }, this.resourceHeaderClickCallBack = this.rowClickCallBack, this.Wi = function(e, t, i, n) {
                if ("Disabled" === f.rowDoubleClickHandling) return void f.Xi(e, t, i, n);
                f.timeouts.resClick || (f.timeouts.resClick = []);
                var a = function(e, t, i, n) {
                    return function() {
                        f.Xi(e, t, i, n);
                    };
                };
                f.timeouts.resClick.push(window.setTimeout(a(e, t, i, n), f.doubleClickTimeout));
            }, this.Xi = function(e, t, i, n) {
                var a = f.resourceHeaderClickHandling || f.rowClickHandling;
                if (f.La()) {
                    var r = {};
                    if (r.resource = e, r.row = e, r.ctrl = t, r.shift = i, r.meta = n, r.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onRowClick && (f.onRowClick(r), r.preventDefault.value)) return;
                    if ("function" == typeof f.onResourceHeaderClick && (f.onResourceHeaderClick(r), 
                    r.preventDefault.value)) return;
                    switch (a) {
                      case "PostBack":
                        f.rowClickPostBack(e);
                        break;

                      case "CallBack":
                        f.rowClickCallBack(e);
                        break;

                      case "Select":
                        f.Yi(e.$.row, t, i, n);
                        break;

                      case "Edit":
                        f.Zi.edit(e.$.row);
                    }
                    "function" == typeof f.onRowClicked && f.onRowClicked(r), "function" == typeof f.onResourceHeaderClicked && f.onResourceHeaderClicked(r);
                } else switch (a) {
                  case "PostBack":
                    f.rowClickPostBack(e);
                    break;

                  case "CallBack":
                    f.rowClickCallBack(e);
                    break;

                  case "JavaScript":
                    f.onRowClick(e);
                    break;

                  case "Select":
                    f.Yi(e.$.row, t, i);
                    break;

                  case "Edit":
                    f.Zi.edit(e.$.row);
                }
            }, this.timeHeaderClickPostBack = function(e, t) {
                var i = {};
                i.header = e, this.R("TimeHeaderClick", i, t);
            }, this.timeHeaderClickCallBack = function(e, t) {
                var i = {};
                i.header = e, this.T("TimeHeaderClick", i, t);
            }, this.$i = function(e) {
                if (f.La()) {
                    var t = {};
                    if (t.header = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onTimeHeaderClick && (f.onTimeHeaderClick(t), t.preventDefault.value)) return;
                    switch (this.timeHeaderClickHandling) {
                      case "PostBack":
                        f.timeHeaderClickPostBack(e);
                        break;

                      case "CallBack":
                        f.timeHeaderClickCallBack(e);
                    }
                    "function" == typeof f.onTimeHeaderClicked && f.onTimeHeaderClicked(t);
                } else switch (this.timeHeaderClickHandling) {
                  case "PostBack":
                    f.timeHeaderClickPostBack(e);
                    break;

                  case "CallBack":
                    f.timeHeaderClickCallBack(e);
                    break;

                  case "JavaScript":
                    f.onTimeHeaderClick(e);
                }
            }, this.resourceCollapsePostBack = function(e, t) {
                var i = {};
                i.resource = e, this.R("ResourceCollapse", i, t);
            }, this.resourceCollapseCallBack = function(e, t) {
                var i = {};
                i.resource = e, this.T("ResourceCollapse", i, t);
            }, this._i = function(e) {
                if (f.La()) {
                    var t = {};
                    if (t.resource = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onResourceCollapse && (f.onResourceCollapse(t), t.preventDefault.value)) return;
                    switch (this.resourceCollapseHandling) {
                      case "PostBack":
                        f.resourceCollapsePostBack(e);
                        break;

                      case "CallBack":
                        f.resourceCollapseCallBack(e);
                    }
                } else switch (this.resourceCollapseHandling) {
                  case "PostBack":
                    f.resourceCollapsePostBack(e);
                    break;

                  case "CallBack":
                    f.resourceCollapseCallBack(e);
                    break;

                  case "JavaScript":
                    f.onResourceCollapse(e);
                }
            }, this.resourceExpandPostBack = function(e, t) {
                var i = {};
                i.resource = e, this.R("ResourceExpand", i, t);
            }, this.resourceExpandCallBack = function(e, t) {
                var i = {};
                i.resource = e, this.T("ResourceExpand", i, t);
            }, this.aj = function(e) {
                if (f.La()) {
                    var t = {};
                    if (t.resource = e, t.row = e, t.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onResourceExpand && (f.onResourceExpand(t), t.preventDefault.value)) return;
                    switch (this.resourceExpandHandling) {
                      case "PostBack":
                        f.resourceExpandPostBack(e);
                        break;

                      case "CallBack":
                        f.resourceExpandCallBack(e);
                    }
                } else switch (this.resourceExpandHandling) {
                  case "PostBack":
                    f.resourceExpandPostBack(e);
                    break;

                  case "CallBack":
                    f.resourceExpandCallBack(e);
                    break;

                  case "JavaScript":
                    f.onResourceExpand(e);
                }
            }, this.eventEditPostBack = function(e, t, i) {
                var n = {};
                n.e = e, n.newText = t, this.R("EventEdit", n, i);
            }, this.eventEditCallBack = function(e, t, i) {
                var n = {};
                n.e = e, n.newText = t, this.T("EventEdit", n, i);
            }, this.eventEditNotify = function(e, t, i, n) {
                var a = new DayPilot.Event(e.copy(), this);
                e.text(t), f.events.update(e, null, n);
                var r = {};
                r.e = a, r.newText = t, this.T("EventEdit", r, i, "Notify");
            }, this.zb = function(e, t, i) {
                if (f.La()) {
                    var n = {};
                    n.e = e, n.newText = t, n.canceled = i, n.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, n.async = !1, n.loaded = function() {
                        a();
                    };
                    var a = function() {
                        if (n.loaded = function() {}, !i) switch (f.eventEditHandling) {
                          case "PostBack":
                            f.eventEditPostBack(e, t);
                            break;

                          case "CallBack":
                            f.eventEditCallBack(e, t);
                            break;

                          case "Update":
                            e.text(DayPilot.Util.escapeHtml(t)), f.events.update(e, null, {
                                inplace: !0
                            });
                        }
                        "function" == typeof f.onEventEdited && f.onEventEdited(n);
                    };
                    if ("function" == typeof f.onEventEdit && (f.onEventEdit(n), n.preventDefault.value)) return;
                    n.async || a();
                } else switch (f.eventEditHandling) {
                  case "PostBack":
                    f.eventEditPostBack(e, t);
                    break;

                  case "CallBack":
                    f.eventEditCallBack(e, t);
                    break;

                  case "Notify":
                    f.eventEditNotify(e, t, null, {
                        inplace: !0
                    });
                    break;

                  case "JavaScript":
                    f.onEventEdit(e, t);
                }
            }, this.commandCallBack = function(e, t) {
                this.bj("CallBack", e, t);
            }, this.commandPostBack = function(e, t) {
                this.bj("PostBack", e, t);
            }, this.bj = function(e, t, i) {
                var n = {};
                n.command = t, this.hb(e, "Command", n, i);
            }, this.R = function(e, t, i) {
                var n = {};
                n.action = e, n.type = "PostBack", n.parameters = t, n.data = i, n.header = this.S();
                var a = "JSON" + JSON.stringify(n);
                __doPostBack(f.uniqueID, a);
            }, this.T = function(e, t, i, n) {
                if (!f.E()) return void f.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof n && (n = "CallBack"), this.Z(), f.U();
                var a = {};
                a.action = e, a.type = n, a.parameters = t, a.data = i, a.header = this.S();
                var r, o = JSON.stringify(a);
                r = "undefined" != typeof Iuppiter && Iuppiter.compress ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o)) : "JSON" + o, 
                this.cj(a), this.backendUrl ? DayPilot.request(this.backendUrl, this.V, r, this.W) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.X, null, this.callbackError, !0);
            }, this.cj = function(e) {
                var t = {};
                "function" == typeof f.onCallBackStart && f.onCallBackStart(t);
            }, this.Qg = function() {
                var e = {};
                "function" == typeof f.onCallBackEnd && setTimeout(function() {
                    f.onCallBackEnd(e);
                }, 0);
            }, this.E = function() {
                return "javasc" !== f.O && f.O.indexOf("DCODE") === -1 || f.devsb;
            }, this.Y = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
            }, this.W = function(e) {
                if ("function" == typeof f.onAjaxError) {
                    var t = {};
                    t.request = e, f.onAjaxError(t);
                } else "function" == typeof f.ajaxError && f.ajaxError(e);
            }, this.V = function(e) {
                f.X(e.responseText);
            }, this.callbackProps = [], this.S = function() {
                var e = {};
                e.v = this.v, e.control = "dps", e.id = this.id, e.startDate = f.startDate, e.days = f.days, 
                e.cellDuration = f.cellDuration, e.cellGroupBy = f.cellGroupBy, e.cellWidth = f.cellWidth, 
                e.cellWidthSpec = f.cellWidthSpec, e.viewType = f.viewType, e.showNonBusiness = f.showNonBusiness, 
                e.businessBeginsHour = f.businessBeginsHour, e.businessEndsHour = f.businessEndsHour, 
                e.weekStarts = f.weekStarts, e.treeEnabled = f.treeEnabled, e.locale = f.locale, 
                e.timeZone = f.timeZone, e.tagFields = f.tagFields, e.timeHeaders = f.timeHeaders, 
                e.cssClassPrefix = f.cssClassPrefix, e.durationBarMode = f.durationBarMode, e.rowHeaderColumns = f.rowHeaderColumns, 
                e.rowMarginBottom = f.rowMarginBottom, e.rowMarginTop = f.rowMarginTop, e.rowMinHeight = f.rowMinHeight, 
                e.scale = f.scale, e.clientState = f.clientState, this.nav.scroll && (e.scrollX = DayPilot.Util.atLeast(0, this.nav.scroll.scrollLeft), 
                e.scrollY = DayPilot.Util.atLeast(0, this.nav.scroll.scrollTop)), e.selected = f.multiselect.events(), 
                e.selectedRows = E.dj(), e.hashes = f.hashes;
                var t = f.ej(e.scrollX, e.scrollY);
                if (t) {
                    var i = f.fj(t), n = f.gj(t);
                    e.rangeStart = i.start, e.rangeEnd = i.end, e.resources = n;
                } else e.rangeStart = f.startDate, e.rangeEnd = f.startDate, e.resources = [];
                if (e.dynamicLoading = f.dynamicLoading, e.separators = this.separators, this.syncResourceTree && "Days" != this.viewType && (e.tree = this.ga()), 
                this.syncLinks && (e.links = this.hj()), "Manual" === this.scale && (e.timeline = this.ij()), 
                "function" == typeof f.onCallBackHeader) {
                    var a = {};
                    a.header = e, f.onCallBackHeader(a);
                }
                var r = f.callbackProps;
                return DayPilot.isArray(r) && (e.props = {}, r.forEach(function(t) {
                    e.props[t] = f[t];
                })), e;
            }, this.ij = function() {
                var e = [];
                return DayPilot.list(f.timeline).forEach(function(t) {
                    var i = {};
                    i.start = t.start, i.end = t.end, i.width = t.width, e.push(i);
                }), e;
            }, this.hj = function() {
                var e = [], t = function(e) {
                    var t = {};
                    if (e.tags) for (var i in e.tags) t[i] = "" + e.tags[i];
                    return t;
                };
                if (!DayPilot.isArray(f.links.list)) return e;
                for (var i = 0; i < f.links.list.length; i++) {
                    var n = f.links.list[i], a = {};
                    a.id = n.id, a.from = n.from, a.to = n.to, a.type = n.type, a.tags = t(n), e.push(a);
                }
                return e;
            }, this.getViewPort = function() {
                var e = this.nav.scroll.scrollLeft - p.shiftX, t = this.nav.scroll.scrollTop, i = {};
                if ("Days" !== f.viewType) {
                    var n = f.ej(e, t), a = f.fj(n), r = f.gj(n), o = f.itline[n.start.x], s = f.itline[n.end.x];
                    i.start = f.getDate(e, !0), i.end = f.getDate(e + f.nav.scroll.clientWidth, !0, !0), 
                    i.resources = r, o && (i.topLeft = {
                        start: o.start,
                        end: o.end,
                        x: n.start.x,
                        y: n.start.y,
                        resource: r[0]
                    }), s && (i.bottomRight = {
                        start: s.start,
                        end: s.end,
                        x: n.end.x,
                        y: n.end.y,
                        resource: r[r.length - 1]
                    });
                } else {
                    var n = f.ej(e, t), a = f.jj(n);
                    i.start = a.start, i.end = a.end, i.resources = [];
                }
                return i.rows = function() {
                    return i.resources.map(function(e) {
                        return f.rows.find(e);
                    });
                }, i.events = function() {
                    if ("Days" === f.viewType) return f.events.forRange(i.start, i.end);
                    var e = [];
                    return i.rows().forEach(function(t) {
                        e = e.concat(t.events.forRange(i.start, i.end));
                    }), e;
                }, i;
            }, this.ej = function(e, t) {
                var i = {};
                i.start = {}, i.end = {};
                var n = f._h(e), a = f._h(e + f.nav.scroll.clientWidth);
                n && (i.start.x = n.x), a && (i.end.x = a.x), i.start.y = f.kj(t).i, i.end.y = f.kj(t + f.nav.scroll.clientHeight).i, 
                i.start.x = DayPilot.Util.atLeast(i.start.x, 0);
                var r = this.itline.length;
                return i.end.x >= r && (i.end.x = r - 1), i;
            }, this.lj = function() {
                var e = this.nav.scroll.scrollLeft - p.shiftX, t = this.nav.scroll.scrollTop;
                return f.ej(e, t);
            }, this.fj = function(e) {
                var t = {};
                if (this.itline.length <= 0) return t.start = this.startDate, t.end = this.startDate, 
                t;
                if (!this.itline[e.start.x]) throw "Internal error: area.start.x is null.";
                return t.start = this.itline[e.start.x].start, t.end = this.itline[e.end.x].end, 
                t;
            }, this.gj = function(e) {
                if (!e) var e = this.ej(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                var t = [];
                t.ignoreToJSON = !0;
                for (var i = e.start.y; i <= e.end.y; i++) {
                    var n = f.rowlist[i];
                    n && !n.hidden && t.push(n.id);
                }
                return t;
            }, this.jj = function(e) {
                if (!e) var e = this.ej(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                var t = {};
                if (0 === f.rowlist.length) return t;
                var i = f.itline[f.itline.length - 1].end.getTime() - f.itline[0].start.getTime();
                return t.start = f.rowlist[e.start.y] && f.rowlist[e.start.y].start, t.end = f.rowlist[e.end.y] && f.rowlist[e.end.y].start.addTime(i), 
                t;
            }, this.ga = function() {
                var e = [];
                e.ignoreToJSON = !0;
                for (var t = 0; t < this.rowlist.length; t++) {
                    var i = this.rowlist[t];
                    if (!(i.level > 0 || i.isNewRow)) {
                        var n = this.la(t);
                        e.push(n);
                    }
                }
                return e;
            }, this.ma = function(e) {
                var t = [];
                t.ignoreToJSON = !0;
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    f.rowlist[n].isNewRow || t.push(f.la(n));
                }
                return t;
            }, this.la = function(e) {
                var t = this.rowlist[e];
                if ("function" == typeof f.onGetNodeState) {
                    var i = {};
                    if (i.row = t, i.preventDefault = function() {
                        i.preventDefault.value = !0;
                    }, i.result = {}, f.onGetNodeState(i), i.preventDefault.value) return i.result;
                }
                var n = {};
                return n.Value = t.id, n.BackColor = t.backColor, n.Name = t.name, n.InnerHTML = t.html, 
                n.ToolTip = t.toolTip, n.Expanded = t.expanded, n.Children = this.ma(t.children), 
                n.Loaded = t.loaded, n.IsParent = t.isParent, n.Columns = this.mj(t), t.start.getTime() !== f.Ta().getTime() && (n.Start = t.start), 
                t.minHeight !== f.rowMinHeight && (n.MinHeight = t.minHeight), t.marginBottom !== f.rowMarginBottom && (n.MarginBottom = t.marginBottom), 
                t.marginTop !== f.rowMarginTop && (n.MarginTop = t.marginTop), t.eventHeight !== f.eventHeight && (n.EventHeight = t.eventHeight), 
                n;
            }, this.mj = function(e) {
                if (!e.columns || 0 === e.columns.length) return null;
                var t = [];
                t.ignoreToJSON = !0;
                for (var i = 0; i < e.columns.length; i++) {
                    var n = {};
                    n.InnerHTML = e.columns[i].html, t.push(n);
                }
                return t;
            }, this.C = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : "";
            }, this.Zd = function() {
                f.nav.top.className !== f.C("_main") && (f.nav.top.className = f.C("_main"), f.nav.dh1.className = f.C("_divider_horizontal"), 
                f.nav.dh2.className = f.C("_divider_horizontal"), f.divResScroll.className = f.C("_rowheader_scroll"), 
                f.nav.divider.className = f.C("_divider") + " " + f.C("_splitter"), f.nav.scroll.className = f.C("_scrollable"), 
                f.mh.className = f.C("_matrix") + " " + f.C("_grid_main"), f.nav.loading.className = f.C("_loading"));
            }, this.fa = function() {
                this.nav.top.dispose = this.dispose, function(s) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    new Function(String.fromCharCode.apply(this, r))();
                }("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<");
            }, this.dispose = function() {
                var e = f;
                if (e.nj && !e.$d) {
                    e.$d = !0, e.Z(), clearInterval(e.Id), clearInterval(e.oj);
                    for (var t in e.timeouts) {
                        var i = e.timeouts[t];
                        DayPilot.isArray(i) ? DayPilot.list(i).forEach(function(e) {
                            clearTimeout(e);
                        }) : clearTimeout(i);
                    }
                    e._(), e.ca(), e.pj(), e.qj(), e.divBreaks = null, e.divCells = null, e.divCorner = null, 
                    e.divCrosshair = null, e.divEvents = null, e.divHeader && (e.divHeader.rows = null), 
                    e.divHeader = null, e.divLines = null, e.divNorth = null, e.divRange = null, e.divResScroll = null, 
                    e.divSeparators = null, e.divSeparatorsAbove = null, e.divStretch = null, e.divTimeScroll = null, 
                    e.Kh = null, e.uf = null, e.mh.calendar = null, e.mh = null, e.nav.loading = null, 
                    e.nav.top.onmousemove = null, e.nav.top.onmouseout = null, e.nav.top.dispose = null, 
                    e.nav.top.ontouchstart = null, e.nav.top.ontouchmove = null, e.nav.top.ontouchend = null, 
                    e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class");
                    !(f.da.reactDOM && DayPilot.browser.ie) && (e.nav.top.innerHTML = ""), e.nav.top.dp = null, 
                    e.nav.top = null, e.nav.scroll.onscroll = null, e.nav.scroll.root = null, e.nav.scroll = null, 
                    clearTimeout(e.refreshTimeout), e.rj && (e.rj.dispose(), e.rj = null), e.daypilot && delete e.daypilot, 
                    DayPilot.ue(window, "resize", e.gf), o.unregister(e), x = null, function() {
                        return;
                    }();
                }
            }, this.pj = function() {
                if ("function" == typeof f.onBeforeRowHeaderDomAdd || "function" == typeof f.onBeforeRowHeaderDomRemove) {
                    if ("function" == typeof f.onBeforeRowHeaderDomAdd && f.da.reactDOM || "function" == typeof f.onBeforeRowHeaderDomRemove) for (var e = 0; e < f.rowlist.length; e++) f.divHeader.rows[e] && f.sj(e);
                }
            }, this.qj = function() {
                "function" != typeof f.onBeforeTimeHeaderDomAdd && "function" != typeof f.onBeforeTimeHeaderDomRemove || f.elements.timeHeader.forEach(function(e) {
                    var t = e.domArgs;
                    if (e.domArgs = null, "function" == typeof f.onBeforeTimeHeaderDomRemove && "function" == typeof f.onBeforeTimeHeaderDomRemove && f.onBeforeTimeHeaderDomRemove(t), 
                    "function" == typeof f.onBeforeTimeHeaderDomAdd && f.da.reactDOM) {
                        var i = t && t.tc;
                        if (i) {
                            if (DayPilot.Util.isReactComponent(t.element)) {
                                if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                f.da.reactDOM.unmountComponentAtNode(i);
                            }
                        }
                    }
                });
            }, this.Ma = function(e) {
                var t = null;
                t = e.nodeType ? e.event : e;
                var i = t, n = i.cache && "undefined" != typeof i.cache.moveVDisabled ? !i.cache.moveVDisabled : !i.data.moveVDisabled, a = i.cache && "undefined" != typeof i.cache.moveHDisabled ? !i.cache.moveHDisabled : !i.data.moveHDisabled, r = f.tj(t), s = f.uj[r.grid];
                !n && o.moving && (s = f.uj[t.part.grid]);
                var l = s.rowlist;
                if (f.vj(r.rowIndex, r.grid)) return null;
                var d = t.part.height || f.$c.eventHeight(), c = t.part && t.part.top && l[t.part.dayIndex] ? t.part.top + l[t.part.dayIndex].top : r.top, h = r.left, u = r.width;
                if (!n && o.moving && (c = l[i.part.dayIndex].top), !a && o.moving && (h = t.part.left, 
                "undefined" == typeof h)) {
                    var v = DayPilot.DateUtil.diff(t.start(), t.end());
                    v = DayPilot.Util.atLeast(v, 1), h = P.useBox(v) ? f.getPixels(t.start()).boxLeft : f.getPixels(t.start()).left;
                    u = (P.useBox(v) ? f.getPixels(t.end()).boxRight : f.getPixels(t.end()).left) - h;
                }
                var p = document.createElement("div");
                p.setAttribute("unselectable", "on"), p.style.position = "absolute", p.style.width = u + "px", 
                p.style.height = d + "px", p.style.left = h + "px", p.style.top = c + "px", p.style.overflow = "hidden";
                var m = document.createElement("div");
                return p.appendChild(m), p.className = this.C("_shadow"), m.className = this.C("_shadow_inner"), 
                s.divShadow.appendChild(p), p.calendar = f, p.grid = r.grid, p;
            }, this.kj = function(e, t) {
                t = t || "main";
                var i, n = f.uj[t], a = n.rowlist, r = {}, o = 0, s = 0;
                "main" === t && (o = f.uj.top.height, s = o);
                for (var l = a.length, d = 0; d < l; d++) {
                    var c = a[d];
                    if (!c.hidden && (s += c.height, o = s - c.height, i = c, r.top = o, r.bottom = s, 
                    r.i = d, r.element = i, r.grid = t, e < s)) break;
                }
                return r;
            }, this.links = {}, this.links.list = [], this.links.add = function(e) {
                if (e) {
                    var t = e;
                    e instanceof DayPilot.Link && (t = e.data), f.links.list.push(e), g.load();
                }
            }, this.links.remove = function(e) {
                var t = e.data;
                e.isLink || (t = e), g.remove(t);
            }, this.links.find = function(e) {
                if (!DayPilot.isArray(f.links.list)) return null;
                var t = f.link.list.find(function(t) {
                    return t.id === e;
                });
                return t ? new DayPilot.Link(t, f) : null;
            }, this.links.findByFromTo = function(e, t) {
                if (!DayPilot.isArray(f.links.list)) return null;
                var i = f.link.list.find(function(i) {
                    return i.from === e && i.to === t;
                });
                return i ? new DayPilot.Link(i, f) : null;
            }, this.links.load = function(e, t, i, n) {
                if (!e) throw new DayPilot.Exception("links.load(): 'url' parameter required");
                n = n || {};
                var a = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, r = function(e) {
                    var i, n = e.request;
                    try {
                        i = JSON.parse(n.responseText);
                    } catch (e) {
                        var r = {};
                        return r.exception = e, void a(r);
                    }
                    if (DayPilot.isArray(i)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, o.data = i, "function" == typeof t && t(o), o.preventDefault.value) return;
                        f.links.list = i, f.N && f.update();
                    }
                };
                if (f.linksLoadMethod && "POST" === f.linksLoadMethod.toUpperCase()) DayPilot.ajax({
                    method: "POST",
                    contentType: "application/json",
                    data: {
                        start: f.visibleStart().toString(),
                        end: f.visibleEnd().toString()
                    },
                    url: e,
                    success: r,
                    error: a
                }); else {
                    var o = e;
                    if (!n.dontAddStartEnd) {
                        var s = "start=" + f.visibleStart().toString() + "&end=" + f.visibleEnd().toString();
                        o += o.indexOf("?") > -1 ? "&" + s : "?" + s;
                    }
                    DayPilot.ajax({
                        method: "GET",
                        url: o,
                        success: r,
                        error: a
                    });
                }
            };
            var g = {};
            this.wj = g, g.items = [], g.clear = function() {
                f.divLinksAbove.innerHTML = "", f.divLinksBelow.innerHTML = "", f.elements.links = [], 
                g.items = [];
            }, g.remove = function(e) {
                var t = g.findItem(e);
                DayPilot.rfa(f.links.list, e), t && (t.clear(), DayPilot.rfa(g.items, t));
            }, g.findItem = function(e) {
                for (var t = 0; t < g.items.length; t++) {
                    var i = g.items[t];
                    if (i.props === e) return i;
                }
                return null;
            }, g.showLinkpoints = function() {
                v.events().forEach(function(e) {
                    g.showLinkpoint(e);
                });
            }, g.showLinkpoint = function(e) {
                var t = f.linkPointSize, i = t / 2, n = e.event.part.left, a = f.rowlist[e.event.part.dayIndex].top + e.event.part.top, r = e.event.part.height, o = e.event.part.right, s = DayPilot.Util.div(f.divLinkpoints, n - i, a - i + r / 2, t, t);
                s.className = f.C("_linkpoint"), s.style.boxSizing = "border-box", s.coords = {
                    x: n,
                    y: a + r / 2
                }, s.type = "Start", s.event = e.event, g.activateLinkpoint(s), f.elements.linkpoints.push(s);
                var l = DayPilot.Util.div(f.divLinkpoints, o - i, a - i + r / 2, t, t);
                l.className = f.C("_linkpoint"), l.style.boxSizing = "border-box", l.coords = {
                    x: o,
                    y: a + r / 2
                }, l.type = "Finish", l.event = e.event, g.activateLinkpoint(l), f.elements.linkpoints.push(l);
            }, g.activateLinkpoint = function(e) {
                e.onmousedown = function(t) {
                    var t = t || window.event;
                    return c.source = e, c.calendar = f, g.showLinkpoints(), t.preventDefault && t.preventDefault(), 
                    t.stopPropagation && t.stopPropagation(), !1;
                }, e.onmousemove = function(t) {
                    DayPilot.Util.addClass(e, f.C("_linkpoint_hover")), g.clearHideTimeout();
                }, e.onmouseout = function(t) {
                    c.source && c.source.event === e.event || DayPilot.Util.removeClass(e, f.C("_linkpoint_hover"));
                }, e.onmouseup = function(t) {
                    if (c.source) {
                        var i = c.source.type + "To" + e.type, n = c.source.event.id(), a = e.event.id(), r = {};
                        if (r.from = n, r.to = a, r.type = i, r.id = null, r.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, "function" == typeof f.onLinkCreate && (f.onLinkCreate(r), r.preventDefault.value)) return;
                        var o = function() {
                            DayPilot.isArray(f.links.list) || (f.links.list = []), f.links.list.push({
                                from: n,
                                to: a,
                                type: i,
                                id: r.id
                            }), g.load();
                        };
                        switch (f.linkCreateHandling) {
                          case "Update":
                            o();
                            break;

                          case "CallBack":
                            f.xj(r);
                            break;

                          case "PostBack":
                            f.yj(r);
                            break;

                          case "Notify":
                            o(), f.zj(r);
                        }
                        "function" == typeof f.onLinkCreated && f.onLinkCreated(r);
                    }
                };
            }, g.hideLinkpoints = function() {
                f.divLinkpoints.innerHTML = "", f.elements.linkpoints = [];
            }, g.hideTimeout = null, g.hideLinkpointsWithDelay = function() {
                g.hideTimeout = setTimeout(function() {
                    g.hideLinkpoints();
                }, 100);
            }, g.clearHideTimeout = function() {
                g.hideTimeout && (clearTimeout(g.hideTimeout), g.hideTimeout = null);
            }, g.load = function() {
                if (g.clear(), DayPilot.isArray(f.links.list)) for (var e = 0; e < f.links.list.length; e++) {
                    var t = f.links.list[e];
                    g.drawLinkId(t.from, t.to, t);
                }
            }, g.drawLinkId = function(e, t, i) {
                var n = f.events.find(e), a = f.events.Aj(n && n.data), r = f.events.find(t), o = f.events.Aj(r && r.data);
                g.drawLink2(a, o, i);
            }, g.getEventRect = function(e, t) {
                if (e && e.tagName && "div" === e.tagName.toLowerCase()) {
                    var i = e;
                    return {
                        top: i.offsetTop,
                        right: i.offsetLeft + i.offsetWidth,
                        left: i.offsetLeft,
                        height: i.offsetHeight
                    };
                }
                if (e instanceof DayPilot.Event) {
                    var n = e, a = f.rowlist[n.part.dayIndex];
                    return {
                        top: (t ? a.absTop : a.top) + (n.part.top || 0),
                        right: n.part.left + n.part.width,
                        left: n.part.left,
                        height: n.part.height
                    };
                }
                return null;
            }, g.drawLink2 = function(e, t, i) {
                var n = g.getSegments(e, t, i);
                if (!n) return null;
                var a = g.drawLinkSegments(n, i);
                return a ? (g.items.push(a), a) : null;
            }, g.drawLinkSegments = function(e, t) {
                if (!e) return null;
                var i = {
                    divs: [],
                    props: t,
                    clear: function() {
                        var e = this;
                        DayPilot.de(e.divs), e.divs.forEach(function(e) {
                            DayPilot.rfa(f.elements.links, e);
                        });
                    }
                }, n = (f.eventHeight / 2, t.width || 1), a = t.color, r = t.style, o = t.layer || "Above", s = "Above" === o, l = s ? f.divLinksAbove : f.divLinksBelow, d = function(e, t) {
                    a && (e.style["border" + t + "Color"] = a), r && (e.style["border" + t + "Style"] = r);
                }, c = [], h = function(e, t) {
                    f.elements.links.push(e), v(e), u(e), p(e), e.divs = c, t || c.push(e), i.divs.push(e);
                }, u = function(e) {
                    e.onmousedown = function(e) {
                        e.cancelBubble = !0;
                    }, e.oncontextmenu = function(e) {
                        if (e = e || window.event, f.contextMenuLink) {
                            var i = new DayPilot.Link(t, f);
                            f.contextMenuLink.show(i);
                        }
                        e.cancelBubble = !0, e.preventDefault ? e.preventDefault() : null;
                    };
                }, v = function(e) {
                    e.onmouseenter = function() {
                        DayPilot.Util.addClass(e.divs, f.C("_link_hover")), f.linkBubble && f.linkBubble.showLink(new DayPilot.Link(t, f));
                    }, e.onmouseleave = function() {
                        DayPilot.Util.removeClass(e.divs, f.C("_link_hover")), f.linkBubble && f.linkBubble.hideOnMouseOut();
                    };
                }, p = function(e) {
                    e.onclick = function(e) {
                        var i = {};
                        i.link = t, "function" == typeof f.onLinkClick && f.onLinkClick(i), "function" == typeof f.onLinkClicked && f.onLinkClicked(i);
                    };
                };
                return e.forEach(function(e) {
                    switch (e.type) {
                      case "Dot":
                        var i, r = 10;
                        a ? (i = DayPilot.Util.div(l, e.endX - 5, e.endY - 5, r, r), i.style.borderRadius = "10px", 
                        i.style.backgroundColor = a) : (i = DayPilot.Util.div(l, e.endX - 5, e.endY - 5, r, r), 
                        i.className = f.C("_link_dot"), DayPilot.Util.addClass(i, t.cssClass)), h(i, !0);
                        break;

                      case "HorizontalLine":
                        var o = DayPilot.Util.div(l, e.startX, e.startY, e.endX - e.startX, n);
                        o.style.boxSizing = "border-box", o.style.borderBottomWidth = n + "px", o.className = f.C("_link_horizontal"), 
                        DayPilot.Util.addClass(o, t.cssClass), d(o, "Bottom"), h(o);
                        break;

                      case "VerticalLine":
                        var s = DayPilot.Util.div(l, e.startX, e.startY, n, e.endY - e.startY);
                        s.style.boxSizing = "border-box", s.style.borderRightWidth = n + "px", s.className = f.C("_link_vertical"), 
                        DayPilot.Util.addClass(s, t.cssClass), d(s, "Right"), h(s);
                        break;

                      case "ArrowUp":
                        var i;
                        a ? (i = DayPilot.Util.div(l, e.endX - 5 + Math.floor(n / 2), e.endY - 5, 0, 0), 
                        i.style.borderColor = "transparent transparent " + a + " transparent", i.style.borderStyle = "solid", 
                        i.style.borderWidth = "5px") : (i = DayPilot.Util.div(l, e.endX - 6 + Math.floor(n / 2), e.endY - 6, 6, 6), 
                        i.className = f.C("_link_arrow_up"), DayPilot.Util.addClass(i, t.cssClass)), h(i, !0);
                        break;

                      case "ArrowDown":
                        var i;
                        a ? (i = DayPilot.Util.div(l, e.endX - 5 + Math.floor(n / 2), e.endY - 5, 0, 0), 
                        i.style.borderColor = a + " transparent transparent transparent", i.style.borderStyle = "solid", 
                        i.style.borderWidth = "5px") : (i = DayPilot.Util.div(l, e.endX - 5 + Math.floor(n / 2), e.endY - 6, 6, 6), 
                        i.className = f.C("_link_arrow_down"), DayPilot.Util.addClass(i, t.cssClass)), h(i, !0);
                        break;

                      case "ArrowRight":
                        var i;
                        a ? (i = DayPilot.Util.div(l, e.endX - 6, e.endY - 5, 0, 0), i.style.borderWidth = "6px", 
                        i.style.borderColor = "transparent transparent transparent " + a, i.style.borderStyle = "solid") : (i = DayPilot.Util.div(l, e.endX - 6, e.endY - 5, 6, 6), 
                        i.className = f.C("_link_arrow_right"), DayPilot.Util.addClass(i, t.cssClass)), 
                        h(i, !0);
                        break;

                      case "ArrowLeft":
                        var i;
                        a ? (i = DayPilot.Util.div(l, e.endX - 6, e.endY - 5, 0, 0), i.style.borderColor = "transparent " + a + " transparent transparent", 
                        i.style.borderStyle = "solid", i.style.borderWidth = "6px") : (i = DayPilot.Util.div(l, e.endX - 6, e.endY - 5, 6, 6), 
                        i.className = f.C("_link_arrow_left"), DayPilot.Util.addClass(i, t.cssClass)), h(i, !0);
                        break;

                      default:
                        throw new DayPilot.Exception("Invalid segment type");
                    }
                }), i;
            }, g.getSegments = function(e, t, i, n) {
                var a = g.getEventRect(e, n), r = g.getEventRect(t, n);
                if (!a) return null;
                if (!r) return null;
                var o, s, l = i.type || "FinishToStart", d = i.width || 1, c = f.eventHeight, h = f.linkBottomMargin, u = f.eventHeight / 2;
                switch (l) {
                  case "FinishToStart":
                    o = {
                        x: a.right,
                        y: a.top
                    }, s = {
                        x: r.left,
                        y: r.top
                    }, o.y > s.y && (r.top + r.height > a.top ? s.y = o.y : o.x <= s.x && (s.y += r.height, 
                    s.bottom = !0));
                    break;

                  case "StartToFinish":
                    o = {
                        x: a.left,
                        y: a.top
                    }, s = {
                        x: r.right,
                        y: r.top
                    };
                    break;

                  case "StartToStart":
                    o = {
                        x: a.left,
                        y: a.top
                    }, s = {
                        x: r.left,
                        y: r.top
                    };
                    break;

                  case "FinishToFinish":
                    o = {
                        x: a.right,
                        y: a.top
                    }, s = {
                        x: r.right,
                        y: r.top
                    };
                }
                var v = [];
                if ("FinishToStart" === l) if (o.y !== s.y || o.x !== s.x || s.bottom) if (o.y > s.y || o.y == s.y && s.bottom) if (o.x <= s.x) {
                    var p = o.x, m = o.y + c - h, y = s.x + u, b = s.y;
                    v.push({
                        type: "HorizontalLine",
                        startX: p,
                        startY: m,
                        endX: y,
                        endY: m
                    }), v.push({
                        type: "VerticalLine",
                        startX: y,
                        startY: m,
                        endX: y,
                        endY: b
                    }), v.push({
                        type: o.y < s.y ? "ArrowDown" : "ArrowUp",
                        startX: y,
                        startY: b,
                        endX: y,
                        endY: b
                    });
                } else {
                    var w = 5, k = s.y + c + w;
                    v.push({
                        type: "HorizontalLine",
                        startX: o.x,
                        startY: o.y + c - h,
                        endX: o.x + u + d,
                        endY: o.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: o.x + u,
                        startY: o.y + c - h,
                        endX: o.x + u,
                        endY: k
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: o.x + u + d,
                        endY: k
                    }), v.push({
                        type: "VerticalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: s.x - u,
                        endY: s.y + c - h
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: s.y + c - h,
                        endX: s.x - u + u,
                        endY: s.y + c - h
                    }), v.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else if (o.y === s.y) if (o.x < s.x) {
                    var p = o.x, m = o.y + c - h, y = s.x;
                    v.push({
                        type: "HorizontalLine",
                        startX: p,
                        startY: m,
                        endX: y,
                        endY: m
                    }), v.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else {
                    var w = 5, k = s.y + c + w;
                    v.push({
                        type: "HorizontalLine",
                        startX: o.x,
                        startY: o.y + c - h,
                        endX: o.x + u + d,
                        endY: o.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: o.x + u,
                        startY: o.y + c - h,
                        endX: o.x + u,
                        endY: k
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: o.x + u + d,
                        endY: k
                    }), v.push({
                        type: "VerticalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: s.x - u,
                        endY: s.y + c - h
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    }), v.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else if (o.x > s.x) {
                    var C = 5, k = s.y - C;
                    v.push({
                        type: "HorizontalLine",
                        startX: o.x,
                        startY: o.y + c - h,
                        endX: o.x + u,
                        endY: o.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: o.x + u,
                        startY: o.y + c - h,
                        endX: o.x + u,
                        endY: k
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: o.x + u,
                        endY: k
                    }), v.push({
                        type: "VerticalLine",
                        startX: s.x - u,
                        startY: k,
                        endX: s.x - u,
                        endY: s.y + c - h
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x - u,
                        startY: s.y + c - h,
                        endX: s.x - u + u,
                        endY: s.y + c - h
                    }), v.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else {
                    var p = o.x, m = o.y + c - h, y = s.x + u, b = s.y;
                    v.push({
                        type: "HorizontalLine",
                        startX: p,
                        startY: m,
                        endX: y,
                        endY: m
                    }), v.push({
                        type: "VerticalLine",
                        startX: y,
                        startY: m,
                        endX: y,
                        endY: b
                    }), v.push({
                        type: o.y < s.y ? "ArrowDown" : "ArrowUp",
                        startX: y,
                        startY: b,
                        endX: y,
                        endY: b
                    });
                } else {
                    var y = o.x, b = o.y + c - h;
                    v.push({
                        type: "Dot",
                        startX: y,
                        startY: b,
                        endX: y,
                        endY: b
                    });
                } else if ("StartToFinish" === l) {
                    var C = 5, k = s.y - C;
                    v.push({
                        type: "HorizontalLine",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x + u + d,
                        endY: s.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: s.x + u,
                        startY: s.y + c - h,
                        endX: s.x + u,
                        endY: k
                    }), v.push({
                        type: "HorizontalLine",
                        startX: o.x - u,
                        startY: k,
                        endX: s.x + u + d,
                        endY: k
                    }), v.push({
                        type: "VerticalLine",
                        startX: o.x - u,
                        startY: k,
                        endX: o.x - u,
                        endY: o.y + c - h
                    }), v.push({
                        type: "HorizontalLine",
                        startX: o.x - u,
                        startY: o.y + c - h,
                        endX: o.x,
                        endY: o.y + c - h
                    }), v.push({
                        type: "ArrowLeft",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else if ("StartToStart" === l) {
                    var x = Math.min(o.x, s.x) - u;
                    v.push({
                        type: "HorizontalLine",
                        startX: x,
                        startY: o.y + c - h,
                        endX: o.x,
                        endY: o.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: x,
                        startY: o.y + c - h,
                        endX: x,
                        endY: s.y + c - h
                    }), v.push({
                        type: "HorizontalLine",
                        startX: x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    }), v.push({
                        type: "ArrowRight",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                } else if ("FinishToFinish" === l) {
                    var S = Math.max(s.x, o.x) + u;
                    v.push({
                        type: "HorizontalLine",
                        startX: o.x,
                        startY: o.y + c - h,
                        endX: S,
                        endY: o.y + c - h
                    }), v.push({
                        type: "VerticalLine",
                        startX: S,
                        startY: o.y + c - h,
                        endX: S,
                        endY: c - h + s.y
                    }), v.push({
                        type: "HorizontalLine",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: S,
                        endY: s.y + c - h
                    }), v.push({
                        type: "ArrowLeft",
                        startX: s.x,
                        startY: s.y + c - h,
                        endX: s.x,
                        endY: s.y + c - h
                    });
                }
                return v;
            }, g.clearShadow = function() {
                f.divLinkShadow.innerHTML = "", f.elements.linkshadow = [];
            }, g.drawShadow = function(e, t) {
                g.clearShadow();
                var i = f.divLinkShadow, n = DayPilot.line(e.x, e.y, t.x, t.y, {
                    arrow: !0,
                    cssClass: f.C("_link_shadow")
                });
                i.appendChild(n), f.elements.linkshadow.push(n);
            }, this.xj = function(e, t) {
                var i = {};
                i.from = e.from, i.to = e.to, i.type = e.type, f.T("LinkCreate", i, t);
            }, this.zj = function(e, t) {
                var i = {};
                i.from = e.from, i.to = e.to, i.type = e.type, f.T("LinkCreate", i, t, "Notify");
            }, this.yj = function(e, t) {
                var i = {};
                i.from = e.from, i.to = e.to, i.type = e.type, f.R("LinkCreate", i, t);
            }, this.Bj = function(e) {
                var t = 0, i = 0, n = 0;
                if (e > this.rowlist.length - 1) throw "Row index too high (DayPilotScheduler._getRowByIndex)";
                for (var a = 0; a <= e; a++) {
                    var r = this.rowlist[a];
                    r.hidden || (i += r.height, n++);
                }
                t = i - r.height;
                var o = {};
                return o.top = t, o.height = r.height, o.bottom = i, o.i = n - 1, o.data = r, o;
            }, this.ge = function() {
                return !!this.backendUrl;
            }, this.events.find = function(e) {
                if (!f.events.list || "undefined" == typeof f.events.list.length) return null;
                if ("function" == typeof e) return f.Cj(e);
                for (var t = f.events.list.length, i = 0; i < t; i++) if (f.events.list[i].id === e) return new DayPilot.Event(f.events.list[i], f);
                return null;
            }, this.Cj = function(e) {
                for (var t = f.events.list.length, i = 0; i < t; i++) {
                    var n = new DayPilot.Event(f.events.list[i], f);
                    if (e(n)) return n;
                }
                return null;
            }, this.events.focus = function(e) {
                var t = f.Dj(e);
                t && t.focus();
            }, this.events.scrollIntoView = function(e) {
                if (f.Dj(e)) {
                    var t = e.start(), i = f.getViewPort();
                    !DayPilot.Util.overlaps(i.start, i.end, e.start(), e.end()) && DayPilot.Util.overlaps(f.Ta(), f.Xh(), e.start(), e.end()) && f.scrollTo(t, "fast", "middle");
                    var n = e.resource();
                    f.getViewPort().resources.indexOf(n) === -1 && f.scrollToResource(n);
                }
            }, this.events.all = function() {
                for (var e = [], t = 0; t < f.events.list.length; t++) {
                    var i = new DayPilot.Event(f.events.list[t], f);
                    e.push(i);
                }
                return DayPilot.list(e);
            }, this.events.forRange = function(e, t) {
                e = e ? new DayPilot.Date(e) : f.visibleStart(), t = t ? new DayPilot.Date(t) : f.visibleEnd();
                for (var i = DayPilot.list(), n = 0; n < f.events.list.length; n++) {
                    var a = new DayPilot.Event(f.events.list[n], f);
                    DayPilot.Util.overlaps(a.start(), a.end(), e, t) && i.push(a);
                }
                return i;
            }, this.events.filter = function(e, t) {
                f.events.Rd = e, t || f.kc({
                    eventsOnly: !0
                });
            }, this.events.edit = function(e) {
                var t = f.Vd(e);
                return t || DayPilot.list(f.events.Ej.rows).isEmpty() ? void f.$a(t) : void setTimeout(function() {
                    f.$a(f.Vd(e));
                });
            }, this.events.load = function(e, t, i) {
                if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required");
                var n = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, a = function(e) {
                    var i, a = e.request;
                    try {
                        i = JSON.parse(a.responseText);
                    } catch (e) {
                        var r = {};
                        return r.exception = e, void n(r);
                    }
                    if (DayPilot.isArray(i)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, o.data = i, "function" == typeof t && t(o), o.preventDefault.value) return;
                        f.events.list = i, f.N && f.update();
                    }
                };
                if (f.eventsLoadMethod && "POST" === f.eventsLoadMethod.toUpperCase()) DayPilot.ajax({
                    method: "POST",
                    contentType: "application/json",
                    data: {
                        start: f.visibleStart().toString(),
                        end: f.visibleEnd().toString()
                    },
                    url: e,
                    success: a,
                    error: n
                }); else {
                    var r = e, o = "start=" + f.visibleStart().toString() + "&end=" + f.visibleEnd().toString();
                    r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({
                        method: "GET",
                        url: r,
                        success: a,
                        error: n
                    });
                }
            }, this.events.findRecurrent = function(e, t) {
                if (!f.events.list || "undefined" == typeof f.events.list.length) return null;
                for (var i = f.events.list.length, n = 0; n < i; n++) if (f.events.list[n].recurrentMasterId === e && f.events.list[n].start.getTime() === t.getTime()) return new DayPilot.Event(f.events.list[n], f);
                return null;
            }, this.events.hi = function(e) {
                var t = [];
                return f.Sh().forEach(function(i) {
                    if (!i.isNewRow) {
                        f.Th(i.index, i.grid);
                        for (var n = 0; n < i.events.length; n++) {
                            var a = i.events[n].data;
                            if (f.Xd(a, e)) {
                                t.push(i), i.events.splice(n, 1);
                                break;
                            }
                        }
                    }
                }), t;
            }, this.events.Aj = function(e) {
                if (!e) return null;
                for (var t = f.Sh(), i = 0; i < t.length; i++) {
                    var n = t[i];
                    if (!n.hidden && !n.isNewRow) {
                        f.Th(n.index, n.grid);
                        for (var a = 0; a < n.events.length; a++) {
                            var r = n.events[a];
                            if (f.Xd(r.data, e)) return n.events[a];
                        }
                    }
                }
                return null;
            }, this.events.ii = function(e) {
                var t = [], i = f.Fj() || "Days" === f.viewType, n = DayPilot.indexOf(f.events.list, e);
                f.Ld(n);
                var a = f.Sh(), r = !1;
                return a.forEach(function(a) {
                    if (!r && !a.isNewRow) {
                        f.Th(a.index, a.grid);
                        var o = f.Gj(e, a);
                        o && ("function" == typeof f.onBeforeEventRender && (o.cache = f.L.events[n]), t.push(a), 
                        i || (r = !0));
                    }
                }), t;
            }, this.Xd = function(e, t) {
                return DayPilot.Util.isSameEvent(e, t);
            }, this.events.update = function(e, t, i) {
                if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                    var n = f.events.find(e.id);
                    if (!n) throw new DayPilot.Exception("The event to be updated was not found");
                    return f.events.remove(n), void f.events.add(e);
                }
                var a = {};
                a.oldEvent = new DayPilot.Event(e.copy(), f), a.newEvent = new DayPilot.Event(e.temp(), f);
                var i = i || {}, r = new DayPilot.Action(f, "EventUpdate", a, t);
                if (DayPilot.list(f.events.list).find(function(t) {
                    return f.Xd(t, e.data);
                })) {
                    if (f.Wd.scope) f.Wd.notify(function() {
                        e.commit();
                    }); else if (f.ih.skip = !0, (f.eventUpdateInplaceOptimization || i.inplace) && a.oldEvent.resource() === a.newEvent.resource() && a.oldEvent.start() === a.newEvent.start() && a.oldEvent.end() === a.newEvent.end()) {
                        e.commit();
                        var o = f.Vd(e);
                        if (o) {
                            var l = o.event.part;
                            f.uc(o), DayPilot.rfa(f.elements.events, o), e.part = l;
                        } else s("Old div not found");
                        var d = f.events.hi(e.data);
                        d = d.concat(f.events.ii(e.data)), f.ji(d);
                        var c = f.events.Aj(e.data);
                        c && f.vc(c);
                    } else {
                        var d = f.events.hi(e.data);
                        e.commit(), d = d.concat(f.events.ii(e.data)), f.events.Hj(d);
                    }
                    return r;
                }
            }, this.events.remove = function(e, t) {
                var i = {};
                i.e = new DayPilot.Event(e.data, f);
                var n = new DayPilot.Action(f, "EventRemove", i, t), a = f.Ij(e.data);
                if (a && f.events.list.splice(a.index, 1), f.Wd.scope) f.Wd.notify(); else {
                    f.ih.skip = !0;
                    var r = f.events.hi(e.data);
                    if (f.eventUpdateInplaceOptimization && 1 === r.length && !f.events.Hb(e)) {
                        f.Jj(f.rowlist[r[0]]);
                        var o = f.Vd(e);
                        if (o) {
                            var s = f.elements.events.indexOf(o);
                            f.elements.events.splice(s, 1), f.uc(o);
                        }
                    } else f.events.Hj(r);
                }
                return n;
            }, this.events.add = function(e, t, i) {
                var i = i || {}, n = i.renderOnly;
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = f, f.events.list || (f.events.list = []);
                var a = f.Ij(e);
                if (n) {
                    if (!a) throw new DayPilot.Exception("Unexpected: event not found in list");
                } else {
                    if (a && !f.temp.allowDuplicateEventIds) throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");
                    a || f.events.list.push(e.data);
                }
                var r = new DayPilot.Action(f, "EventAdd", o, t);
                if (!f.N) return r;
                if (f.Wd.scope) f.Wd.notify(); else {
                    f.ih.skip = !0;
                    var o = {};
                    o.e = e;
                    var s = f.events.ii(e.data), l = e.data.height || f.eventHeight;
                    if (f.eventUpdateInplaceOptimization && 1 === s.length && !f.events.Hb(e) && l <= f.eventHeight && !f.eventVersionsEnabled) {
                        var d = f.rowlist[s[0]];
                        f.Jj(d);
                        var c = d.events.find(function(t) {
                            return t.data === e.data;
                        });
                        c.part.top = 0, c.part.height = l, c.part.line = 0, f.vc(c);
                    } else f.events.Hj(s);
                }
                return r;
            }, this.events.Hb = function(e) {
                var t = e instanceof DayPilot.Event ? e.data : e, i = new DayPilot.Date(t.start), n = new DayPilot.Date(t.end);
                return !!DayPilot.list(f.events.list).find(function(e) {
                    if (f.Xd(t, e)) return !1;
                    if (t.resource !== e.resource) return !1;
                    var a = new DayPilot.Date(e.start), r = new DayPilot.Date(e.end);
                    return DayPilot.Util.overlaps(i, n, a, r);
                });
            }, this.events.addByData = function(e) {
                f.events.add(new DayPilot.Event(e));
            }, this.events.removeByData = function(e) {
                var t = f.events.find(e.id);
                if (!t) throw new DayPilot.Exception("The event to be removed was not found");
                f.events.remove(t);
            }, this.events.updateByData = function(e) {
                var t = f.events.find(e.id);
                if (!t) throw new DayPilot.Exception("The event to be updated was not found");
                f.events.remove(t), f.events.add(new DayPilot.Event(e));
            }, this.events.removeById = function(e) {
                var t = f.events.find(e);
                if (!t) throw new DayPilot.Exception("The event to be removed was not found");
                f.events.remove(t);
            }, this.events.Ej = {
                rows: []
            }, this.events.Kj = null, this.events.yi = function() {
                clearTimeout(f.events.Kj), f.events.Kj = null, f.events.Ej.rows = [];
            }, this.events.Lj = 0, this.events.Hj = function(e) {
                var t = f.events.Ej.rows;
                DayPilot.list(e).forEach(function(e) {
                    t.push(e);
                }), f.events.Ej.rows = DayPilot.ua(t);
                var i = f.events.immediateRefresh;
                f.events.Kj || (f.events.Kj = setTimeout(i, f.events.Lj));
            }, this.events.immediateRefresh = function() {
                clearTimeout(f.events.Kj), f.events.Kj = null;
                var e = f.events.Ej.rows;
                f.events.Ej.rows = [], f.ji(e), f.ki(), f.N && ("Gantt" === f.viewType ? f.update() : (f.li(e), 
                f.Ca(), f.Mj()));
            }, this.ih = {}, this.ih.enabled = !1, this.ih.skip = !1, this.ih.skipUpdate = function() {
                return f.ih.skip;
            }, this.ih.skipped = function() {
                f.ih.skip = !1;
            }, this.da = {}, this.da.reactDOM = null, this.da.react = null, this.queue = {}, 
            this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction) throw "DayPilot.Action object required for queue.add()";
                    f.queue.list.push(e);
                }
            }, this.queue.notify = function(e) {
                var t = {};
                t.actions = f.queue.list, f.T("Notify", t, e, "Notify"), f.queue.list = [];
            }, this.queue.clear = function() {
                f.queue.list = [];
            }, this.queue.pop = function() {
                return f.queue.list.pop();
            }, this.cells.find = function(e, t) {
                var i;
                if (i = t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : f.ph(t), !i) return y();
                var n = i.start.getTime() - f.Ta().getTime(), a = new DayPilot.Date(e).addTime(-n), r = f.getPixels(a);
                if (!r) return y();
                var o = r.i, s = i.index;
                return this.findXy(o, s, i.grid);
            }, this.cells.findByPixels = function(e, t) {
                var i = f._h(e);
                if (!i) return y();
                var e = i.x, n = f.kj(t);
                if (!n) return y();
                var t = n.i;
                return this.findXy(e, t);
            }, this.cells.all = function() {
                for (var e = [], t = f.itline.length, i = f.rowlist.length, n = 0; n < t; n++) for (var a = 0; a < i; a++) {
                    var r = f.cells.findXy(n, a);
                    e.push(r[0]);
                }
                return y(e);
            }, this.cells.Nj = function(e, t, i) {
                i = i || "main";
                var n = f.uj[i], a = n.rowlist, r = f.di(e), o = a[t], s = o.start.getTime() - f.Ta().getTime(), l = r.start.addTime(s), d = r.end.addTime(s), c = {};
                c.x = e, c.y = t, c.grid = i, c.displayY = o.displayY, c.i = i + "_" + e + "_" + t, 
                !o.id, c.resource = o.id, c.start = l, c.end = d, c.calendar = f, c.isParent = !(!o.children || !o.children.length), 
                c.update = function() {
                    if (!a[c.y].hidden) {
                        var e = f.L.cells[c.i];
                        f.Oj(e);
                        var t = f.rh();
                        t.xStart <= c.x && c.x <= t.xEnd && t.yStart <= c.y && c.y <= t.yEnd && f.Wf(c.x, c.y, c.grid);
                    }
                }, c.utilization = function(e) {
                    return o.isNewRow ? 0 : (o.sections || o.calculateUtilization(), o.sections.forRange(l, d).maxSum(e));
                }, c.events = function() {
                    return o.events.forRange(l, d);
                }, c.div = f.L.cells[c.i];
                var h = f.Pj(e, t, i);
                return c.properties = h, c;
            }, this.cells.findXy = function(e, t, i) {
                if (DayPilot.isArray(e)) {
                    for (var n = [], a = 0; a < e.length; a++) {
                        var r = e[a];
                        n.push(f.cells.Nj(r.x, r.y, i));
                    }
                    return y(n);
                }
                return null === e || null === t ? y() : y(f.cells.Nj(e, t, i));
            }, this.Qj = function(e) {
                var t = DayPilot.list();
                if (DayPilot.isArray(e)) for (var i = 0; i < e.length; i++) t.push(e[i]); else "object" == typeof e && t.push(e);
                return t.cssClass = function(e) {
                    return this.forEach(function(t) {
                        t.properties.cssClass = DayPilot.Util.addClassToString(t.properties.cssClass, e), 
                        t.update();
                    }), this;
                }, t.removeClass = function(e) {
                    return this.forEach(function(t) {
                        t.properties.cssClass = DayPilot.Util.removeClassFromString(t.properties.cssClass, e), 
                        t.update();
                    }), this;
                }, t.addClass = t.cssClass, t.html = function(e) {
                    return this.forEach(function(t) {
                        t.properties.html = e, t.update();
                    }), this;
                }, t.invalidate = function() {
                    return this.forEach(function(e) {
                        delete f.Uh[e.i];
                    }), this;
                }, t;
            };
            var y = this.Qj;
            this.Wd = {}, this.Wd.scope = null, this.Wd.notify = function(e) {
                f.Wd.scope && DayPilot.Util.safeApply(f.Wd.scope, e);
            }, this.debug = new DayPilot.Debug(this), this.Rj = function(e) {
                if ("Days" !== f.viewType) throw "Checking row start when viewType !== 'Days'";
                for (var t = 0; t < f.rowlist.length; t++) {
                    var i = f.rowlist[t], n = i.element ? i.element.data : i.data, a = n.start;
                    if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime()) return a;
                }
                return null;
            }, this.Sj = function(e) {
                var t = f.Ta();
                if (e.ticks === t.ticks) return e;
                var i = t;
                if (e.ticks < t.ticks) {
                    for (var n = this.itline[0].end.ticks - this.itline[0].start.ticks; i.ticks > e.ticks; ) i = i.addTime(-n);
                    return i;
                }
                if ("Days" === f.viewType) {
                    var a = this.Rj(e), r = a.getTime() - f.Ta().getTime(), o = this.bi(e.addTime(-r));
                    if (o.current) return o.current.start.addTime(r);
                    if (o.past) return o.previous.end.addTime(r);
                    throw "getBoxStart(): time not found";
                }
                var o = this.bi(e);
                if (o.current) return o.current.start;
                if (o.past) return o.previous.end;
                if (o.hidden) {
                    var s = o.next.start.getTime() - e.getTime(), l = o.next.end.getTime() - o.next.start.getTime(), d = Math.ceil(s / l) * l;
                    return o.next.start.addTime(-d);
                }
                throw "getBoxStart(): time not found";
            }, this.tj = function(e) {
                var t = this.kj(f.coords.y, f.coords.grid), i = f.scaleManualLimitBeyond;
                if ("function" != typeof e.end) throw "e.end function is not defined";
                if (!e.end()) throw "e.end() returns null";
                var n = DayPilot.DateUtil.diff(e.rawend(), e.start());
                n = DayPilot.Util.atLeast(n, 1);
                var a = P.useBox(n), r = e.data && "Milestone" === e.data.type, s = f.eventHeight, l = 0, d = f.coords.x;
                if (r && (d += s / 2), i && "Manual" === f.scale && !f.eventMoveSkipNonBusiness) {
                    var c = function() {
                        var e = f.getDate(f.coords.x, !0, !0), t = e.addTime(-n), i = f.getPixels(t).boxLeft, a = f.getPixels(e).boxRight, e = Math.min(a, f.coords.x);
                        return e - i;
                    }(), h = Math.min(o.moveOffsetX ? o.moveOffsetX : 0, c);
                    d = f.coords.x - h;
                }
                var u = o.movingEvent ? o.movingEvent.calendar : f, v = 0, p = "Days" === this.viewType || this.Tj(), m = !e.part.external && u === f;
                if (p && m && (v = this.rowlist[e.part.dayIndex].start.getTime() - this.Ta().getTime()), 
                a && !r && u === f) {
                    var g = f.bi(e.start()), y = !g.hidden && !g.past;
                    l = e.start().getTime() - this.Sj(e.start().addTime(-v)).addTime(v).getTime(), y && (l = function(e, t) {
                        var i = f.Uj(f.bi(e).current), n = f.Uj(f._h(d).cell);
                        if (i > 1.2 * n) {
                            for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= n; ) t -= n;
                            t *= a;
                        }
                        return t;
                    }(e.start(), l));
                }
                u && u !== f && u.Vj() !== f.Vj() && (l = 0);
                var b = 0;
                if (!o.moveDragStart || "Manual" === f.scale && i || u !== f) b = 0; else if (a) {
                    var w = e.start().addTime(-v), k = this.Sj(w);
                    b = o.moveDragStart.getTime() - k.getTime();
                    var C = 60 * f.Vj() * 1e3;
                    b = Math.floor(b / C) * C;
                } else b = o.moveDragStart.getTime() - e.start().addTime(-v).getTime();
                this.eventMoveToPosition && (b = 0);
                var x = this.getDate(d, !0).addTime(-b).addTime(v);
                o.resizing && (x = e.start());
                var S = f.snapToGrid;
                o.moving ? S = S && f.snapToGridEventMoving : o.resizing ? S = S && f.snapToGridEventResizing : o.range && (S = S && f.snapToGridTimeRangeSelecting), 
                S && (x = this.Sj(x.addTime(-v)).addTime(v)), x = x.addTime(l);
                var E = x.addTime(n), T = x, A = E;
                if (p) {
                    T = x.addTime(-v), A = T.addTime(n);
                    var D = t.element.data.start.getTime() - this.Ta().getTime();
                    x = T.addTime(D), E = x.addTime(n);
                }
                if (i && "Manual" === f.scale) {
                    var H = t.element.Wj();
                    if (E > H) {
                        var M = E.getTime() - H.getTime();
                        x = x.addTime(-M), E = E.addTime(-M);
                    }
                    T = x.addTime(-v), A = E.addTime(-v);
                }
                if (o.moving && f.eventMoveSkipNonBusiness) {
                    var _ = t.i, R = 0;
                    o.moveDragStart && (R = o.moveDragStart.addTime(v), S && (R = this.Sj(R.addTime(-v)).addTime(v)));
                    var B = !e.part.dayIndex, N = 0;
                    B || (N = f.Xj(e.start(), R, e.part.dayIndex));
                    var n = f.Yj(e), L = f.getDate(d, !0);
                    S && (L = f.getDate(d));
                    var h = f.Zj(L, N, _, t.grid);
                    x = L.addTime(-h).addTime(v), S && (x = this.Sj(x.addTime(-v)).addTime(v)), l = B ? 0 : f.Xj(this.Sj(e.start().addTime(-v)).addTime(v), e.start(), _, t.grid), 
                    x = x.addTime(l), x <= f.visibleStart() && (x = f.$j(f.visibleStart(), _, t.grid).start), 
                    E = f._j(x, n, _, t.grid), E >= f.visibleEnd() && (E = f.ak(f.visibleEnd(), _, t.grid).end, 
                    x = E.addTime(-f.Zj(E, n, _))), T = x.addTime(-v), A = E.addTime(-v);
                }
                var U = this.getPixels(T), z = this.getPixels(A), O = S ? U.boxLeft : U.left, j = S && a ? z.boxRight - O : z.left - O;
                r && (j = s, O -= j / 2);
                var I = {};
                return I.top = t.top, I.left = O, I.row = t.element, I.rowIndex = t.i, I.grid = f.coords.grid, 
                I.width = j, I.start = x, I.end = E, I.relativeY = f.coords.y - t.top, I;
            }, this.bk = function(e, t) {
                var i = f.bi(e), n = f.bi(t), a = null, r = 0;
                i.hidden && (a = e);
                for (var o = i.i; o <= n.i; o++) {
                    var s = f.itline[o];
                    a && a < s.start && (r += s.start.getTime() - a.getTime()), a = s.end;
                }
                return r;
            }, this._j = function(e, t, i, n) {
                n = n || "main";
                var a = t, r = f.rowlist[i], o = r.data.start.getTime() - f.Ta().getTime(), s = e.addTime(-o), l = f.$j(s, i, n);
                if (!l) throw new DayPilot.Exception("No next cell found");
                var d = DayPilot.indexOf(f.itline, l);
                if (l.start > e) ; else {
                    if (a -= l.end.getTime() - s.getTime(), a <= 0) return e.addTime(t);
                    d += 1;
                }
                for (var c = d; c < f.itline.length; c++) {
                    var h = f.Pj(c, i, n), u = f.itline[c];
                    if (h.business) {
                        var v = u.start.addTime(o), p = u.end.addTime(o), m = p.getTime() - v.getTime();
                        if (a <= m) return v.addTime(a);
                        a -= m;
                    }
                }
                return f.itline[f.itline.length - 1].end.addTime(a);
            }, this.Xj = function(e, t, i, n) {
                n = n || "main";
                var a = f.ck(n), r = a.rowlist, o = r[i], s = o.data.start.getTime() - f.Ta().getTime(), l = (f.bi(e), 
                e.addTime(-s)), d = t.addTime(-s), c = f.$j(l, i, n);
                if (!c) throw new DayPilot.Exception("No next cell found");
                var h = 0, u = DayPilot.indexOf(f.itline, c);
                if (c.start <= d) {
                    if (t < c.end.addTime(s)) return c.start > l ? t.getTime() - c.start.addTime(s).getTime() : t.getTime() - e.getTime();
                    h += l > c.start ? c.end.getTime() - l.getTime() : c.end.getTime() - c.start.getTime(), 
                    u += 1;
                }
                for (var v = u; v < f.itline.length; v++) {
                    if (f.Pj(v, i, n).business) {
                        var p = f.itline[v], m = p.start.addTime(s), g = p.end.addTime(s), y = g.getTime() - m.getTime();
                        if (t < m) return h;
                        if (t <= g) return h += t.getTime() - m.getTime();
                        h += y;
                    }
                }
                var b = t.getTime() - f.itline.last().end.addTime(s).getTime();
                return h += DayPilot.Util.atLeast(0, b);
            }, this.Yj = function(e) {
                if (e.part.duration) {
                    if (isNaN(e.part.duration)) throw new DayPilot.Exception("Unable to get calculated duration");
                    return e.part.duration;
                }
                var t = e.part.dayIndex;
                return f.Xj(e.start(), e.rawend(), t);
            }, this.Zj = function(e, t, i, n) {
                n = n || "main";
                var a = 0, r = t, o = f.bi(e);
                if (!o.current) throw new DayPilot.Exception("Current cell not found.");
                var s = DayPilot.indexOf(f.itline, o.current);
                if (f.Pj(s, i, n).business) {
                    if (e.addTime(-t) >= o.current.start) return t;
                } else if (0 === t || e.addTime(-t) >= o.current.start) {
                    var l = f.$j(e, i, n);
                    if (l) return e.getTime() - l.start.getTime();
                    var d = f.ak(e, i, n);
                    return e.getTime() - d.start.getTime();
                }
                a += e.getTime() - o.current.start.getTime(), r -= e.getTime() - o.current.start.getTime(), 
                s -= 1;
                for (var c = o.current.start; s >= 0; ) {
                    var o = f.itline[s];
                    c > o.end && (a += c.getTime() - o.end.getTime()), c = o.start;
                    var h = o.end.getTime() - o.start.getTime();
                    if (f.Pj(s, i, n).business) {
                        if (r <= h) return a += r;
                        a += h, r -= h;
                    } else a += h;
                    s -= 1;
                }
                return a + r;
            }, this.ak = function(e, t, i) {
                i = i || "main";
                var n = f.bi(e), a = 0;
                if (n.past) return null;
                if (n.current) a = n.i; else {
                    if (!n.previous) return null;
                    a = DayPilot.indexOf(f.itline, n.previous);
                }
                for (var r = a; r >= 0; r--) {
                    if (f.jd(r, t, i)) return f.itline[r];
                }
                return null;
            }, this.$j = function(e, t, i) {
                i = i || "main";
                var n = f.bi(e), a = 0;
                if (n.past) return null;
                if (n.current) a = n.i; else {
                    if (!n.next) return null;
                    a = DayPilot.indexOf(f.itline, n.next);
                }
                for (var r = a; r < f.itline.length; r++) {
                    if (f.jd(r, t, i)) return f.itline[r];
                }
                return null;
            }, this.jd = function(e, t, i) {
                return i = i || "main", f.Pj(e, t, i).business;
            }, this.Vj = function() {
                switch (this.scale) {
                  case "CellDuration":
                    return this.cellDuration;

                  case "Minute":
                    return 1;

                  case "Hour":
                    return 60;

                  case "Day":
                    return 1440;

                  case "Week":
                    return 10080;

                  case "Month":
                    return 43200;

                  case "Year":
                    return 525600;

                  case "Manual":
                    if (f.itline.length > 0) {
                        var e = f.itline[0];
                        return (e.end.getTime() - e.start.getTime()) / 6e4;
                    }
                    return f.cellDuration;
                }
                throw "can't guess cellDuration value";
            }, this.Uj = function(e) {
                return e.end.ticks - e.start.ticks;
            }, this.vj = function(e, t) {
                return t = t || "main", "main" === t && this.treePreventParentUsage && this.dk(e, t);
            }, this.dk = function(e, t) {
                t = t || "main";
                var i = f.uj[t], n = i.rowlist, a = n[e];
                return !!a.isParent || !!(this.treeEnabled && a.children && a.children.length > 0);
            }, this.ek = {}, this.fk = function() {
                if (f.treeAutoExpand) {
                    var e = this.tj(o.movingEvent), t = e.rowIndex, i = this.dk(t), n = this.ek;
                    if (n.timeout && n.y !== t && (clearTimeout(n.timeout), n.timeout = null, n.y = null), 
                    i) {
                        n.y = t;
                        var a = !f.rowlist[n.y].expanded;
                        !n.timeout && a && (n.timeout = setTimeout(function() {
                            !f.rowlist[n.y].expanded && (f.gk(n.y, {
                                notAnimated: !0
                            }), f.hk()), n.timeout = null, n.y = null;
                        }, 500));
                    }
                }
            }, this.ik = function() {
                clearTimeout(f.ek.timeout), f.ek.timeout = null, f.ek.y = null;
            }, this.pd = function() {
                var e = o.resizingShadow.width, t = o.resizingShadow.left, i = o.resizingEvent, n = o.resizing.dpBorder, a = f.rowlist[i.part.dayIndex], r = 0;
                r = a.start.getTime() - f.Ta().getTime();
                var s = null, l = null, d = f.snapToGrid && f.snapToGridEventResizing, c = !d;
                "left" === n ? (s = f.getDate(t, c).addTime(r), l = i.rawend()) : "right" === n && (s = i.start(), 
                l = f.getDate(t + e, c, !0).addTime(r)), o.resizingShadow.start = s, o.resizingShadow.end = l;
            }, this.exportAs = function(e, t) {
                if (!f.Gd()) throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");
                var i = b.generate(e, t);
                return new DayPilot.Export(i);
            }, this["export"] = this.exportAs, this.ce = {};
            var b = this.ce;
            b.getWidth = function() {
                var e = b.fe;
                switch (e) {
                  case "viewport":
                    return f.nav.top.offsetWidth;

                  case "full":
                    return f.Ch() + b.getRowHeaderWidth();

                  case "range":
                    return f.getPixels(b.getRangeEnd()).boxRight - f.getPixels(b.getRangeStart()).boxLeft + b.getRowHeaderWidth();

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, b.getHeight = function() {
                var e = b.fe;
                switch (e) {
                  case "viewport":
                    return f.nav.top.offsetHeight - DayPilot.sh(f.nav.scroll) - 1;

                  case "full":
                    return f.jk() + f.Gh() - DayPilot.sh(f.nav.scroll);

                  case "range":
                    var t = b.getRows();
                    if (0 === t.length) return f.Gh();
                    var i = t.first(), n = t.last(), a = b.kk(n) - b.kk(i) + n.height + f.Gh();
                    return a += f.uj.top.height, a += f.uj.bottom.height;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, b.kk = function(e) {
                var t = b.ee.includeHiddenRows ? e.absTop : e.top;
                return "bottom" === e.grid && ("viewport" === b.fe ? t += f.uj.bottom.top - f.Gh() : "full" === b.fe ? t += f.Ng : "range" === b.fe && (t += b.getHeight() - f.Gh() - f.uj.bottom.height)), 
                t;
            }, b.lk = function(e) {
                var t = b.getViewportOffsetTop();
                return "main" !== e.grid && (t = 0), t;
            }, b.getRangeStart = function() {
                var e = b.ee.dateFrom || f.Ta();
                return new DayPilot.Date(e);
            }, b.getRangeEnd = function() {
                var e = b.ee.dateTo || f.Xh();
                return new DayPilot.Date(e);
            }, b.getRangeResStart = function() {
                return b.ee.resourceFrom ? f.ph(b.ee.resourceFrom) : f.rowlist.find(function(e) {
                    return !e.hidden;
                });
            }, b.getRangeResEnd = function() {
                return b.ee.resourceTo ? f.ph(b.ee.resourceTo) : f.rowlist.last();
            }, b.getRowHeaderWidth = function() {
                return f.Fh();
            }, b.getTimeHeaderHeight = function() {
                return f.Gh();
            }, b.getCanvas = function() {
                return b.canvas();
            }, b.getRectangles = function() {
                var e = b.getRowHeaderWidth(), t = b.getTimeHeaderHeight(), i = {};
                i.main = {
                    x: 0,
                    y: 0,
                    w: b.getWidth(),
                    h: b.getHeight()
                }, i.corner = {
                    x: 0,
                    y: 0,
                    w: e,
                    h: t
                }, i.grid = {
                    x: e,
                    y: t,
                    w: b.getWidth() - e,
                    h: b.getHeight() - t
                };
                var n = i.grid.w, a = f.itline.last();
                a && a.left + a.width < i.grid.w && (n = a.left + a.width);
                var r = i.grid.h, o = f.rowlist.last();
                return o && o.top + o.height < i.grid.h && (r = o.top + o.height), i.gridContent = {
                    x: e,
                    y: t,
                    w: n,
                    h: r
                }, i;
            }, b.getRows = function() {
                var e, t, i, n, a = b.fe, r = DayPilot.list();
                switch (a) {
                  case "viewport":
                    e = f.mk, t = e + f.nav.scroll.offsetHeight, i = f.kj(e).i, n = f.kj(t).i;
                    break;

                  case "full":
                    e = 0, i = 0, n = f.rowlist.length;
                    break;

                  case "range":
                    var o = b.getRangeResStart(), s = b.getRangeResEnd();
                    if (!o) throw "Resource specified using resourceFrom option not found during export.";
                    if (!s) throw "Resource specified using resourceTo option not found during export.";
                    i = o.index, n = s.index;
                }
                n < f.rowlist.length && (n += 1);
                for (var l = i; l < n; l++) {
                    var d = f.rowlist[l];
                    !b.ee.includeHiddenRows && d.hidden || r.push(d);
                }
                return r.offset = i, r;
            }, b.getRowsTop = function() {
                return f.uj.top.rowlist;
            }, b.getRowsBottom = function() {
                return f.uj.bottom.rowlist;
            }, b.getRowsAll = function() {
                var e = b.getRows();
                return e = e.concat(b.getRowsTop()), e = e.concat(b.getRowsBottom());
            }, b.getRowsTopAndBottom = function() {
                var e = [];
                return e = e.concat(b.getRowsTop()), e = e.concat(b.getRowsBottom());
            }, b.bottomFrozenY = function() {
                if (f.uj.bottom.enabled()) {
                    if ("viewport" === b.fe) return f.uj.bottom.top;
                    if ("full" === b.fe) return b.getHeight() - f.uj.bottom.height;
                    if ("range" === b.fe) return b.getHeight() - f.uj.bottom.height;
                }
                return b.getHeight();
            }, b.getEvents = function() {
                var e = b.fe;
                switch (e) {
                  case "full":
                    var t = DayPilot.list();
                    return DayPilot.list(f.rowlist).forEach(function(e) {
                        e.hidden || DayPilot.list(e.events).forEach(function(e) {
                            t.push(e);
                        });
                    }), t;

                  case "viewport":
                    return v.events().filter(function(e) {
                        return "main" === e.event.part.grid;
                    }).map(function(e) {
                        return e.event;
                    });

                  case "range":
                    var t = DayPilot.list(), i = b.getRangeStart(), n = b.getRangeEnd();
                    return b.getRows().forEach(function(e) {
                        DayPilot.list(e.events).filter(function(e) {
                            return DayPilot.Util.overlaps(e.start(), e.end(), i, n);
                        }).forEach(function(e) {
                            t.push(e);
                        });
                    }), t;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, b.getEventsFrozen = function() {
                var e = b.fe;
                switch (e) {
                  case "full":
                    var t = DayPilot.list();
                    return b.getRowsTopAndBottom().forEach(function(e) {
                        e.hidden || DayPilot.list(e.events).forEach(function(e) {
                            t.push(e);
                        });
                    }), t;

                  case "viewport":
                    return v.events().filter(function(e) {
                        return "main" !== e.event.part.grid;
                    }).map(function(e) {
                        return e.event;
                    });

                  case "range":
                    var t = DayPilot.list(), i = b.getRangeStart(), n = b.getRangeEnd();
                    return b.getRowsTopAndBottom().forEach(function(e) {
                        DayPilot.list(e.events).filter(function(e) {
                            return DayPilot.Util.overlaps(e.start(), e.end(), i, n);
                        }).forEach(function(e) {
                            t.push(e);
                        });
                    }), t;

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, b.getLinks = function() {
                if (DayPilot.isArray(f.links.list)) {
                    for (var e = [], t = 0; t < f.links.list.length; t++) {
                        var i = f.links.list[t], n = f.events.find(i.from), a = f.events.Aj(n && n.data), r = f.events.find(i.to), o = f.events.Aj(r && r.data), s = g.getSegments(a, o, i, b.ee.includeHiddenRows);
                        e.push(s);
                    }
                    return e;
                }
            }, b.getTimeline = function() {
                var e = b.fe;
                switch (e) {
                  case "full":
                    return DayPilot.list(f.itline).addProps({
                        offset: 0
                    });

                  case "viewport":
                    return b.getViewportTimeline();

                  case "range":
                    return b.getRangeTimeline();

                  default:
                    throw "Unsupported export mode: " + e;
                }
            }, b.getRangeTimeline = function() {
                var e = DayPilot.list();
                if (f.itline && f.itline.length > 0) {
                    var t = f.bi(b.getRangeStart()).i, i = f.bi(b.getRangeEnd()).i, n = f.nk();
                    i = Math.min(i, n - 1), t = DayPilot.Util.atLeast(t, 0);
                    for (var a = t; a <= i; a++) {
                        var r = f.itline[a];
                        e.push(r);
                    }
                    e.offset = t;
                }
                return e;
            }, b.getViewportTimeline = function() {
                var e = DayPilot.list();
                if (f.itline && f.itline.length > 0) {
                    var t = f.ok, i = t + f.pk, n = f._h(t).x, a = f._h(i, !0).x, r = f.nk();
                    a = Math.min(a, r), n = DayPilot.Util.atLeast(n, 0);
                    for (var o = n; o <= a; o++) {
                        var s = f.itline[o];
                        e.push(s);
                    }
                    e.offset = n;
                }
                return e;
            }, b.getTimeHeader = function(e) {
                if ("full" === b.fe) return DayPilot.list(f.timeHeader[e]);
                var t, i, n = DayPilot.list();
                t = b.getViewportOffsetStart(), i = t + b.getViewportOffsetWidth();
                var a = f.qk(e, t), r = f.qk(e, i);
                r || (r = {
                    x: f.timeHeader[e].length - 1
                });
                for (var o = a.x; o <= r.x; o++) {
                    var s = f.timeHeader[e][o];
                    n.push(s);
                }
                return n;
            }, b.getSeparators = function() {
                return DayPilot.list(f.separators).map(function(e) {
                    var t = new DayPilot.Date(e.location);
                    if (t.getTime() < f.Ta().getTime()) return null;
                    if (t.getTime() >= f.Xh().getTime()) return null;
                    var i = f.getPixels(t);
                    return i.cut ? null : i.left < 0 ? null : i.left > f.Ch() ? null : {
                        left: i.left,
                        color: e.color,
                        width: e.width || 1
                    };
                }).filter(function(e) {
                    return !!e;
                });
            }, b.fakeDurationBar = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = f.C(M.event);
                var t = document.createElement("div");
                t.className = f.C(M.eventBar);
                var i = document.createElement("div");
                return i.className = f.C(M.eventBarInner), document.body.appendChild(e), t.appendChild(i), 
                e.appendChild(t), e;
            }, b.fakeEventLeft = function() {
                var e = document.createElement("div");
                return e.style.display = "none", e.className = f.C("_event_left"), document.body.appendChild(e), 
                e;
            }, b.fakeGroup = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = f.C(M.event) + " " + f.C("_task_group");
                var t = document.createElement("div");
                return t.className = f.C(M.eventInner), e.appendChild(t), f.divEvents.appendChild(e), 
                e;
            }, b.fakeMilestone = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = f.C(M.event) + " " + f.C("_task_milestone");
                var t = document.createElement("div");
                return t.className = f.C(M.eventInner), e.appendChild(t), f.divEvents.appendChild(e), 
                e;
            }, b.fakeCell = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = f.C("_cell"), e.style.position = "absolute", 
                e.style.top = "-2000px", e.style.left = "-2000px";
                var t = document.createElement("div");
                return t.className = f.C("_cell_inner"), e.appendChild(t), f.divCells.appendChild(e), 
                e;
            }, b.fakeRowHeader = function() {
                var e = document.createElement("div");
                e.style.display = "none", e.className = f.C("_rowheader"), e.style.position = "absolute", 
                e.style.top = "-2000px", e.style.left = "-2000px";
                var t = document.createElement("div");
                return t.className = f.C("_rowheader_inner"), e.appendChild(t), f.divResScroll.appendChild(e), 
                e;
            }, b.fakeExpand = function() {
                var e = document.createElement("div");
                return e.style.display = "none", e.className = f.C("_tree_image_expand"), document.body.appendChild(e), 
                e;
            }, b.fakeIcon = function(e) {
                var t = document.createElement("i");
                return t.className = e, t.style.position = "absolute", t.style.top = "-2000px", 
                t.style.left = "-2000px", t;
            }, b.extractUrl = function(e) {
                var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
                return t ? t[2] : null;
            }, b.getImages = function() {
                var e = {}, t = b.fakeExpand();
                return e.expand = b.extractUrl(new DayPilot.StyleReader(t).get("background-image")), 
                t.className = f.C("_tree_image_collapse"), e.collapse = b.extractUrl(new DayPilot.StyleReader(t).get("background-image")), 
                t.className = f.C("_tree_image_no_children"), e.nochildren = b.extractUrl(new DayPilot.StyleReader(t).get("background-image")), 
                DayPilot.de(t), e;
            }, b.getFont = function(e) {
                return new DayPilot.StyleReader(e).getFont();
            }, b.getViewportOffsetStart = function() {
                switch (b.fe) {
                  case "full":
                    return 0;

                  case "viewport":
                    return f.nav.scroll.scrollLeft;

                  case "range":
                    return f.getPixels(b.getRangeStart()).boxLeft;
                }
            }, b.getViewportOffsetTop = function() {
                switch (b.fe) {
                  case "full":
                    return 0;

                  case "viewport":
                    return f.nav.scroll.scrollTop;

                  case "range":
                    return b.kk(b.getRangeResStart()) - f.uj.top.height;
                }
            }, b.getViewportOffsetWidth = function() {
                switch (b.fe) {
                  case "full":
                    return f.Ch();

                  case "viewport":
                    return f.nav.scroll.offsetWidth;

                  case "range":
                    return f.getPixels(b.getRangeEnd()).boxRight - b.getViewportOffsetStart();
                }
            }, b.excelBoard = function() {
                var e = new DayPilot.Excel(), t = e.worksheets.create("Scheduler"), i = new DayPilot.StyleReader(f.nav.corner).get("background-color"), n = new DayPilot.StyleReader(f.nav.top).get("border-top-color"), a = DayPilot.list(f.elements.events).filter(function(e) {
                    return !e.event.data.type;
                }).map(function(e) {
                    return e.firstChild;
                }).last(), r = new DayPilot.StyleReader(a).get("border-right-color");
                e.styles.getDefault().setBackColor("#ffaaaa");
                var o = e.styles.create();
                o.setHorizontalAlignment("Center"), o.setBackColor(i), o.setBorderColor(n);
                var s = e.styles.create();
                s.setVerticalAlignment("Top"), s.setBackColor(i), s.setBorderColor(n);
                var l = e.styles.create();
                l.setVerticalAlignment("Top"), l.setBackColor("#ff0000"), l.setBorderColor(r), t.enableGridlines(!1), 
                t.cell(0, 0).setRowspan(f.timeHeader.length).setStyle(o), t.cell(10, 10).setText("hi there"), 
                DayPilot.list(f.timeHeader).forEach(function(e, i) {
                    var n = {
                        x: 1,
                        y: 0
                    };
                    b.getTimeHeader(i, "full").forEach(function(e, a) {
                        var r = e.colspan;
                        t.cell(a + n.x, i + n.y).setText(e.innerHTML).setColspan(r).setStyle(o);
                    });
                }), DayPilot.list(f.rowlist).forEach(function(e, i) {
                    for (var n = {
                        x: 0,
                        y: 1
                    }, a = "", r = 0; r < e.level; r++) a += "  ";
                    t.cell(n.x, i + n.y).setText(a + e.html).setRowspan(e.lines.length).setStyle(s);
                });
                var d = {
                    x: 0,
                    y: f.timeHeader.length
                }, c = d.y;
                return DayPilot.list(f.rowlist).forEach(function(e, i) {
                    DayPilot.list(e.lines).forEach(function(e, n) {
                        var a = d.x;
                        DayPilot.list(e).forEach(function(e) {
                            var n = f.bi(e.start()).i, r = f.bi(e.end()).i, o = 1 + r - n;
                            t.cell(n + a, i + c).setText(e.client.html()).setColspan(o).setStyle(l), a += o - 1;
                        });
                    }), c += e.lines.length - 1;
                }), e;
            }, b.ee = null, b.fe = null, b.generate = function(e, t) {
                function i(e) {
                    var t = u.grid.y + b.kk(e) - b.lk(e);
                    t += DayPilot.Util.atLeast(0, u.grid.y - t);
                    var i = f.treeEnabled && !e.isNewRow, n = 10, a = i ? e.level * f.treeIndent + f.treeImageMarginLeft : 3;
                    "Disabled" !== f.rowMoveHandling && (a += 10);
                    var r = {
                        x: 0,
                        y: t,
                        w: u.grid.x + 1,
                        h: e.height + 1
                    }, o = e;
                    if (ne) {
                        o = f.sk(e).row;
                    }
                    var s = {};
                    s.text = o.html, f.rowHeaderColumns && f.rowHeaderColumns.length > 0 && f.Di() && (s.text = o.columns[0].text), 
                    s.backColor = o.backColor || q, s.fontSize = V.size, s.fontFamily = V.family, s.fontStyle = V.style, 
                    s.fontColor = o.fontColor || J, s.borderColor = g, s.horizontalAlignment = "left", 
                    s.verticalAlignment = "center", s.row = f.Ti(e), s.row.columns = [], o.columns && o.columns.forEach(function(e) {
                        var t = DayPilot.Util.copyProps(e, {}, [ "text", "html", "backColor", "horizontalAlignment", "verticalAlignment" ]);
                        t.text = e.text || e.html, t.fontSize = s.fontSize, t.fontFamily = s.fontFamily, 
                        t.fontStyle = s.fontStyle, t.fontColor = s.fontColor, t.horizontalAlignment = t.horizontalAlignment || s.horizontalAlignment, 
                        t.verticalAlignment = t.verticalAlignment || s.verticalAlignment, t.backColor = t.backColor || s.backColor, 
                        s.row.columns.push(t);
                    }), e.isNewRow && (s.text = f.rowCreateHtml), ae && f.onBeforeRowHeaderExport(s);
                    var l = 10, c = {
                        x: a,
                        y: t + f.treeImageMarginTop + 2,
                        w: 10,
                        h: l
                    }, h = {
                        size: s.fontSize,
                        family: s.fontFamily,
                        style: s.fontStyle
                    };
                    "center" === s.verticalAlignment && (c.y = t + r.h / 2 - 5);
                    var p = i ? a + n + 3 : a, m = i ? r.w - p : r.w, y = {
                        x: p,
                        y: t,
                        w: m,
                        h: e.height + 1
                    };
                    if (f.rowHeaderCols && (y.w = f.rowHeaderCols[0] - p), d.fillRect(r, s.backColor), 
                    d.text(y, s.text, h, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment), 
                    d.rect(r, s.borderColor), i) {
                        var w = null;
                        w = DayPilot.list(e.children).isEmpty() ? v.nochildren : e.expanded || b.ee.includeHiddenRows ? v.collapse : v.expand, 
                        d.image(c, w);
                    }
                    if (f.rowHeaderCols) {
                        var a = r.x;
                        DayPilot.list(f.rowHeaderCols).forEach(function(e, t) {
                            if (0 !== t) {
                                var i = f.Di() ? t : t - 1, n = s.row.columns[i] || {}, o = DayPilot.Util.copyProps(r);
                                o.x = a, o.w = e + 1;
                                var l = 3, c = DayPilot.Util.copyProps(o);
                                c.x += l, c.w -= l;
                                var h = n.backColor || s.backColor;
                                d.fillRect(o, h), n.text && d.text(c, n.text, {
                                    size: n.fontSize,
                                    family: n.fontFamily,
                                    style: n.fontStyle
                                }, n.fontColor, n.horizontalAlignment, 0, n.verticalAlignment), d.rect(o, s.borderColor);
                            }
                            a += e;
                        });
                    }
                }
                function n(e, t, i) {
                    var n = f.itline[e], a = f.uj[i].rowlist[t], r = f.Pj(e, t, i), o = r.business, s = f.tk(e, t, i), l = r.html, c = r.horizontalAlignment || "left", h = r.backColor || (o ? U : L);
                    re && (s || (s = {}, s.cell = f.cells.findXy(e, t, i)[0]), s.text = l, s.horizontalAlignment = c, 
                    s.backColor = h, f.onBeforeCellExport(s), l = s.text, c = s.horizontalAlignment, 
                    h = s.backColor);
                    var v = u.grid.y + b.kk(a) - b.lk(a);
                    v += DayPilot.Util.atLeast(0, u.grid.y - v);
                    var p = u.grid.x + n.left - Z;
                    p += DayPilot.Util.atLeast(0, u.grid.x - p);
                    var m = {
                        x: p,
                        y: v,
                        w: n.width,
                        h: a.height
                    };
                    d.fillRect(m, h);
                    var g = {};
                    g.x = m.x + 1, g.y = m.y + 1, g.w = m.w - 2, g.h = m.h - 2, l && d.text(g, l, z, O, c);
                }
                function a(e) {
                    var t = u.grid.y + b.kk(e) - b.lk(e);
                    t += DayPilot.Util.atLeast(0, u.grid.y - t), t !== u.grid.y && ("main" === e.grid && t > b.bottomFrozenY() || (d.line(u.gridContent.x + 1, t, u.gridContent.x + u.gridContent.w - 1, t, I), 
                    "top" === e.grid && e === f.uj.top.rowlist.last() && d.line(u.gridContent.x + 1, t + e.height, u.gridContent.x + u.gridContent.w - 1, t + e.height, I)));
                }
                function r(e, t) {
                    var i = u.grid.x + e.left - Z;
                    if (i += DayPilot.Util.atLeast(0, u.grid.x - i), i !== u.grid.x) {
                        var n = u.grid.y + 1, a = u.grid.y + u.grid.h - 2;
                        "top" === t && (a = n + f.uj.top.height), "bottom" === t && (n = b.bottomFrozenY()), 
                        d.line(i, n, i, a, I);
                    }
                }
                function o(e) {
                    function t() {
                        var e = R.backColor;
                        d.diamond(P, e);
                    }
                    function i() {
                        var e = {
                            x: h,
                            y: c,
                            w: s,
                            h: R.barHeight
                        }, t = {
                            x: h + E,
                            y: c,
                            w: A,
                            h: R.barHeight
                        }, i = D, n = {
                            x: h,
                            y: c + 5,
                            h: P.h - 6 - 5,
                            w: P.w
                        };
                        d.fillRect(n, i), d.upperRightCorner({
                            x: h + P.w - 6,
                            y: n.y + n.h,
                            w: 6,
                            h: 6
                        }, i), d.upperLeftCorner({
                            x: h,
                            y: n.y + n.h,
                            w: 6,
                            h: 6
                        }, i), l && (d.fillRect(e, g), A > 0 && d.fillRect(t, m));
                    }
                    function n(t, i) {
                        var n = p.versions[i];
                        d.groupStart({
                            type: "event-version",
                            "event-id": e.id()
                        });
                        var a = t.width, r = u.grid.y + o + t.top - ee;
                        r += DayPilot.Util.atLeast(0, u.grid.y - r);
                        var s = u.grid.x + t.left - Z + 1, l = DayPilot.Util.atLeast(0, u.grid.x - s);
                        s += l, a -= l;
                        var c = f.eventVersionHeight, h = f.durationBarVisible && !n.barHidden, v = h ? f.durationBarHeight : 0, m = {
                            x: s,
                            y: r,
                            w: a,
                            h: c
                        };
                        d.fillRect(m, n.backColor || R.backColor);
                        var g = {
                            x: s + H,
                            y: r + v,
                            w: DayPilot.Util.atLeast(0, a - H),
                            h: c - v
                        };
                        if (d.text(g, n.text, {
                            size: R.fontSize,
                            family: R.fontFamily,
                            style: R.fontStyle
                        }, R.fontColor, R.horizontalAlignment, R.textPadding, R.verticalAlignment), d.rect(m, n.borderColor || R.borderColor), 
                        h) {
                            var y = n.barBackColor || M, b = n.barColor || _, w = 100 * t.barLeft / a, k = Math.ceil(100 * t.barWidth / a), C = {
                                x: s,
                                y: r + 1,
                                w: a,
                                h: v
                            }, x = {
                                x: s + w,
                                y: r + 1,
                                w: k,
                                h: v
                            };
                            d.fillRect(C, y), k > 0 && d.fillRect(x, b);
                        }
                        d.groupEnd();
                    }
                    function a() {
                        var t = {
                            x: h,
                            y: c,
                            w: s,
                            h: R.barHeight
                        }, i = {
                            x: h + E,
                            y: c,
                            w: A,
                            h: R.barHeight
                        }, n = {
                            x: h + H,
                            y: c + R.barHeight,
                            w: s - H,
                            h: e.part.height - R.barHeight
                        };
                        d.fillRect(P, R.backColor), d.text(n, R.text, {
                            size: R.fontSize,
                            family: R.fontFamily,
                            style: R.fontStyle
                        }, R.fontColor, R.horizontalAlignment, R.textPadding, R.verticalAlignment), d.rect(P, R.borderColor), 
                        l && (d.fillRect(t, g), A > 0 && d.fillRect(i, m)), DayPilot.list(R.areas).forEach(function(t) {
                            if (DayPilot.Areas.isVisible(t)) {
                                var i = {
                                    type: "event-area"
                                };
                                "undefined" != typeof t.id && (i.id = t.id), d.groupStart(i);
                                var n = 0;
                                "number" == typeof t.left ? n = t.left : t.start ? n = f.getPixels(new DayPilot.Date(t.start)).left - e.part.left : "number" == typeof t.right && (n = e.part.width - t.right - t.width);
                                var a = t.width || t.w;
                                "number" == typeof t.right ? a = e.part.width - t.right - n : t.end && (a = f.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                var r = t.top || 0, o = t.height || t.h;
                                "number" == typeof t.bottom && (o = e.part.height - t.bottom - r), o || (o = e.part.height - r);
                                var s = {
                                    x: h + n,
                                    y: c + r,
                                    w: a,
                                    h: o
                                };
                                if (t.backColor && d.fillRect(s, t.backColor), t.icon) {
                                    var l = f.ce.areaIcon(t.icon);
                                    d.text(s, l.text, l.font, t.fontColor || R.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                                } else if (t.image) {
                                    var u = new Image();
                                    u.src = t.image, d.image(s, u);
                                } else (t.text || t.html) && d.text(s, t.text || t.html, {
                                    size: t.fontSize || R.fontSize,
                                    family: t.fontFamily || R.fontFamily,
                                    style: t.fontStyle || R.fontStyle
                                }, t.fontColor || R.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                                d.groupEnd();
                            }
                        });
                    }
                    var r = f.uj[e.part.grid].rowlist[e.part.dayIndex], o = b.kk(r), s = e.part.width, l = e.client && e.client.barVisible && e.client.barVisible(), c = u.grid.y + o + e.part.top - b.lk(r), h = u.grid.x + e.part.left - Z + 1, v = DayPilot.Util.atLeast(0, u.grid.x - h);
                    h += v, s -= v;
                    var p = e.cache || e.data, m = p.barColor || _, g = p.barBackColor || M, y = p.backColor || S, w = p.fontColor || x, E = e.part.barLeft, A = e.part.barWidth;
                    "PercentComplete" === f.durationBarMode && (E = 0, A = DayPilot.Util.atLeast(0, Math.floor(e.part.width * (p.complete || 0) / 100))), 
                    "Milestone" === e.data.type && (y = T);
                    var H = 2, R = {};
                    R.e = e, R.text = e.text ? e.text() : e.client.html(), R.areas = p.areas, R.fontSize = C.size, 
                    R.fontFamily = C.family, R.fontStyle = C.style, R.fontColor = w, R.backColor = y, 
                    R.borderColor = k, R.horizontalAlignment = "left", R.verticalAlignment = "center", 
                    R.barHeight = 4, R.textPadding = 2, "function" == typeof f.onBeforeEventExport && f.onBeforeEventExport(R);
                    var P = {
                        x: h,
                        y: c,
                        w: s,
                        h: e.part.height
                    };
                    d.groupStart({
                        type: "event",
                        id: e.id()
                    }), "Milestone" === e.data.type ? t() : "Group" === e.data.type ? i() : a();
                    var N = p.textLeft || p.htmlLeft;
                    if (N) {
                        var L = {
                            size: R.fontSize,
                            family: R.fontFamily,
                            style: R.fontStyle
                        }, U = d.textWidth(N, L), z = {
                            x: h - (f.eventHtmlLeftMargin + U),
                            y: c,
                            w: U,
                            h: e.part.height
                        };
                        d.text(z, N, L, B);
                    }
                    var O = p.textRight || p.htmlRight;
                    if (O) {
                        var j = {
                            size: R.fontSize,
                            family: R.fontFamily,
                            style: R.fontStyle
                        }, I = d.textWidth(O, j), W = {
                            x: h + s + f.eventHtmlRightMargin,
                            y: c,
                            w: I,
                            h: e.part.height
                        };
                        d.text(W, O, j, B);
                    }
                    d.groupEnd(), (e.versions || []).forEach(n);
                }
                "object" == typeof e && (t = e, e = null);
                var t = t || {}, e = e || t.format || "svg", s = t.scale || 1;
                if ("xls" === e) return b.excelBoard();
                "jpg" === e.toLowerCase() && (e = "jpeg");
                var l = t.area || "viewport";
                b.ee = DayPilot.Util.copyProps(t), b.fe = l, b.ee.includeHiddenRows = b.ee.includeHiddenRows && "range" === l, 
                b.getRows().forEach(function(e) {
                    f.rk(e);
                });
                var d, c = b.getWidth(), h = b.getHeight();
                switch (e.toLowerCase()) {
                  case "svg":
                    d = new DayPilot.Svg(c, h);
                    break;

                  case "png":
                    d = new DayPilot.Canvas(c, h, "image/png", s);
                    break;

                  case "jpeg":
                    d = new DayPilot.Canvas(c, h, "image/jpeg", s, t.quality);
                    break;

                  default:
                    throw "Export format not supported: " + e;
                }
                var u = b.getRectangles(), v = b.getImages(), p = new DayPilot.StyleReader(f.nav.top).get("background-color"), m = new DayPilot.StyleReader(f.nav.corner).get("background-color"), g = new DayPilot.StyleReader(f.nav.top).get("border-top-color"), y = new DayPilot.StyleReader(f.nav.divider).get("background-color"), w = DayPilot.list(f.elements.events).filter(function(e) {
                    return !e.event.data.type;
                }).map(function(e) {
                    return e.firstChild;
                }).last(), k = new DayPilot.StyleReader(w).get("border-right-color"), C = b.getFont(w), x = new DayPilot.StyleReader(w).get("color"), S = new DayPilot.StyleReader(w).get("background-color");
                S = DayPilot.Util.isTransparentColor(S) ? "white" : S;
                var E = b.fakeMilestone(), T = new DayPilot.StyleReader(E.firstChild).get("background-color");
                DayPilot.de(E);
                var A = b.fakeGroup(), D = new DayPilot.StyleReader(A.firstChild).get("background-color");
                DayPilot.de(A);
                var H = b.fakeDurationBar(), M = new DayPilot.StyleReader(H.firstChild).get("background-color"), _ = new DayPilot.StyleReader(H.firstChild.firstChild).get("background-color");
                DayPilot.de(H);
                var R = b.fakeEventLeft(), B = new DayPilot.StyleReader(R).get("color");
                DayPilot.de(R);
                var P = b.fakeCell(), L = new DayPilot.StyleReader(P).get("background-color");
                DayPilot.Util.addClass(P, f.C("_cell_business"));
                var U = new DayPilot.StyleReader(P).get("background-color"), z = b.getFont(P), O = new DayPilot.StyleReader(P).get("color");
                DayPilot.de(P);
                var j = DayPilot.Util.firstPropValue(f.L.linesVertical), I = new DayPilot.StyleReader(j).get("background-color"), W = f.L.timeHeader["0_0"], F = b.getFont(W), G = new DayPilot.StyleReader(W).get("color"), Y = new DayPilot.StyleReader(W).get("background-color"), X = b.fakeRowHeader(), V = b.getFont(X), J = new DayPilot.StyleReader(X).get("color"), q = new DayPilot.StyleReader(X).get("background-color");
                if (DayPilot.de(X), f.rowHeaderColumns && f.rj && f.rj.blocks[0]) var K = f.rj.blocks[0].section.firstChild, $ = new DayPilot.StyleReader(K).getFont(), Q = new DayPilot.StyleReader(K).get("color");
                var Z = b.getViewportOffsetStart(), ee = b.getViewportOffsetTop();
                d.fillRect(u.main, "white"), d.fillRect(u.main, p), d.fillRect(u.corner, m);
                var te = u.corner.x;
                DayPilot.list(f.rowHeaderColumns).forEach(function(e, t) {
                    var i = f.rowHeaderCols[t], n = {};
                    n.x = te, n.w = i + 1, n.y = u.corner.h - f.rj.height, n.h = f.rj.height + 1;
                    var a = 3, r = DayPilot.Util.copyProps(n);
                    r.x += a, r.w -= a;
                    var o = e.name || e.title || "";
                    d.text(r, o, $, Q, "left", 0, "center"), d.rect(n, g), te += i;
                });
                var ie = "function" == typeof f.onBeforeTimeHeaderExport, ne = "function" == typeof f.onBeforeRowHeaderRender, ae = "function" == typeof f.onBeforeRowHeaderExport, re = "function" == typeof f.onBeforeCellExport;
                b.getRows().forEach(i), b.getRowsTop().forEach(i), b.getRowsBottom().forEach(i), 
                b.getRows().forEach(function(e, t, i) {
                    var t = e.index;
                    b.getTimeline().forEach(function(i, a, r) {
                        var a = r.offset + a;
                        n(a, t, e.grid);
                    });
                }), b.getRows().forEach(a), b.getTimeline().forEach(function(e) {
                    r(e, "main");
                });
                var oe = b.getTimeline().last();
                return function(e) {
                    if (e) {
                        var t = u.grid.x + e.left - Z + e.width;
                        d.line(t, u.grid.y + 1, t, u.grid.y + u.grid.h - 2, I);
                    }
                }(oe), b.getSeparators().forEach(function(e) {
                    var t = u.grid.x + e.left - Z;
                    d.line(t, u.grid.y + 1, t, u.grid.y + u.grid.h - 2, e.color);
                }), b.getLinks().forEach(function(e) {
                    e.map(function(e) {
                        return b.shiftableSegment(e).shift(u.grid.x - Z, u.grid.y - ee);
                    }).forEach(function(e) {
                        switch (e.type) {
                          case "HorizontalLine":
                            d.line(e.startX, e.startY, e.endX, e.endY, "red");
                            break;

                          case "VerticalLine":
                            d.line(e.startX, e.startY, e.endX, e.endY, "red");
                            break;

                          case "ArrowRight":
                            d.triangle({
                                x: e.startX - 10,
                                y: e.startY - 4.5,
                                w: 10,
                                h: 10
                            }, "red");
                            break;

                          case "ArrowDown":
                            d.triangle({
                                x: e.startX - 4.5,
                                y: e.startY - 10,
                                w: 10,
                                h: 10
                            }, "red", 90);
                            break;

                          case "ArrowLeft":
                            d.triangle({
                                x: e.startX,
                                y: e.startY - 4.5,
                                w: 10,
                                h: 10
                            }, "red", 180);
                            break;

                          case "ArrowUp":
                            d.triangle({
                                x: e.startX - 4.5,
                                y: e.startY,
                                w: 10,
                                h: 10
                            }, "red", -90);
                        }
                    });
                }), b.getEvents().forEach(o), b.getRowsTopAndBottom().forEach(function(e, t, i) {
                    var t = e.index;
                    b.getTimeline().forEach(function(i, a, r) {
                        var a = r.offset + a;
                        n(a, t, e.grid);
                    }), a(e);
                }), b.getTimeline().forEach(function(e) {
                    r(e, "top"), r(e, "bottom");
                }), b.getEventsFrozen().forEach(o), DayPilot.list(f.timeHeader).forEach(function(e, t) {
                    b.getTimeHeader(t, l).forEach(function(e) {
                        var i = u.grid.x + e.left - Z, n = e.width, a = N.timeHeader(t), r = a.top, o = a.height, s = {};
                        s.header = {}, s.header.start = e.start, s.header.end = e.end, s.header.level = t, 
                        s.header.text = e.text, s.header.html = e.innerHTML, s.text = e.innerHTML, s.backColor = e.backColor, 
                        s.verticalAlignment = "center", s.horizontalAlignment = "center", ie && f.onBeforeTimeHeaderExport(s);
                        var l = DayPilot.Util.atLeast(0, u.grid.x - i);
                        i += l, n -= l;
                        var l = DayPilot.Util.atLeast(0, i + n - (u.grid.x + u.grid.w));
                        n -= l;
                        var c = {
                            x: i,
                            y: r,
                            w: n + 1,
                            h: o + 1
                        };
                        d.fillRect(c, s.backColor || Y), d.rect(c, g), d.text(c, s.text, F, G, s.horizontalAlignment, 0, s.verticalAlignment);
                    });
                }), d.rect(u.main, g), d.line(u.grid.x, 0, u.grid.x, u.main.h, y), d.line(0, u.grid.y, u.main.w, u.grid.y, y), 
                d;
            }, b.areaIcon = function(e) {
                var t = b.fakeIcon(e);
                document.body.appendChild(t);
                var i = window.getComputedStyle(t, ":before").content.replace(/"/g, ""), n = new DayPilot.StyleReader(t).getFont();
                return document.body.removeChild(t), {
                    text: i,
                    font: n
                };
            }, b.shiftableSegment = function(e) {
                return {
                    startX: e.startX,
                    endX: e.endX,
                    startY: e.startY,
                    endY: e.endY,
                    type: e.type,
                    shift: function(t, i) {
                        return b.shiftableSegment({
                            startX: e.startX + t,
                            endX: e.endX + t,
                            startY: e.startY + i,
                            endY: e.endY + i,
                            type: e.type
                        });
                    }
                };
            }, this.uk = {};
            var w = this.uk;
            w.findJointDivs = function(e) {
                var t = e.data.join;
                return t ? DayPilot.list(f.elements.events).filter(function(i) {
                    return i.event.data.join === t && i.event !== e;
                }) : DayPilot.list();
            }, this.vk = {};
            var k = this.vk;
            k.divs = [], k.list = [], k.forbidden = !1, k.additional = function() {
                var e = DayPilot.list(), t = f.multiselect.isSelected(o.resizing.event), i = f.allowMultiResize, e = DayPilot.list();
                if (t && i && (e = DayPilot.list(f.multiselect.Wb).filter(function(e) {
                    return e !== o.resizing;
                })), f.jointEventsResize) {
                    var n = w.findJointDivs(o.resizingEvent);
                    e = e.concat(n);
                }
                return e;
            }, k.update = function() {
                k.clear(), k.draw();
            }, k.clear = function() {
                DayPilot.de(k.divs), k.divs = [];
            }, k.isInvalid = function() {
                return k.divs.some(function(e) {
                    return e.info.invalid;
                });
            }, k.wk = function() {
                return f.xk(k.list);
            }, k.yk = function() {
                if (o.resizing) {
                    var e = o.resizingEvent, t = o.resizingShadow, i = t.start.getTime() - e.start().getTime(), n = t.end.getTime() - e.end().getTime(), a = 0;
                    k.list = [], k.forbidden = !1, k.invalid = !1, k.rowoffset = a, k.additional().forEach(function(e) {
                        if (e.event) {
                            var t = e.event, r = f.rowlist[t.part.dayIndex + a];
                            if (!r) return void (k.invalid = !0);
                            var o = t.start().addTime(i), s = t.end().addTime(n), l = {};
                            l.$ = {}, o >= s && (l.invalid = !0, i > 0 ? l.$.zk = s.addSeconds(-1) : n < 0 && (l.$.Ak = o.addSeconds(1))), 
                            l.event = t, l.start = o, l.end = s, l.$.Bk = r, k.list.push(l);
                        }
                    });
                }
            }, k.Ck = function() {
                var e = 0;
                if (k.list.forEach(function(e) {
                    var t = e.event, i = e.$.Bk, n = t.part.top + i.top, a = t.part.height, r = f.getPixels(e.start), o = f.getPixels(e.end);
                    e.$.zk && (r = f.getPixels(e.$.zk)), e.$.Ak && (o = f.getPixels(e.$.Ak));
                    var s = DayPilot.DateUtil.diff(t.rawend(), t.start());
                    s = DayPilot.Util.atLeast(s, 1);
                    var l = P.useBox(s), d = l ? r.boxLeft : r.left, c = l ? o.boxRight - d : o.left - d, h = document.createElement("div");
                    h.style.position = "absolute", h.style.left = d + "px", h.style.top = n + "px", 
                    h.style.height = a + "px", h.style.width = c + "px", h.style.zIndex = 101, h.style.overflow = "hidden", 
                    h.className = f.C("_shadow"), h.info = e;
                    var u = document.createElement("div");
                    u.className = f.C("_shadow_inner"), h.appendChild(u), f.mh.appendChild(h), k.divs.push(h);
                }), k.invalid) {
                    var t = f.C("_shadow_overlap");
                    return void DayPilot.list(k.divs).forEach(function(e) {
                        DayPilot.Util.addClass(e, t);
                    });
                }
                DayPilot.list(k.divs).forEach(function(t) {
                    if (t.info) {
                        var i = t, n = t.info, a = t.info.event, r = f.rowlist[a.part.dayIndex + e], s = f.getPixels(n.start), l = f.getPixels(n.end), d = s.left, c = l.left - d;
                        t.info.invalid && DayPilot.Util.addClass(t, f.C("_shadow_invalid"));
                        var h = DayPilot.list(k.list).map(function(e) {
                            return e.event.data;
                        }).add(o.resizing.event.data);
                        f.Dk(i, r, d, c, h), f.Ek(i, n.start, n.end, a.resource()), i.overlapping && (n.overlapping = !0, 
                        k.forbidden = !0);
                    }
                });
            }, k.draw = function() {
                k.yk(), k.Ck();
            }, this.Fk = {}, this.Fk.modifiedProps = function() {
                var e = new DayPilot.Scheduler(), t = DayPilot.Util.members(f, 2), i = [];
                return i.push("<div id='dp'></div>"), i.push("<script>"), i.push("var dp = new DayPilot.Scheduler('dp');"), 
                t.properties.forEach(function(t) {
                    var n, a, r = t.name, o = r.split(".");
                    if (o.length > 1) {
                        var s = o[0], l = o[1];
                        n = JSON.stringify(e[s][l]), a = JSON.stringify(f[s][l]);
                    } else n = JSON.stringify(e[r]), a = JSON.stringify(f[r]);
                    n !== a && i.push("dp." + r + " = " + a + ";");
                }), t.events.forEach(function(e) {
                    var t = e.name;
                    "function" == typeof f[t] && i.push("dp." + t + " = " + f[t].toString() + ";");
                }), i.push("dp.init();"), i.push("</script>"), i.join("\n");
            }, this.Gk = {};
            var C = this.Gk;
            C.divs = [], C.list = [], C.forbidden = !1, C.Hk = 0, C.verticalAll = function() {
                return "All" === f.multiMoveVerticalMode;
            }, C.additional = function() {
                var e = DayPilot.list(), t = f.ci, i = f.multiselect.isSelected(o.movingEvent), n = f.allowMultiMove;
                if (i && n && (e = DayPilot.list(f.multiselect.Wb).filter(function(e) {
                    return e !== o.moving && e !== t.moving;
                })), f.jointEventsMove) {
                    var a = w.findJointDivs(o.movingEvent);
                    e = e.concat(a);
                }
                return e;
            }, C.update = function() {
                C.clear(), C.draw();
            }, C.wk = function() {
                return f.xk(C.list);
            }, C.yk = function() {
                if (C.list = [], C.rowoffset = 0, o.moving) {
                    var e = o.movingEvent, t = o.movingShadow.start, i = t.getTime() - e.start().getTime(), n = e.part.dayIndex, a = DayPilot.indexOf(f.rowlist, o.movingShadow.row), r = a - n;
                    C.verticalAll() || (r = 0), C.forbidden = !1, C.invalid = !1, C.rowoffset = r, C.additional().forEach(function(e) {
                        if (e.event) {
                            var t = e.event, n = f.rowlist[t.part.dayIndex + r];
                            if (!n) return void (C.invalid = !0);
                            var a = t.start().addTime(i), o = t.end().addTime(i), s = {};
                            s.event = t, s.start = a, s.end = o, s.resource = n.id, C.list.push(s);
                        }
                    });
                }
            }, C.Ck = function() {
                C.rowoffset;
                if (C.list.forEach(function(e) {
                    var t = e.start, i = e.end, n = e.event, a = f.getPixels(t), r = f.getPixels(i), o = DayPilot.DateUtil.diff(n.rawend(), n.start());
                    o = DayPilot.Util.atLeast(o, 1);
                    var s = P.useBox(o), l = f.ph(e.resource);
                    if (!l) return void (C.invalid = !0);
                    e.$ = {}, e.$.Bk = l;
                    var d = s ? a.boxLeft : a.left, c = s ? r.boxRight - d : r.left - d, h = n.part.top + l.top, u = n.part.height;
                    e.resource !== e.event.data.resource && (h = l.top, u = l.height);
                    var v = document.createElement("div");
                    v.style.position = "absolute", v.style.left = d + "px", v.style.top = h + "px", 
                    v.style.height = u + "px", v.style.width = c + "px", v.style.overflow = "hidden", 
                    v.className = f.C("_shadow"), v.info = e;
                    var p = document.createElement("div");
                    p.className = f.C("_shadow_inner"), v.appendChild(p), f.mh.appendChild(v), C.divs.push(v);
                }), C.invalid) {
                    var e = f.C("_shadow_overlap");
                    return void DayPilot.list(C.divs).forEach(function(t) {
                        DayPilot.Util.addClass(t, e);
                    });
                }
                DayPilot.list(C.divs).forEach(function(e) {
                    if (e.info) {
                        var t = e, i = e.info, n = (e.info.event, e.info.$.Bk), a = f.getPixels(i.start), r = f.getPixels(i.end), s = a.left, l = r.left - s, d = DayPilot.list(C.list).map(function(e) {
                            return e.event.data;
                        }).add(o.movingEvent.data);
                        f.Dk(t, n, s, l, d), f.Ek(t, i.start, i.end, i.resource), i.overlapping = !1, t.overlapping && (i.overlapping = !0, 
                        C.forbidden = !0);
                    }
                });
            }, C.draw = function() {
                C.yk(), C.Ck();
            }, C.clear = function() {
                DayPilot.de(C.divs), C.divs = [];
            }, this.xk = function(e, t) {
                return t = [ "$" ].concat(t || []), e.map(function(e) {
                    var i = e, n = {};
                    for (var a in i) {
                        var r = t && DayPilot.indexOf(t, a) !== -1;
                        i.hasOwnProperty(a) && "undefined" != typeof i[a] && (r ? Object.defineProperty(n, a, {
                            value: i[a]
                        }) : n[a] = i[a]);
                    }
                    return n;
                });
            }, this.Ik = function() {
                var e = f.coords, t = o.resizing.dpBorder, i = o.resizing.event, n = i.part.left;
                "right" == t && (n += i.part.width);
                var a, r, s = o.resizing.event.calendar.cellWidth, l = o.resizing.event.part.width, d = o.resizing.event.part.left, c = 0, h = e.x - n, u = f.snapToGrid && f.snapToGridEventResizing;
                if ("right" === t) {
                    if (a = d, u) {
                        var v = f._h(l + d + h).cell, p = f._h(d).cell, m = p.left + p.width - d;
                        r = v.left + v.width - d, r < m && (r = m);
                    } else r = l + h;
                    var g = f.Ch();
                    d + r > g && (r = g - d), o.resizingShadow.left = d, o.resizingShadow.width = r;
                } else {
                    if ("left" !== t) throw "Invalid dpBorder.";
                    u ? (h >= l && (h = l), a = Math.floor((d + h + 0) / s) * s, a < c && (a = c)) : a = d + h, 
                    r = l - (a - d);
                    var y = d + l, b = s;
                    u ? "Never" === f.useEventBoxes && (b = l < s ? l : 1) : b = 1, r < b && (r = b, 
                    a = y - r), o.resizingShadow.left = a, o.resizingShadow.width = r;
                }
                !function() {
                    o.resizingShadow.overlapping = !1;
                    var e = o.resizing.event, t = f.rowlist[e.part.dayIndex], i = a, n = r;
                    f.Dk(o.resizingShadow, t, i, n, e.data);
                    var s = o.resizingShadow;
                    if (s.start) {
                        var l = {
                            start: s.start,
                            end: f.$f(s.end)
                        };
                        f.Ek(o.resizingShadow, l.start, l.end, t.id);
                    }
                }(), f.Jk();
            }, this.hk = function() {
                this.nav.scroll;
                if (f.coords && o.movingEvent) {
                    f.Hh();
                    var e = o.movingShadow, t = this.tj(o.movingEvent);
                    if (!f.vj(t.rowIndex, t.grid)) {
                        var i = o.movingEvent, n = i.cache && "undefined" != typeof i.cache.moveVDisabled ? !i.cache.moveVDisabled : !i.data.moveVDisabled, a = i.cache && "undefined" != typeof i.cache.moveHDisabled ? !i.cache.moveHDisabled : !i.data.moveHDisabled, r = !C.additional().isEmpty();
                        r && "Disabled" === f.multiMoveVerticalMode && (n = !1), n && t.grid !== e.grid && (e.parentNode.removeChild(e), 
                        f.uj[t.grid].divShadow.appendChild(e), e.grid = t.grid);
                        var s = 0, l = 0;
                        if (function() {
                            if (f.Jg) {
                                var e = t.relativeY, i = f._h(t.left).x, n = t.row, a = n.evColumns[i], r = a.events.find(function(t) {
                                    return e < t.part.top + t.part.height + f.eventMarginBottom;
                                });
                                r || (r = a.events.last()), r && (l = r.part.top, s = DayPilot.indexOf(a.events, r), 
                                e - r.part.top > r.part.height / 2 && (l = r.part.top + r.part.height + f.eventMarginBottom / 2, 
                                s += 1));
                            } else {
                                for (var e = t.relativeY, n = t.row, o = 0, d = f.$c.eventHeight(), c = n.lines.length, h = 0; h < n.lines.length; h++) {
                                    if (n.lines[h].isFree(t.left, f.cellWidth)) {
                                        c = h;
                                        break;
                                    }
                                }
                                var u = Math.floor((e - o + d / 2) / d), u = Math.min(c, u), u = DayPilot.Util.atLeast(0, u);
                                s = u, l = f.rowMarginTop + s * (f.$c.eventHeight() + f.eventMarginBottom) + f.eventMarginBottom / 2;
                            }
                        }(), l > 0 && (l -= 3), n) if (this.vj(t.rowIndex, t.grid)) {
                            var d = e.row, c = 1;
                            if (!d) return;
                            c = t.rowIndex < d.index ? 1 : -1;
                            for (var h = t.rowIndex; h !== d.index; h += c) {
                                var u = this.rowlist[h];
                                if (!this.vj(h, t.grid) && !u.hidden) {
                                    e.style.top = u.top + "px", e.style.height = DayPilot.Util.atLeast(u.height, 0) + "px", 
                                    e.row = u, f.eventMoveToPosition && (s = c > 0 ? 0 : u.lines.length - 1, e.style.top = t.top + l + "px", 
                                    e.style.height = "3px", e.line = s);
                                    break;
                                }
                            }
                        } else e.row = t.row, e.style.height = DayPilot.Util.atLeast(t.row.height, 0) + "px", 
                        e.style.top = t.top + "px", f.eventMoveToPosition && (e.style.top = t.top + l + "px", 
                        e.style.height = "3px", e.line = s); else {
                            for (var v = f.uj[i.part.grid].rowlist, d = v[i.part.dayIndex], p = d.lines.length, h = 0; h < d.lines.length; h++) {
                                if (d.lines[h].isFree(t.left, f.cellWidth)) {
                                    p = h;
                                    break;
                                }
                            }
                            if (r || (e.style.height = DayPilot.Util.atLeast(d.height, 0) + "px", e.style.top = d.top + "px"), 
                            e.row = d, f.eventMoveToPosition && !r) if (t.row === d) e.style.top = d.top + l + "px", 
                            e.style.height = "3px", e.line = s; else {
                                var m = t.rowIndex > d.index && p > 0 ? p * f.$c.eventHeight() - 3 : 0;
                                e.style.top = d.top + m + "px", e.style.height = "3px", e.line = 0;
                            }
                        }
                        a ? (e.style.left = t.left + "px", f.eventMoveToPosition ? e.style.width = f.cellWidth + "px" : e.style.width = t.width + "px", 
                        e.start = t.start, e.end = t.end) : (e.style.left = i.part.left + "px", e.start = i.start(), 
                        e.end = i.rawend(), t.left = i.part.left), function() {
                            e.overlapping = !1;
                            var n = e.row, a = i.data, r = t.width, s = t.left, l = DayPilot.list(C.list).map(function(e) {
                                return e.event.data;
                            }).add(a);
                            f.Dk(e, n, s, r, l), f.Ek(o.movingShadow, e.start, e.end, e.row.id);
                        }(), function() {
                            var t = f.ja;
                            if (!t || t.start.getTime() !== e.start.getTime() || t.end.getTime() !== e.end.getTime() || t.resource !== e.row.id) {
                                t && (DayPilot.Util.removeClass(e, t.cssClass), e.firstChild.innerHTML = ""), C.clear(), 
                                C.yk();
                                var n = !!o.drag && i.part.external, a = {};
                                a.start = e.start, a.end = f.$f(e.end), a.duration = new DayPilot.Duration(a.start, a.end), 
                                a.e = i, a.external = n, a.resource = e.row.id, a.html = null, a.row = f.Ti(e.row), 
                                a.position = e.line, a.overlapping = e.overlapping || C.forbidden, a.allowed = !0, 
                                a.left = {}, a.left.html = a.start.toString(f.eventMovingStartEndFormat, P.locale()), 
                                a.left.enabled = f.eventMovingStartEndEnabled, a.left.space = 5, a.left.width = null, 
                                a.left.height = f.eventHeight, a.right = {}, a.right.html = a.end.toString(f.eventMovingStartEndFormat, P.locale()), 
                                a.right.enabled = f.eventMovingStartEndEnabled, a.right.space = 5, a.right.width = null, 
                                a.right.height = f.eventHeight, a.multimove = C.wk(), a.shift = f.coords.shift, 
                                a.ctrl = f.coords.ctrl, a.meta = f.coords.meta, a.alt = f.coords.alt, a.areaData = DayPilot.Global.movingAreaData, 
                                a.link = null, a.cssClass = null, a.html = null;
                                var r = {};
                                r.event = i, r.start = a.start, r.end = a.end, r.overlapping = a.overlapping, r.resource = a.resource, 
                                a.multimove.splice(0, 0, r), f.ja = a;
                                var d = {
                                    start: a.start,
                                    end: a.end,
                                    resource: a.resource
                                };
                                if ("function" == typeof f.onEventMoving && f.onEventMoving(a), C.list = DayPilot.list(a.multimove, !0), 
                                C.list.splice(0, 1), C.Ck(), e.allowed = a.allowed, DayPilot.Util.addClass(e, a.cssClass), 
                                a.html && (e.firstChild.innerHTML = a.html), a.start !== d.start || a.end !== d.end) {
                                    var c = a.start, h = f.Af(a.end);
                                    e.start = c, e.end = h;
                                    var u = DayPilot.DateUtil.diff(c, h);
                                    u = DayPilot.Util.atLeast(u, 1);
                                    var v = P.useBox(u), p = v ? f.getPixels(c).boxLeft : f.getPixels(c).left, m = v ? f.getPixels(h).boxRight : f.getPixels(h).left;
                                    e.style.left = p + "px", e.style.width = m - p + "px";
                                }
                                if (a.resource !== d.resource) {
                                    var y = f.ph(a.resource);
                                    y && (e.row = y, e.style.height = DayPilot.Util.atLeast(y.height, 0) + "px", e.style.top = y.top + "px", 
                                    f.eventMoveToPosition && (e.style.top = y.top + l + "px", e.style.height = "3px", 
                                    e.line = s));
                                }
                                a.html ? e.firstChild.innerHTML = a.html : e.firstChild.innerHTML = "", f.Kk(e, a), 
                                f.Lk(o.movingShadow, a), a.link && (DayPilot.Global.movingLink && DayPilot.Global.movingLink.clear(), 
                                DayPilot.Global.movingLink = g.drawLink2(a.link.from, e, a.link));
                            }
                        }();
                    }
                }
            }, this.Dk = function(e, t, i, n, a) {
                if (!f.allowEventOverlap) {
                    !function() {
                        e.overlapping = !1;
                        for (var r = 0; r < t.lines.length; r++) {
                            if (!t.lines[r].isFree(i, n, a)) return void (e.overlapping = !0);
                        }
                        var o = t.index, s = DayPilot.list(R.list).some(function(t) {
                            var a = t.div, r = parseInt(a.style.left), s = parseInt(a.style.width), l = t.start.y;
                            return e !== a && (l === o && DayPilot.Util.overlaps(i, i + n, r, r + s));
                        });
                        if (s) return void (e.overlapping = !0);
                        if (DayPilot.list(C.divs).some(function(t) {
                            var a = t.info, r = parseInt(t.style.left), s = parseInt(t.style.width), l = a.$.Bk.index;
                            return e !== t && (l === o && DayPilot.Util.overlaps(i, i + n, r, r + s));
                        })) return void (e.overlapping = !0);
                        var s = DayPilot.list(k.divs).some(function(t) {
                            var a = t.info, r = parseInt(t.style.left), s = parseInt(t.style.width), l = a.$.Bk.index;
                            return e !== t && (l === o && DayPilot.Util.overlaps(i, i + n, r, r + s));
                        });
                        return s ? void (e.overlapping = !0) : void 0;
                    }();
                    var r = e.overlapping, o = f.C("_shadow_overlap");
                    r ? DayPilot.Util.addClass(e, o) : DayPilot.Util.removeClass(e, o);
                }
            }, this.Ek = function(e, t, i, n) {
                if (f.cellConfig && f.cellConfig.hasDisabled || f.Uh.Mk) {
                    f.Ib(t, i, n) && (e.overlapping = !0);
                    var a = f.C("_shadow_overlap");
                    e.overlapping ? DayPilot.Util.addClass(e, a) : DayPilot.Util.removeClass(e, a);
                }
            }, this.Ib = function(e, t, i) {
                var n = null;
                "Days" === f.viewType && (n = f.Rj(e));
                var a = f.rows.find(i, n).cells.forRange(e, t);
                return !!a && a.some(function(e) {
                    return e.properties.disabled;
                });
            }, this.Kk = function(e, t) {
                var i = f.C("_shadow_forbidden");
                !t.allowed || C.invalid ? DayPilot.Util.addClass(e, i) : DayPilot.Util.removeClass(e, i);
            }, this.Lk = function(e, t) {
                if (this.Nk(), e.calendar === f) {
                    var i = f.ck(e.grid), n = {};
                    n.left = parseInt(e.style.left), n.top = parseInt(e.style.top), n.right = n.left + parseInt(e.style.width);
                    var a = t.left.width || 10, r = document.createElement("div");
                    if (r.style.position = "absolute", r.style.left = n.left - a - t.left.space + "px", 
                    r.style.top = n.top + "px", r.style.height = t.left.height + "px", r.style.overflow = "hidden", 
                    r.style.boxSizing = "border-box", r.innerHTML = t.left.html, r.className = f.C("_event_move_left"), 
                    r.onmousemove = f.Ok, DayPilot.browser.ie && (r.style.display = "block"), t.left.enabled) if (i.divHover.appendChild(r), 
                    t.left.width) r.style.width = a + "px"; else {
                        r.style.whiteSpace = "nowrap";
                        var o = r.offsetWidth, s = n.left - o - t.left.space;
                        r.style.width = o + "px", r.style.left = s + "px";
                        var l = f.nav.scroll.scrollLeft;
                        s < l && i.divHover.removeChild(r);
                        var d = f.Pk() + (s - l);
                        d > 0 && (r.style.left = d + "px", r.style.top = n.top - i.div.scrollTop + i.top + "px", 
                        f.nav.top.appendChild(r), f.elements.hover.push(r));
                    }
                    var a = t.right.width || 10, c = document.createElement("div");
                    if (c.style.position = "absolute", c.style.left = n.right + t.right.space + "px", 
                    c.style.top = n.top + "px", c.style.height = t.right.height + "px", c.style.overflow = "hidden", 
                    c.style.boxSizing = "border-box", t.right.width ? c.style.width = t.right.width + "px" : c.style.whiteSpace = "nowrap", 
                    c.innerHTML = t.right.html, c.className = this.C("_event_move_right"), c.onmousemove = f.Ok, 
                    DayPilot.browser.ie && (c.style.display = "block"), t.right.enabled) {
                        i.divHover.appendChild(c);
                        var h = f.nav.scroll.scrollWidth;
                        n.right + t.right.space + c.offsetWidth >= h && i.divHover.removeChild(c);
                    }
                }
            }, this.Nk = function() {
                f.divHover.innerHTML = "", f.uj.top.divHover.innerHTML = "", f.uj.bottom.divHover.innerHTML = "", 
                DayPilot.de(f.elements.hover), f.elements.hover = [];
            }, this.Qk = function() {
                var e = f.rowHeaderColumnDefaultWidth;
                this.rowHeaderColumns ? this.rowHeaderCols = DayPilot.Util.propArray(this.rowHeaderColumns, "width", e) : this.rowHeaderCols = null;
            }, this.Pk = function() {
                var e = 0;
                if (this.Qk(), this.rowHeaderCols) for (var t = 0; t < this.rowHeaderCols.length; t++) e += this.rowHeaderCols[t]; else e = this.rowHeaderWidth;
                return e;
            }, this.Rk = function() {
                return this.Sk(f.progressiveRowRenderingPreload);
            }, this.Sk = function(e) {
                var e = e || 0, t = 0, i = f.rowlist.length;
                if (f.progressiveRowRendering) {
                    var n = f.rh();
                    t = n.yStart, i = n.yEnd + 1, t = DayPilot.Util.atLeast(0, t - e), i = Math.min(f.rowlist.length, i + e);
                }
                return {
                    start: t,
                    end: i
                };
            }, this.Tk = function() {
                if (this.Gd()) {
                    var e = !1, t = 0;
                    if (this.rowHeaderWidthAutoFit) {
                        var i = this.divHeader;
                        if (!i) return;
                        if (!i.rows) return;
                        for (var n = [], a = f.Rk(), r = a.start; r < a.end; r++) {
                            var o = i.rows[r];
                            if (o && !o.hidden && !o.autofitDone) {
                                o.autofitDone = !0;
                                for (var s = 0; s < o.cells.length; s++) {
                                    var l = o.cells[s].firstChild.firstChild;
                                    if (l && l.style) {
                                        var d = l.style.width, c = l.style.right, h = l.style.display;
                                        l.style.position = "absolute", l.style.width = "auto", l.style.right = "auto", l.style.whiteSpace = "nowrap", 
                                        l.style.display = "block";
                                        var u = l.offsetWidth + 2;
                                        l.style.position = "", l.style.width = d, l.style.right = c, l.style.display = h, 
                                        l.style.whiteSpace = "", "undefined" == typeof n[s] && (n[s] = 0), n[s] = Math.max(n[s], u);
                                    }
                                }
                            }
                        }
                        if (this.Qk(), this.rowHeaderCols) for (var r = 0; r < n.length; r++) this.rowHeaderCols[r] && (n[r] > this.rowHeaderCols[r] && (this.rowHeaderCols[r] = n[r], 
                        e = !0), t += this.rowHeaderCols[r]); else {
                            t = this.rowHeaderWidth;
                            var v = P.splitterWidth();
                            this.rowHeaderWidth < n[0] + f.rowHeaderWidthMarginRight + v && (t = n[0] + f.rowHeaderWidthMarginRight + v, 
                            e = !0);
                        }
                    }
                    e && (this.rj && (this.rj.widths = this.rowHeaderCols, this.rj.updateWidths(), DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns, "width", this.rowHeaderCols)), 
                    this.rowHeaderCols || (this.rowHeaderWidth = t), this.si(), this.Uk());
                }
            }, this.Vg = function() {
                this.Vk = !0, this.Qk();
                var e = this.Pk(), t = this.divHeader;
                if (t) {
                    if (DayPilot.browser.ie) for (var i = 0; i < t.childNodes.length; i++) DayPilot.de(t.childNodes[i]);
                    f.pj(), t.innerHTML = "", DayPilot.puc(t);
                } else t = document.createElement("div"), t.onmousemove = function() {
                    f.ha();
                }, this.divHeader = t;
                if (t.style.width = e + "px", t.style.height = f.Ng + "px", t.rows = [], f.uj.main.divHeader = t, 
                f.progressiveRowRendering) s(); else for (var n = this.rowlist.length, i = 0; i < n; i++) f.Wk(i);
                if (f.uj.top.enabled()) for (var i = 0; i < f.uj.top.rowlist.length; i++) f.Wk(i, "top");
                if (f.uj.bottom.enabled()) for (var i = 0; i < f.uj.bottom.rowlist.length; i++) f.Wk(i, "bottom");
                f.Xk(), this.divResScroll.appendChild(t), this.rowHeaderWidthAutoFit && this.Tk();
            }, this.ui = function() {
                if (f.progressiveRowRendering) {
                    for (var e = this.Rk(), t = 0; t < f.rowlist.length; t++) e.start <= t && t < e.end ? f.Wk(t) : f.sj(t);
                    if (this.rowHeaderWidthAutoFit) {
                        var i = f.Fh();
                        this.Tk();
                        if (f.Fh() !== i) {
                            var n = this.cellWidth;
                            this.Sg();
                            this.cellWidth !== n && (f.Tg(), f.Wg(), f.Ca(), f.ta(), f.Yk());
                        }
                    }
                }
            }, this.Xk = function() {
                if (!f.$c.mobile()) {
                    var e = f.divHeader, t = document.createElement("div");
                    t.style.position = "absolute", e.appendChild(t), f.nav.resScrollSpace = t, t.setAttribute("unselectable", "on");
                    var i = document.createElement("div");
                    i.style.position = "relative", i.style.height = "100%", i.className = this.C("_rowheader"), 
                    t.appendChild(i);
                    var n = this.Pk(), t = f.nav.resScrollSpace;
                    t.style.width = n + "px", t.style.top = this.Ng + "px", t.style.height = f.divResScroll.clientHeight + 20 + "px";
                }
            }, this.sj = function(e, t) {
                var i = f.ck(t), n = i.divHeader.rows[e];
                if (n) {
                    var a = n.cells[0], r = a.domArgs;
                    if (a.domArgs = null, r && "function" == typeof f.onBeforeRowHeaderDomRemove && f.onBeforeRowHeaderDomRemove(r), 
                    r && "function" == typeof f.onBeforeRowHeaderDomAdd && f.da.reactDOM) {
                        var o = r && r.tc;
                        if (o) {
                            if (DayPilot.Util.isReactComponent(r.element)) {
                                if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                f.da.reactDOM.unmountComponentAtNode(o);
                            }
                        }
                    }
                    DayPilot.de(n.cells), i.divHeader.rows[e] = null;
                }
            }, this.Fi = function(e, t) {
                this.sj(e, t), this.Wk(e, t);
            }, this.Di = function() {
                return "Standard" === f.rowHeaderColumnsMode || "Tabular" === f.rowHeaderColumnsMode;
            }, this.Zk = function(e, t) {
                var i = e.tags && e.tags[t];
                return "undefined" != typeof i ? i : e[t];
            }, this.Wk = function(e, t) {
                function i() {
                    var t = document.createElement("div");
                    if (f.treeEnabled && !h.isNewRow) {
                        var i = h.level * f.treeIndent + f.treeImageMarginLeft;
                        A && (i += D);
                        var n = f.treeImageWidth, a = f.treeImageHeight;
                        t.style.marginLeft = i + "px", t.style.position = "relative", t.className = f.C("_rowheader_inner_indent");
                        var r = document.createElement("div");
                        r.style.width = n + "px", r.style.height = a + "px", r.style.backgroundRepeat = "no-repeat", 
                        r.style.position = "absolute", r.style.top = f.treeImageMarginTop + "px", h.loaded || 0 !== h.children.length ? h.children.length > 0 ? (h.expanded ? r.className = f.C("_tree_image_collapse") : r.className = f.C("_tree_image_expand"), 
                        r.style.cursor = "pointer", r.index = e, r.onclick = function(e) {
                            f.gk(this.index), e = e || window.event, e.cancelBubble = !0;
                        }) : r.className = f.C("_tree_image_no_children") : (r.className = f.C("_tree_image_expand"), 
                        r.style.cursor = "pointer", r.index = e, r.onclick = function(e) {
                            f.hl(this.index), e = e || window.event, e.cancelBubble = !0;
                        }), t.appendChild(r);
                    }
                    var o = document.createElement("div");
                    if (f.treeEnabled) {
                        var s = f.treeImageMarginRight;
                        o.style.marginLeft = n + s + "px";
                    }
                    o.innerHTML = g.html || g.text || "", o.className = f.C("_rowheader_inner_text"), 
                    p.textDiv = o, p.cellDiv = k, t.appendChild(o), T.appendChild(t);
                    var l = g.verticalAlignment || m.verticalAlignment;
                    if (l) switch (T.style.display = "flex", l) {
                      case "center":
                        T.style.alignItems = "center";
                        break;

                      case "top":
                        T.style.alignItems = "flex-start";
                        break;

                      case "bottom":
                        T.style.alignItems = "flex-end";
                    }
                }
                var n = f.ck(t), a = n.rowlist, r = n.divHeader, o = r;
                if (!o.rows[e]) {
                    var s = this.rowHeaderCols, l = s ? this.rowHeaderCols.length : 0, c = this.Pk(), h = a[e];
                    if (h && !h.hidden) {
                        var u = S.L[e], v = this.sk(h);
                        o.rows[e] = {}, o.rows[e].cells = [];
                        var p = document.createElement("div");
                        p.style.position = "absolute", p.style.top = h.top + "px", p.row = h, p.index = e;
                        var m = v.row, g = m, y = f.Di();
                        y && DayPilot.isArray(f.rowHeaderColumns) && (g = v.row.columns[0] || {});
                        var b = s ? s[0] : this.rowHeaderWidth;
                        p.style.width = b + "px", p.style.border = "0px none";
                        var w = g.toolTip || m.toolTip;
                        w && (p.title = w), p.setAttribute("unselectable", "on"), "undefined" != typeof m.ariaLabel ? p.setAttribute("aria-label", m.ariaLabel) : p.setAttribute("aria-label", g.html || g.text || ""), 
                        p.onmouseenter = f.$k, p.onmouseleave = f._k, p.onmousemove = f.al, p.onmouseout = f.bl, 
                        p.onmouseup = f.cl, p.oncontextmenu = f.dl, p.onclick = f.fl, p.ondblclick = f.gl;
                        var k = document.createElement("div");
                        k.style.width = b + "px", k.setAttribute("unselectable", "on"), k.className = this.C("_rowheader"), 
                        u && DayPilot.Util.addClass(k, f.C("_rowheader_selected")), m.cssClass && DayPilot.Util.addClass(k, m.cssClass), 
                        g.cssClass && DayPilot.Util.addClass(k, g.cssClass);
                        var C = g.backColor || m.backColor;
                        C && (k.style.background = C);
                        var x = g.fontColor || m.fontColor;
                        x && (k.style.color = x);
                        var E = g.horizontalAlignment || m.horizontalAlignment;
                        E && (k.style.textAlign = E), k.style.height = h.height + "px", k.style.overflow = "hidden", 
                        k.style.position = "relative";
                        var T = document.createElement("div");
                        switch (T.setAttribute("unselectable", "on"), T.className = this.C("_rowheader_inner"), 
                        E) {
                          case "right":
                            T.style.justifyContent = "flex-end";
                            break;

                          case "left":
                            T.style.justifyContent = "flex-start";
                            break;

                          case "center":
                            T.style.justifyContent = "center";
                        }
                        k.appendChild(T);
                        var A = "Disabled" !== this.rowMoveHandling && "main" === h.grid, D = f.rowDragHandleWidth, H = g.areas || [];
                        A && !m.moveDisabled && H.push({
                            v: "Hover",
                            w: D,
                            bottom: 0,
                            top: 0,
                            left: 0,
                            css: f.C("_rowmove_handle"),
                            action: "Move"
                        });
                        var _ = f.Ti(h);
                        DayPilot.Areas.attach(k, _, {
                            areas: H,
                            allowed: function() {
                                return !d.row;
                            }
                        });
                        var R = document.createElement("div");
                        if (R.style.position = "absolute", R.style.bottom = "0px", R.style.width = "100%", 
                        R.style.height = "1px", R.className = this.C(M.resourcedivider), k.appendChild(R), 
                        i(), p.appendChild(k), function() {
                            if ("function" == typeof f.onBeforeRowHeaderDomAdd || "function" == typeof f.onBeforeRowHeaderDomRemove) {
                                var e = p, t = {};
                                if (t.control = f, t.row = f.Ti(h), t.element = null, t.target = "Cell", e.domArgs = t, 
                                "function" == typeof f.onBeforeRowHeaderDomAdd && f.onBeforeRowHeaderDomAdd(t), 
                                t.element) {
                                    var i = null;
                                    switch (t.target && t.target.toLowerCase()) {
                                      case "text":
                                        i = O;
                                        break;

                                      case "cell":
                                        i = T;
                                    }
                                    if (i) {
                                        t.tc = i, i.innerHTML = "";
                                        if (DayPilot.Util.isReactComponent(t.element)) {
                                            if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            f.da.reactDOM.render(t.element, i);
                                        } else i.appendChild(t.element);
                                    }
                                }
                            }
                        }(), r.appendChild(p), o.rows[e].cells.push(p), h.columns && 0 !== h.columns.length) for (var B = b, P = y ? 0 : 1, N = 1; N < l; N++) {
                            var g = m.columns[N - P] || {}, p = document.createElement("div");
                            p.style.position = "absolute", p.style.top = h.top + "px", p.style.left = B + "px", 
                            r.appendChild(p), o.rows[e].cells.push(p), p.row = h, p.index = e;
                            var L = g.toolTip || m.toolTip;
                            L && (p.title = L), p.setAttribute("unselectable", "on"), p.onmousemove = f.al, 
                            p.onmouseout = f.bl, p.onmouseup = f.cl, p.oncontextmenu = f.dl, p.onclick = f.fl, 
                            p.ondblclick = f.gl;
                            var k = document.createElement("div"), U = s[N];
                            B += U;
                            var C = g.backColor || m.backColor;
                            C && (k.style.backgroundColor = C);
                            var x = g.fontColor || m.fontColor;
                            x && (k.style.color = x), k.style.width = U + "px", k.style.height = h.height + "px", 
                            k.style.overflow = "hidden", k.style.position = "relative", k.setAttribute("unselectable", "on"), 
                            DayPilot.Util.addClass(k, this.C("_rowheader")), DayPilot.Util.addClass(k, this.C("_rowheadercol")), 
                            DayPilot.Util.addClass(k, this.C("_rowheadercol" + N)), u && DayPilot.Util.addClass(k, f.C("_rowheader_selected")), 
                            m.cssClass && DayPilot.Util.addClass(k, m.cssClass), g.cssClass && DayPilot.Util.addClass(k, g.cssClass);
                            var z = g.horizontalAlignment || m.horizontalAlignment;
                            z && (k.style.textAlign = z);
                            var T = document.createElement("div");
                            switch (T.setAttribute("unselectable", "on"), T.className = this.C("_rowheader_inner"), 
                            z) {
                              case "right":
                                T.style.justifyContent = "flex-end";
                                break;

                              case "left":
                                T.style.justifyContent = "flex-start";
                                break;

                              case "center":
                                T.style.justifyContent = "center";
                            }
                            k.appendChild(T);
                            var R = document.createElement("div");
                            R.style.position = "absolute", R.style.bottom = "0px", R.style.width = "100%", R.style.height = "1px", 
                            R.className = this.C("_resourcedivider"), k.appendChild(R);
                            var O = document.createElement("div"), j = g.html || g.text || "";
                            O.innerHTML = j, p.textDiv = O, p.cellDiv = k, T.appendChild(O), DayPilot.Areas.attach(k, _, {
                                areas: g.areas,
                                allowed: function() {
                                    return !d.row;
                                }
                            }), p.appendChild(k);
                        } else p.colSpan = l > 0 ? l : 1, k.style.width = c + "px";
                    }
                }
            }, this.dl = function(e) {
                if ("Disabled" === f.rowRightClickHandling) return !1;
                var t = this.row, i = f.Ti(t), n = {};
                if (n.ctrl = e.ctrlKey, n.shift = e.shiftKey, n.meta = e.metaKey, n.originalEvent = e, 
                n.row = i, n.preventDefault = function() {
                    this.preventDefault.value = !0;
                }, "function" != typeof f.onRowRightClick || (f.onRowRightClick(n), !n.preventDefault.value)) {
                    switch (f.rowRightClickHandling) {
                      case "ContextMenu":
                        t.contextMenu && t.contextMenu.show(i);
                    }
                    return "function" == typeof f.onRowRightClicked && f.onRowRightClicked(n), !1;
                }
            }, this.fl = function(e) {
                if (!E.cancelClick) {
                    var t = this.row, i = f.Ti(t, this.index);
                    return t.isNewRow ? void f.Zi.edit(t) : void f.Wi(i, e.ctrlKey, e.shiftKey, e.metaKey);
                }
            }, this.gl = function(e) {
                if (f.timeouts.resClick) {
                    for (var t in f.timeouts.resClick) window.clearTimeout(f.timeouts.resClick[t]);
                    f.timeouts.resClick = null;
                }
                var i = this.row, n = f.Ti(i, this.index);
                if (f.La()) {
                    var a = {};
                    if (a.resource = n, a.row = n, a.ctrl = e.ctrlKey, a.shift = e.shiftKey, a.meta = e.metaKey, 
                    a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onRowDoubleClick && (f.onRowDoubleClick(a), a.preventDefault.value)) return;
                    switch (f.rowDoubleClickHandling) {
                      case "PostBack":
                        f.rowDoubleClickPostBack(n);
                        break;

                      case "CallBack":
                        f.rowDoubleClickCallBack(n);
                        break;

                      case "Select":
                        f.Yi(i, e.ctrlKey, e.shiftKey, e.metaKey);
                        break;

                      case "Edit":
                        f.Zi.edit(i);
                    }
                    "function" == typeof f.onRowDoubleClicked && f.onRowDoubleClicked(a);
                } else switch (f.rowDoubleClickHandling) {
                  case "PostBack":
                    f.rowDoubleClickPostBack(n);
                    break;

                  case "CallBack":
                    f.rowDoubleClickCallBack(n);
                    break;

                  case "JavaScript":
                    f.onRowDoubleClick(n);
                    break;

                  case "Select":
                    f.Yi(i, e.ctrlKey, e.shiftKey, e.metaKey);
                    break;

                  case "Edit":
                    f.Zi.edit(i);
                }
            }, this.rowDoubleClickPostBack = function(e, t) {
                var i = {};
                i.resource = e, this.R("RowDoubleClick", i, t);
            }, this.rowDoubleClickCallBack = function(e, t) {
                var i = {};
                i.resource = e, this.T("RowDoubleClick", i, t);
            }, this.il = function(e) {
                if ("Disabled" !== f.timeHeaderClickHandling) {
                    var t = {};
                    t.start = this.cell.start, t.level = this.cell.level, t.end = this.cell.end, t.end || (t.end = new DayPilot.Date(t.start).addMinutes(f.cellDuration)), 
                    f.$i(t);
                }
            }, this.jl = function(t) {
                if ("Disabled" !== f.timeHeaderRightClickHandling) {
                    t.cancelBubble = !0, t.preventDefault ? t.preventDefault() : null;
                    var i = {};
                    if (i.start = this.cell.start, i.level = this.cell.level, i.end = this.cell.end, 
                    i.end || (i.end = new DayPilot.Date(i.start).addMinutes(f.cellDuration)), f.La()) {
                        var n = {};
                        if (n.header = i, n.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, "function" == typeof f.onTimeHeaderRightClick && (f.onTimeHeaderRightClick(n), 
                        n.preventDefault.value)) return;
                        switch (this.timeHeaderRightClickHandling) {
                          case "PostBack":
                            f.timeHeaderRightClickPostBack(e);
                            break;

                          case "CallBack":
                            f.timeHeaderRightClickCallBack(e);
                        }
                        "function" == typeof f.onTimeHeaderRightClicked && f.onTimeHeaderRightClicked(n);
                    }
                }
            }, this.kl = function(e) {
                var t = f.rowlist[e];
                if (t.hidden) return 0;
                var i = t.height;
                return "number" == typeof t.forcedHeight && (i = t.forcedHeight), i;
            }, this.ll = function(e, t, i) {
                function n(e) {
                    var i = f.kl(e), n = t;
                    "hide" === t ? n = 0 : "show" === t && (n = f.rowlist[e].height);
                    var a = n - i;
                    o.push({
                        i: e,
                        now: i,
                        dist: a
                    });
                }
                function a(e) {
                    s || (s = e);
                    var t = e - s, n = Math.min(1, t / r);
                    0 === n && (n = .1), o.forEach(function(e) {
                        var t = e.now + e.dist * n;
                        f.rowlist[e.i].forcedHeight = t;
                    }), f.ml(), n < 1 ? window.requestAnimationFrame(a) : "function" == typeof i && i();
                }
                var r = 200, o = [];
                if ("number" == typeof e) n(e); else {
                    if (!DayPilot.isArray(e)) throw new DayPilot.Exception("Unexpected param (must be number/array).");
                    e.forEach(function(e) {
                        n(e);
                    });
                }
                var s = 0;
                window.requestAnimationFrame(a);
            }, this.Ti = function(e) {
                return new DayPilot.Row(e, f);
            }, this.Th = function(e, t) {
                t = t || "main";
                var i = f.uj[t], n = i.rowlist, a = n[e];
                if (a.events || a.resetEvents(), !a.data) {
                    a.data = {}, a.data.start = new DayPilot.Date(a.start), a.data.startTicks = a.data.start.getTime();
                    var r = this.Xh().getTime() - this.Ta().getTime();
                    a.data.end = P.isResourcesView() ? a.data.start.addTime(r) : a.data.start.addDays(1), 
                    a.data.endTicks = a.data.end.getTime(), a.data.offset = a.start.getTime() - this.Ta().getTime(), 
                    a.data.i = e, a.data.grid = t;
                }
            }, this.nl = {}, this.ta = function(e) {
                if (e ? this.events.list = e : this.events.list || (this.events.list = []), null != this.events.list && !DayPilot.isArray(this.events.list)) throw "DayPilot.Scheduler.events.list expects an array object";
                x.prepareRows(!0);
                var t, i = this.events.list, n = "function" == typeof this.onBeforeEventRender, a = "Resources" === f.viewType;
                f.nl = {};
                for (var r = 0; r < i.length; r++) {
                    var o = i[r];
                    if (o) {
                        if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object");
                        if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                        if (o instanceof DayPilot.Event) throw "DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";
                        var s = "string" == typeof o.id || "number" == typeof o.id, l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                        if (!s) {
                            var l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                            if (!l) throw new DayPilot.Exception("All events must have an id property (string or number)");
                        }
                        if (!f.temp.allowDuplicateEventIds) {
                            var d = "_" + o.id;
                            if (!s && l && (d = "#" + o.recurrentMasterId + "#" + new DayPilot.Date(o.start)), 
                            f.nl[d]) throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + d);
                            f.nl[d] = !0;
                        }
                        "Milestone" === o.type && (o.end = o.start), n && this.Ld(r), "*" === o.resource ? t = f.rowlist : a ? t = f.ol(o.resource).concat(f.ol("*")) : "Days" === f.viewType ? t = f.rowlist : "Gantt" === f.viewType && (t = f.ol(o.id));
                        for (var c = 0; t && c < t.length; c++) {
                            var h = t[c], u = this.Gj(o, h);
                            u && n && (u.cache = this.L.events[r]);
                        }
                    }
                }
                f.Sh().forEach(function(e) {
                    f.Jj(e);
                }), f.ki();
            }, this.pl = {};
            var x = this.pl;
            x.rowcache = {}, x.prepareRows = function(e) {
                x.rowcache = {};
                for (var t = f.Sh(), i = 0; i < t.length; i++) {
                    var n = t[i];
                    if (e && n.resetEvents(), f.Th(n.index, n.grid), n.id) {
                        var a = typeof n.id + "_" + n.id;
                        x.rowcache[a] || (x.rowcache[a] = DayPilot.list()), x.rowcache[a].push(n);
                    }
                }
            }, x.loadEvent = function(e) {}, this.ol = function(e) {
                var t = typeof e + "_" + e;
                return DayPilot.list(x.rowcache[t]);
            }, this.Fj = function() {
                var e = {};
                if ("Resources" !== f.viewType) return !1;
                for (var t = 0; t < f.rowlist.length; t++) {
                    var i = f.rowlist[t], n = i.id;
                    if (e[n]) return !0;
                    e[n] = !0;
                }
                return !1;
            }, this.Ld = function(e) {
                var t = this.L.events, i = this.events.list[e], n = {};
                i instanceof DayPilot.Event && (i = i.data);
                for (var a in i) n[a] = i[a];
                if ("string" == typeof n.start && (n.start = new DayPilot.Date(n.start)), "string" == typeof n.end && (n.end = new DayPilot.Date(n.end)), 
                "function" == typeof this.onBeforeEventRender) {
                    var r = {};
                    r.e = n, r.data = n, this.onBeforeEventRender(r);
                }
                t[e] = n;
            }, this.ql = function(e) {
                var t = e.data.container, i = typeof t;
                return "string" !== i && "number" !== i ? null : typeof t + "_" + t;
            }, this.Jj = function(e) {
                if (e.lines = [], e.sections = null, !e.isNewRow) {
                    this.sortDirections ? e.events.sort(this.Td) : f.Jg || e.events.sort(this.Sd), e.containerCache = {}, 
                    e.containers = [], e.events.forEach(function(t) {
                        var i = f.ql(t);
                        if (i) {
                            var n = e.containerCache[i];
                            n || (n = {
                                events: [],
                                line: null,
                                start: null,
                                end: null,
                                left: null,
                                width: null
                            }, e.containerCache[i] = n, e.containers.push(n)), t.part.container = n, n.events.push(t);
                        }
                    }), e.containers.forEach(function(e) {
                        var t = e.events[0], i = e.events[e.events.length - 1];
                        e.start = t.part.start, e.end = i.part.end, e.left = t.part.left, e.width = i.part.right - t.part.left, 
                        e.right = i.part.right;
                    });
                    if (f.Jg) return void D.loadRow(e);
                    var t = f.groupConcurrentEvents;
                    if (t) for (var i = 0; i < e.blocks.length; i++) e.blocks[i].clear();
                    DayPilot.list(e.events).forEach(function(t) {
                        if (!t.part.height) return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = P.eventHeight());
                    });
                    var n = function(e) {
                        return "number" == typeof e.data.line;
                    };
                    e.events.filter(n).forEach(function(t) {
                        e.putIntoLine(t);
                    });
                    for (var a = 0; a < e.events.length; a++) {
                        var r = e.events[a];
                        e.putIntoLine(r), t && e.putIntoBlock(r);
                    }
                    for (var o = 0, i = 0; i < e.lines.length; i++) {
                        var s = e.lines[i];
                        s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100;
                    }
                    if (t) for (var a = 0; a < e.blocks.length; a++) {
                        var l = e.blocks[a];
                        l.lines = [], l.events.sort(this.Td);
                        for (var d = 0; d < l.events.length; d++) {
                            var r = l.events[d];
                            l.putIntoLine(r);
                        }
                        l.lines.length <= f.groupConcurrentEventsLimit && (l.expanded = !0);
                        var c = DayPilot.list(l.events).map(function(e) {
                            return e.id();
                        }).some(function(e) {
                            return DayPilot.contains(f.rl, e);
                        });
                        c && (l.expanded = !0);
                        for (var o = 0, i = 0; i < l.lines.length; i++) {
                            var s = l.lines[i];
                            s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100;
                        }
                    }
                }
            }, this.ji = function(e) {
                e = DayPilot.ua(e), e = f.Gi(e), e.forEach(function(e) {
                    f.Jj(e);
                }), f.Jg ? D.calculateEventPositions() : e.forEach(function(e) {
                    f.rk(e);
                });
            }, this.Tj = function() {
                var e = "Manual" === f.scale ? f.itline[0].start : f.startDate;
                return DayPilot.list(f.rowlist).some(function(t) {
                    return !!t.start && t.start.getTime() !== new DayPilot.Date(e).getTime();
                });
            }, this.Gj = function(e, t) {
                if (!t.hideEvents) {
                    var i = new DayPilot.Date(e.start), n = new DayPilot.Date(e.end);
                    n = f.Af(n);
                    var a = i.ticks, r = n.ticks;
                    if (r < a) return null;
                    var o = null;
                    if ("function" == typeof f.onBeforeEventRender) {
                        var s = DayPilot.indexOf(f.events.list, e);
                        o = f.L.events[s];
                    }
                    if (o) {
                        if (o.hidden) return null;
                    } else if (e.hidden) return null;
                    var l = !1;
                    switch (this.viewType) {
                      case "Days":
                        l = !(r <= t.data.startTicks || a >= t.data.endTicks) || a === r && a === t.data.startTicks;
                        break;

                      case "Resources":
                        l = (t.id === e.resource || "*" === t.id || "*" === e.resource) && (!(r <= t.data.startTicks || a >= t.data.endTicks) || a === r && a === t.data.startTicks);
                        break;

                      case "Gantt":
                        l = t.id === e.id && !(r <= t.data.startTicks || a >= t.data.endTicks);
                    }
                    if (!l) return null;
                    var d = new DayPilot.Event(e, f);
                    d.part.dayIndex = t.data.i, d.part.grid = t.data.grid, d.part.start = t.data.startTicks < a ? i : t.data.start, 
                    d.part.end = t.data.endTicks > r ? n : t.data.end;
                    var c = this.getPixels(d.part.start.addTime(-t.data.offset)), h = this.getPixels(d.part.end.addTime(-t.data.offset));
                    d.part.start === d.part.end && (h = this.getPixels(d.part.end.addTime(-t.data.offset).addMilliseconds(1))), 
                    o && o.height ? d.part.height = o.height : e.height && (d.part.height = e.height);
                    o || d.data;
                    d.part.sl = function() {
                        var e = this.height;
                        if (f.eventVersionsEnabled && !DayPilot.list(d.versions).isEmpty()) {
                            var t = d.versions.length;
                            e += t * f.eventVersionHeight, e += t * f.eventVersionMargin;
                        }
                        return e + f.eventMarginBottom;
                    };
                    var u = c.left, v = h.left;
                    if (d.part.startPixels = c, d.part.endPixels = h, u === v) {
                        if (c.cut || h.cut) return null;
                        var p = (d.part.start.addTime(-t.data.offset).getTime() + d.part.end.addTime(-t.data.offset).getTime()) / 2;
                        if (f.getPixels(new DayPilot.Date(Math.floor(p))).cut) return null;
                    }
                    d.part.box = P.useBox(r - a);
                    var m = f.eventHeight;
                    if ("Milestone" === e.type) {
                        var g = e.width || m;
                        d.part.end = d.part.start, d.part.left = u - g / 2, d.part.width = g, d.part.barLeft = 0, 
                        d.part.barWidth = g;
                    } else if (d.part.box) {
                        var y = c.boxLeft, b = h.boxRight;
                        d.part.left = y, d.part.width = b - y, d.part.barLeft = DayPilot.Util.atLeast(u - d.part.left, 0), 
                        d.part.barWidth = DayPilot.Util.atLeast(v - u, 1);
                    } else d.part.left = u, d.part.width = DayPilot.Util.atLeast(v - u, 1), d.part.barLeft = 0, 
                    d.part.barWidth = DayPilot.Util.atLeast(v - u - 1, 1);
                    var w = f.eventMinWidth;
                    if (d.part.width = Math.max(d.part.width, w), d.part.right = d.part.left + d.part.width, 
                    d.cache = o, f.eventVersionsEnabled && f.ul(d, t), "function" == typeof f.onEventFilter && f.events.Rd) {
                        var k = {};
                        if (k.filter = f.events.Rd, k.filterParam = f.events.Rd, k.visible = !0, k.e = d, 
                        f.onEventFilter(k), !k.visible) return null;
                    }
                    return t.events.push(d), d;
                }
            }, this.ul = function(e, t) {
                e.versions = [];
                var i = e.cache || e.data, n = DayPilot.list(i.versions);
                if (!n.isEmpty()) {
                    var a = e.part.left, r = e.part.left + e.part.width;
                    n.forEach(function(i) {
                        var n = new DayPilot.Date(i.start), o = new DayPilot.Date(i.end), s = f.getPixels(n.addTime(-t.data.offset)), l = f.getPixels(o.addTime(-t.data.offset));
                        n.ticks === o.ticks && (l = f.getPixels(o.addTime(-t.data.offset).addTime(1)));
                        var d = s.left, c = l.left;
                        if (d === c && (s.cut || l.cut)) return null;
                        var h = {};
                        h.left = d, h.continueLeft = n < t.data.start, h.right = c, h.continueRight = o > t.data.end, 
                        h.width = c - d, e.versions.push(h), h.left < a && (a = h.left), h.right > r && (r = h.right);
                    }), f.eventVersionsReserveSpace ? (e.part.versionsLeft = a, e.part.versionsRight = r, 
                    e.part.versionsWidth = r - a) : (e.part.versionsLeft = e.part.left, e.part.versionsRight = e.part.left + e.part.width, 
                    e.part.versionsWidth = e.part.width);
                }
            }, this.Sd = function(e, t) {
                if (!(e && t && e.start && t.start)) return 0;
                var i = e.start().ticks - t.start().ticks;
                return 0 !== i ? i : t.end().ticks - e.end().ticks;
            }, this.Td = function(e, t) {
                if (!e || !t) return 0;
                var i = e.cache || e.data, n = t.cache || t.data;
                if (!(i.sort && i.sort.length > 0 && n.sort && n.sort.length > 0)) return f.Sd(e, t);
                for (var a = 0, r = 0; 0 === a && "undefined" != typeof i.sort[r] && "undefined" != typeof n.sort[r]; ) a = i.sort[r] === n.sort[r] ? 0 : "number" == typeof i.sort[r] && "number" == typeof n.sort[r] ? i.sort[r] - n.sort[r] : f.Ud(i.sort[r], n.sort[r], f.sortDirections[r]), 
                r++;
                return a;
            }, this.Ud = function(e, t, i) {
                var n = "desc" !== i, a = n ? -1 : 1, r = -a;
                if (null === e && null === t) return 0;
                if (null === t) return r;
                if (null === e) return a;
                var o = [];
                return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r;
            }, this.Yi = function(e, t, i, n) {
                if (f.La()) {
                    var a = DayPilot.indexOf(f.rowlist, e), r = f.Ti(e, a), o = DayPilot.indexOf(E.selected, e) !== -1, s = o ? "deselected" : "selected", l = {};
                    if (l.row = r, l.selected = o, l.ctrl = t, l.shift = i, l.meta = n, l.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onRowSelect && (f.onRowSelect(l), l.preventDefault.value)) return;
                    var d = i && !t && !n;
                    if (i || (E.vl = {
                        row: e,
                        index: a
                    }), d) {
                        E.fixRowSelectLast();
                        var c = E.vl.index, h = a;
                        E.selectRange(c, h);
                    }
                    switch (f.rowSelectHandling) {
                      case "PostBack":
                        f.rowSelectPostBack(r, s);
                        break;

                      case "CallBack":
                        f.rowSelectCallBack(r, s);
                        break;

                      case "Notify":
                        !d && E.select(e, t, i, n), f.rowSelectNotify(r, s);
                        break;

                      case "Update":
                        !d && E.select(e, t, i, n);
                    }
                    "function" == typeof f.onRowSelected && (l.selected = DayPilot.indexOf(E.selected, e) !== -1, 
                    f.onRowSelected(l));
                } else {
                    E.select(e, t, i);
                    var a = DayPilot.indexOf(f.rowlist, e), r = f.Ti(e, a), o = DayPilot.indexOf(E.selected, e) !== -1, s = o ? "deselected" : "selected";
                    switch (f.rowSelectHandling) {
                      case "PostBack":
                        f.rowSelectPostBack(r, s);
                        break;

                      case "CallBack":
                        f.rowSelectCallBack(r, s);
                        break;

                      case "Notify":
                        f.rowSelectNotify(r, s);
                        break;

                      case "JavaScript":
                        f.onRowSelect(r, s);
                    }
                }
            }, this.rowSelectPostBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.change = t, this.R("RowSelect", n, i);
            }, this.rowSelectCallBack = function(e, t, i) {
                var n = {};
                n.resource = e, n.change = t, this.T("RowSelect", n, i);
            }, this.rowSelectNotify = function(e, t, i) {
                var n = {};
                n.resource = e, n.change = t, this.T("RowSelect", n, i, "Notify");
            }, this.rows = {}, this.rows.selection = {};
            var S = this.rows.selection;
            S.L = [], S.get = function() {
                var e = [];
                return DayPilot.list(E.selected).forEach(function(t) {
                    e.push(f.Ti(t));
                }), e;
            }, S.clear = function() {
                E.clearSelection();
            }, S.add = function(e) {
                if (!e || !e.isRow) throw "DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";
                DayPilot.list(E.selected).some(function(t) {
                    return t === e.$.row;
                }) || (E.selected.push(e.$.row), S.wl(), E.xl(e.$.row));
            }, S.remove = function(e) {
                if (!e || !e.isRow) throw "DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";
                S.isSelected(e) && (DayPilot.rfa(E.selected, e.$.row), S.wl(), E.xl(e.$.row));
            }, S.isSelected = function(e) {
                if (!e || !e.isRow) throw "DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";
                return DayPilot.indexOf(E.selected, e.$.row) !== -1;
            }, S.wl = function() {
                f.selectedRows = DayPilot.list(E.selected).map(function(e) {
                    return e.id;
                }), S.L = [], E.selected.forEach(function(e) {
                    S.L[e.index] = !0;
                });
            }, this.rows.all = function() {
                for (var e = DayPilot.list(), t = 0; t < f.rowlist.length; t++) {
                    var i = f.Ti(f.rowlist[t]);
                    e.push(i);
                }
                return e;
            }, this.rows.visible = function() {
                for (var e = DayPilot.list(), t = 0; t < f.rowlist.length; t++) {
                    var i = f.rowlist[t];
                    if (!i.hidden) {
                        var i = f.Ti(f.rowlist[t]);
                        e.push(i);
                    }
                }
                return e;
            }, this.rows.each = function(e) {
                f.rows.all().forEach(e);
            }, this.rows.forEach = function(e) {
                f.rows.all().forEach(e);
            }, this.rows.filter = function(e, t) {
                f.rows.Rd = e, t || f.N && f.kc({
                    immediateEvents: !0
                });
            }, Object.defineProperty(f.rows, "filterParam", {
                get: function() {
                    return f.rows.Rd;
                }
            }), this.rows.sort = function(e) {
                var t = f.rows.sortParam;
                if ("string" == typeof e) f.rows.yl = {
                    field: e,
                    order: "asc"
                }; else if ("object" == typeof e) {
                    var i = DayPilot.Util.copyProps(e);
                    i.order || (i.order = "asc"), f.rows.yl = i;
                } else f.rows.yl = null;
                if (f.N && f.kc({
                    immediateEvents: !0
                }), "function" == typeof f.onRowSorted) {
                    var n = {};
                    n.oldSortParam = t, f.onRowSorted(n);
                }
            }, Object.defineProperty(f.rows, "sortParam", {
                get: function() {
                    return {
                        order: f.rows.zl(),
                        field: f.rows.Al()
                    };
                }
            }), this.rows.Al = function() {
                var e = f.rows.yl;
                return e ? e.field : null;
            }, this.rows.zl = function() {
                var e = f.rows.yl;
                return e ? e.order : "asc";
            }, this.rows.find = function(e, t) {
                if ("string" == typeof e || "number" == typeof e || !e && t) {
                    var i = f.ol(e);
                    e || (i = f.rowlist);
                    var n = null;
                    return "string" == typeof t || t instanceof DayPilot.Date ? (t = new DayPilot.Date(t), 
                    n = i.find(function(e) {
                        return t === e.start;
                    })) : n = i.first(), n ? new DayPilot.Row(n, f) : null;
                }
                if ("function" != typeof e) throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");
                var a = t || 0, r = f.rowlist.find(function(t, i) {
                    return !(i < a) && e(f.Ti(t));
                });
                if (r) return f.Ti(r);
            }, this.rows.load = function(e, t, i) {
                if (!e) throw new DayPilot.Exception("rows.load(): 'url' parameter required");
                var n = function(e) {
                    var t = {};
                    t.exception = e.exception, t.request = e.request, "function" == typeof i && i(t);
                }, a = function(e) {
                    var i, a = e.request;
                    try {
                        i = JSON.parse(a.responseText);
                    } catch (e) {
                        var r = {};
                        return r.exception = e, void n(r);
                    }
                    if (DayPilot.isArray(i)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, o.data = i, "function" == typeof t && t(o), o.preventDefault.value) return;
                        f.resources = i, f.N && f.update();
                    }
                };
                f.rowsLoadMethod && "POST" === f.rowsLoadMethod.toUpperCase() ? DayPilot.ajax({
                    method: "POST",
                    url: e,
                    success: a,
                    error: n
                }) : DayPilot.ajax({
                    method: "GET",
                    url: e,
                    success: a,
                    error: n
                });
            }, this.rows.expand = function(e) {
                for (var t = [], i = e || 1, n = 0; n < f.rowlist.length; n++) {
                    var a = f.rowlist[n], r = i === -1;
                    a.level < i && (r = !0), r && !a.expanded && a.children && a.children.length > 0 && t.push(a.index);
                }
                if (0 !== t.length) if (1 === t.length) f.gk(t[0]); else {
                    for (var n = 0; n < t.length; n++) {
                        var o = t[n], s = f.rowlist[o].resource;
                        s.expanded = !0;
                    }
                    f.kc();
                }
            }, this.rows.expandAll = function() {
                f.rows.expand(-1);
            }, this.rows.collapseAll = function() {
                f.rowlist.forEach(function(e) {
                    e.resource.expanded = !1;
                }), f.kc();
            }, this.rows.headerHide = function() {
                f.Bl = !0, f.Cl(), f.Uk(), f.Mh();
            }, this.rows.headerShow = function() {
                f.Bl = !1, f.Cl(), f.Uk(), f.Mh();
            }, this.rows.headerToggle = function() {
                f.Bl ? f.rows.headerShow() : f.rows.headerHide();
            }, this.rows.edit = function(e) {
                E.edit(e.$.row);
            }, this.rows.remove = function(e) {
                var t = e.$.row.resource, i = T.findParentArray(t);
                if (!i) throw "Cannot find source node parent";
                var n = DayPilot.indexOf(i, t);
                i.splice(n, 1), f.update();
            }, this.rows.update = function(e) {
                if (!(e instanceof DayPilot.Row)) throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");
                var t = e.index, i = f.ck(e.grid).rowlist, n = i[t], a = e.data, r = e.parent() ? e.parent().$.row : null, o = f.Dl(a), e = f.El(o, r);
                e.hidden = n.hidden, e.level = n.level, e.children = n.children, e.index = t, e.top = n.top, 
                e.height = n.height, i[t] = e, e.resetEvents(), f.Th(e.index, e.grid), f.Fl(e), 
                f.Jj(e), f.Fi(e.index, e.grid), f.$g(), f.bh();
            }, this.Fl = function(e) {
                for (var t = f.events.list, i = t.length, n = "function" == typeof f.onBeforeEventRender, a = 0; a < i; a++) {
                    var r = t[a];
                    if (r) {
                        if (r instanceof DayPilot.Event) throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                        if ("Days" === f.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");
                        if ("Gantt" === f.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");
                        if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                            n && this.Ld(a);
                            var o = this.Gj(r, e);
                            o && n && (o.cache = this.L.events[a]);
                        }
                    }
                }
            }, this.Gl = function() {
                var e = d.source, t = d.target, i = d.position, n = d.sourceCalendar;
                if (E.resetMoving(), f.La()) {
                    var a = {};
                    if (a.source = f.Ti(e), a.source.calendar = n, a.target = f.Ti(t), a.position = i, 
                    a.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, "function" == typeof f.onRowMove && (f.onRowMove(a), a.preventDefault.value)) return;
                    switch (f.rowMoveHandling) {
                      case "Update":
                        E.move(a);
                        break;

                      case "CallBack":
                        f.rowMoveCallBack(a.source, a.target, a.position);
                        break;

                      case "PostBack":
                        f.rowMovePostBack(a.source, a.target, a.position);
                        break;

                      case "Notify":
                        E.move(a), f.rowMoveNotify(a.source, a.target, a.position);
                    }
                    "function" == typeof f.onRowMoved && f.onRowMoved(a);
                } else {
                    var e = f.Ti(e), t = f.Ti(t), i = i;
                    switch (f.rowMoveHandling) {
                      case "CallBack":
                        f.rowMoveCallBack(e, t, i);
                        break;

                      case "PostBack":
                        f.rowMovePostBack(e, t, i);
                        break;

                      case "JavaScript":
                        f.onRowMove(e, t, i);
                    }
                }
            }, this.gh = function(e) {
                var t = DayPilot.list(e);
                E.selected = [], t.isEmpty() || (f.Hg = !1, f.sa()), t.forEach(function(e) {
                    var t = f.ph(e);
                    t && E.selected.push(t);
                }), E.Hl();
            }, this.Zi = {};
            var E = this.Zi;
            E.edit = function(e) {
                E.Il(e);
            }, E.rowSelectLastSetDefault = function() {
                E.vl = {
                    row: f.rowlist[0],
                    index: 0
                };
            }, E.rowSelectSetLast = function(e) {
                var t = DayPilot.indexOf(f.rowlist, e);
                if (t === -1) throw "DayPilot.Scheduler: Row not found when selecting a range";
                E.vl = {
                    row: e,
                    index: t
                };
            }, E.fixRowSelectLast = function() {
                E.vl || E.rowSelectLastSetDefault();
                var e = DayPilot.indexOf(f.rowlist, E.vl.row);
                if (!(e > -1)) {
                    var t = f.ph(E.vl.row.id);
                    t ? (e = DayPilot.indexOf(f.rowlist, t), E.vl = {
                        row: t,
                        index: e
                    }) : E.rowSelectLastSetDefault();
                }
            }, E.createOverlay = function(e) {
                var t = f.Pk(), i = f.C("_rowmove_source"), n = DayPilot.Util.div(f.divHeader, 0, e.top, t, e.height);
                n.className = i, e.moveOverlay = n;
            }, E.deleteOverlay = function(e) {
                e && (DayPilot.de(e.moveOverlay), e.moveOverlay = null);
            }, E.Il = function(e) {
                var t = E.Jl(e), i = t.cells[0];
                if (i.input) return i.input;
                DayPilot.Areas.disable(i.firstChild);
                var n = i.clientWidth;
                e.isNewRow && (n = f.Fh());
                var a = document.createElement("textarea");
                a.style.position = "absolute", a.style.top = "0px", a.style.left = "0px", a.style.width = n + "px", 
                a.style.height = e.height + "px", a.style.border = "0px none", a.style.overflow = "hidden", 
                a.style.boxSizing = "border-box", a.style.resize = "none", a.style.paddingLeft = e.level * f.treeIndent + "px";
                var r = i.textDiv;
                a.style.fontFamily = DayPilot.gs(r, "fontFamily") || DayPilot.gs(r, "font-family"), 
                a.style.fontSize = DayPilot.gs(r, "fontSize") || DayPilot.gs(r, "font-size"), a.value = e.name || "", 
                i.firstChild.appendChild(a), i.input = a;
                var o = function() {
                    try {
                        i.input.parentNode.removeChild(i.input);
                    } catch (e) {
                        s();
                    }
                    i.input = null;
                };
                return a.focus(), a.onblur = function() {
                    a.onblur = null;
                    var t = a.value;
                    o(), DayPilot.Areas.enable(i.firstChild), f.Vi(e, t, a.canceled);
                }, a.onkeydown = function(e) {
                    var t = window.event ? event.keyCode : e.keyCode;
                    return 27 === t && (a.canceled = !0, o()), 13 !== t || (a.onblur(), !1);
                }, a.setSelectionRange ? a.setSelectionRange(0, 9999) : a.select(), a;
            }, E.selected = [], E.select = function(e, t, i, n) {
                var a = DayPilot.indexOf(E.selected, e) !== -1;
                if (t || n) {
                    if (a) return DayPilot.rfa(E.selected, e), S.wl(), void E.xl(e);
                } else a = !1, E.clearSelection();
                a || E.selected.push(e), S.wl(), E.xl(e);
            }, E.selectRange = function(e, t) {
                E.clearSelection();
                for (var i = Math.min(e, t), n = Math.max(e, t), a = i; a <= n; a++) {
                    var r = f.rowlist[a];
                    E.selected.push(r);
                }
                S.wl();
                for (var a = i; a <= n; a++) {
                    var r = f.rowlist[a];
                    E.xl(r);
                }
            }, E.Hl = function() {
                for (var e = 0; e < E.selected.length; e++) {
                    var t = E.selected[e];
                    E.xl(t);
                }
            }, E.xl = function(e) {
                var t = DayPilot.indexOf(f.rowlist, e);
                if (t === -1) {
                    var i = f.ph(e.id);
                    if (!i) return;
                    t = i.index;
                }
                f.Li(t), f.bh(), f.sj(t), f.Wk(t);
            }, E.dj = function() {
                var e = [];
                if (!E.selected) return e;
                for (var t = 0; t < E.selected.length; t++) {
                    var i = E.selected[t], n = DayPilot.indexOf(f.rowlist, i), a = f.Ti(i, n);
                    e.push(a.toJSON());
                }
                return e;
            }, E.vl = null, E.clearSelection = function() {
                var e = E.selected;
                if (E.selected = [], f.selectedRows = [], S.L = [], e.length <= 5) e.forEach(function(e) {
                    E.xl(e);
                }); else {
                    f.$g(), f.bh();
                    for (var t = 0; t < f.rowlist.length; t++) f.divHeader.rows[t] && f.Fi(t);
                }
            }, E.Jl = function(e) {
                for (var t = f.divHeader, i = 0; i < t.rows.length; i++) {
                    var n = t.rows[i];
                    if (n && n.cells[0] && n.cells[0].row === e) return n;
                }
                return null;
            }, E.startMoving = function(e) {
                var t = DayPilot.Global.rowmoving;
                t.row = e, t.sourceCalendar = f, t.cursor = f.divResScroll.style.cursor, f.divResScroll.style.cursor = "move", 
                E.createOverlay(e);
            }, E.resetMoving = function() {
                f.divResScroll.style.cursor = d.cursor, DayPilot.de(d.div), E.deleteOverlay(d.row), 
                DayPilot.Global.rowmoving = d = {};
            }, E.move = function(e) {
                var t = e.source.$.row.resource, i = e.target.$.row.resource, n = e.position;
                if ("forbidden" !== n) {
                    var a = e.source.calendar.Kl.findParentArray(t);
                    if (!a) throw "Cannot find source node parent";
                    var r = DayPilot.indexOf(a, t);
                    a.splice(r, 1);
                    var o = T.findParentArray(i);
                    if (!o) throw "Cannot find target node parent";
                    var s = DayPilot.indexOf(o, i);
                    switch (n) {
                      case "before":
                        o.splice(s, 0, t);
                        break;

                      case "after":
                        o.splice(s + 1, 0, t);
                        break;

                      case "child":
                        i.children || (i.children = [], i.expanded = !0), i.children.push(t);
                    }
                    f.update();
                }
            };
            var T = {};
            this.Kl = T, T.findParentArray = function(e) {
                return T.findInArray(f.resources, e);
            }, T.findInArray = function(e, t) {
                if (DayPilot.indexOf(e, t) !== -1) return e;
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    if (n.children && n.children.length > 0) {
                        var a = T.findInArray(n.children, t);
                        if (a) return a;
                    }
                }
                return null;
            }, this.Ug = function() {
                var e = this.resources, t = this.E();
                t || ("Gantt" === this.viewType ? e = this.Ll() : "Days" === this.viewType && (e = this.Ml())), 
                !t || "Days" !== this.viewType || e && 0 !== e.length || (e = this.Ml());
                var i = {};
                if (i.i = 0, null != e && !DayPilot.isArray(e)) throw "DayPilot.Scheduler.resources expects an array object";
                e = e || [];
                var n = e.filter(function(e) {
                    return !e.frozen;
                });
                f.rowlist = DayPilot.list(), this.Nl(n, i, 0, null, this.treeEnabled, !1, "main");
                var a = e.filter(function(e) {
                    return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase();
                });
                f.uj.top.rowlist = DayPilot.list(), f.uj.top.height = 0, this.Nl(a, {
                    i: 0
                }, 0, null, !1, !1, "top");
                var r = e.filter(function(e) {
                    return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase();
                });
                f.uj.bottom.rowlist = DayPilot.list(), f.uj.bottom.height = 0, this.Nl(r, {
                    i: 0
                }, 0, null, !1, !1, "bottom"), "Disabled" !== f.rowCreateHandling && this.Ol();
            }, this.Ol = function() {
                var e = {};
                e.id = "NEW", e.isNewRow = !0, e.html = "", e.index = f.rowlist.length, e.loaded = !0, 
                e.start = this.startDate, e.children = [], e.height = f.eventHeight, e.marginBottom = 0, 
                e.marginTop = 0, e.getHeight = function() {
                    return f.rowCreateHeight ? f.rowCreateHeight : f.eventHeight + f.rowMarginBottom + f.rowMarginTop;
                }, e.putIntoLine = function() {}, e.resetEvents = function() {}, this.rowlist.push(e);
            }, this.Ll = function() {
                var e = [];
                if (this.Og && this.resources) for (var t = 0; t < this.resources.length; t++) e.push(this.resources[t]);
                if (this.events.list) {
                    for (var t = 0; t < this.events.list.length; t++) {
                        var i = this.events.list[t], n = {};
                        n.id = i.id, n.name = i.text, n.columns = i.columns, e.push(n);
                    }
                    return e;
                }
            }, this.Ml = function() {
                for (var e = [], t = f.Ta(), i = this.$c.locale(), n = 0; n < this.days; n++) {
                    var a = t.addDays(n);
                    if (f.showNonBusiness || f.businessWeekends || 0 != a.dayOfWeek() && 6 != a.dayOfWeek()) {
                        var r = {};
                        r.name = a.toString(i.datePattern, i), r.start = a, e.push(r);
                    }
                }
                return e;
            }, this.Ta = function() {
                return this.itline && this.itline.length > 0 ? this.itline[0].start : new DayPilot.Date(this.startDate);
            }, this.Xh = function() {
                if (this.itline && this.itline.length > 0) {
                    var e = f.itline[this.itline.length - 1].end;
                    return "Days" !== f.viewType ? e : e.addDays(f.days - 1);
                }
                return new DayPilot.Date(f.startDate).addDays(f.days);
            }, this.visibleStart = function() {
                return this.Ta();
            }, this.visibleEnd = function() {
                return this.Xh();
            }, this.El = function(e, t) {
                var i = {};
                if (i.backColor = e.backColor, i.fontColor = e.fontColor, i.cssClass = e.cssClass, 
                i.expanded = e.expanded, i.name = e.name, i.html = e.html ? e.html : i.name, i.eventHeight = "undefined" != typeof e.eventHeight ? e.eventHeight : f.$c.eventHeight(), 
                i.minHeight = "undefined" != typeof e.minHeight ? e.minHeight : f.rowMinHeight, 
                i.marginBottom = "undefined" != typeof e.marginBottom ? e.marginBottom : f.rowMarginBottom, 
                i.marginTop = "undefined" != typeof e.marginTop ? e.marginTop : f.rowMarginTop, 
                i.eventStackingLineHeight = "undefined" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : f.eventStackingLineHeight, 
                i.loaded = !e.dynamicChildren, i.id = e.id || e.value, i.toolTip = e.toolTip, i.children = [], 
                i.columns = [], i.start = e.start ? new DayPilot.Date(e.start) : this.Ta(), i.isParent = e.isParent, 
                i.contextMenu = e.contextMenu ? DayPilot.Util.evalVariable(e.contextMenu) : this.contextMenuResource, 
                i.areas = e.areas, i.moveDisabled = e.moveDisabled, i.bubbleHtml = e.bubbleHtml, 
                i.cellsDisabled = e.cellsDisabled, i.tags = e.tags, i.task = e.task, i.swimlane = e.swimlane, 
                i.hideEvents = e.hideEvents, i.height = i.eventHeight, i.level = 0, i.resource = e.Pl, 
                i.lines = [], i.blocks = [], i.containers = [], i.containerCache = {}, i.isRow = !0, 
                i.getHeight = function() {
                    var e = 0;
                    if (f.groupConcurrentEvents) for (var t = 0; t < this.blocks.length; t++) {
                        var i = this.blocks[t];
                        e = Math.max(e, i.getHeight());
                    } else if (this.lines.length > 0) {
                        var n = this.lines.length - 1, a = this.lines[n], r = a.height || this.eventHeight, o = a.top || 0;
                        e = o + r;
                    }
                    return 0 === e && (e = this.eventHeight), e > this.minHeight ? e : this.minHeight;
                }, i.Wj = function() {
                    var e = i.start.getTime() - f.Ta().getTime();
                    return f.itline[f.itline.length - 1].end.addTime(e);
                }, i.resetEvents = function() {
                    var e = this;
                    e.events = DayPilot.list(), e.events.forRange = function(t, i) {
                        t = new DayPilot.Date(t), i = i ? new DayPilot.Date(i) : e.Wj();
                        for (var n = DayPilot.list(), a = 0; a < e.events.length; a++) {
                            var r = e.events[a];
                            DayPilot.Util.overlaps(r.start(), r.end(), t, i) && n.push(r);
                        }
                        return n;
                    };
                }, i.calculateUtilization = function() {
                    function e() {
                        for (var e = [], t = 0; t < i.events.length; t++) {
                            var n = i.events[t];
                            DayPilot.contains(e, n.start().toString()) || e.push(n.start().toString()), DayPilot.contains(e, n.rawend().toString()) || e.push(n.rawend().toString());
                        }
                        return e.sort(), e;
                    }
                    function t() {
                        for (var t = e(), n = [], a = {
                            start: i.data.start
                        }, r = 0; r < t.length; r++) a.end = new DayPilot.Date(t[r]), n.push(a), a = {
                            start: new DayPilot.Date(t[r])
                        };
                        return a.end = i.data.end, n.push(a), n.forRange = function(e, t) {
                            for (var i = DayPilot.list(), n = 0; n < this.length; n++) {
                                var a = this[n];
                                DayPilot.Util.overlaps(e, t, a.start, a.end) && i.push(a);
                            }
                            return i.maxSum = function(e) {
                                for (var t = 0, i = 0; i < this.length; i++) {
                                    var n = this[i], a = n.sum(e);
                                    a > t && (t = a);
                                }
                                return t;
                            }, i;
                        }, n;
                    }
                    for (var i = this, n = i.sections = t(), a = 0; a < n.length; a++) {
                        var r = n[a];
                        r.events = DayPilot.list();
                        for (var o = 0; o < i.events.length; o++) {
                            var s = i.events[o];
                            DayPilot.Util.overlaps(r.start, r.end, s.start(), s.rawend()) && r.events.push(s);
                        }
                        r.sum = function(e) {
                            for (var t = 0, i = 0; i < this.events.length; i++) {
                                var n = this.events[i], a = 0;
                                "undefined" == typeof e ? a = 1 : n.tag(e) ? a = n.tag(e) : n.data[e] && (a = n.data[e]), 
                                "number" == typeof a && (t += a);
                            }
                            return t;
                        };
                    }
                }, i.Ql = function() {
                    var e = [];
                    return e.height = 0, e.add = function(t) {
                        this.push(t);
                        var i = t.part.sl();
                        i > e.height && (e.height = i);
                    }, e.isFree = function(e, t, i) {
                        for (var n = e + t - 1, a = this.length, r = 0; r < a; r++) {
                            var o = this[r];
                            if (!(n < o.part.left || e > o.part.left + o.part.width - 1)) {
                                if (DayPilot.contains(i, o.data)) continue;
                                return !1;
                            }
                            if (o.part.container && !(n < o.part.container.left || e > o.part.container.left + o.part.container.width - 1)) return !1;
                            if (f.eventVersionsReserveSpace && !(n < o.part.versionsLeft || e > o.part.versionsRight - 1)) return !1;
                        }
                        return !0;
                    }, e;
                }, i.findFreeLine = function(e, t, n) {
                    if ("number" == typeof n) {
                        for (var a = 0; a <= n; a++) this.lines[a] || (this.lines[a] = i.Ql());
                        return n;
                    }
                    if ("dedicated" === n) {
                        var r = i.Ql();
                        return r.isFree = function() {
                            return !1;
                        }, this.lines.push(r), this.lines.length - 1;
                    }
                    for (var a = 0; a < this.lines.length; a++) {
                        var r = this.lines[a];
                        if (r.isFree(e, t)) return a;
                    }
                    var r = i.Ql();
                    return this.lines.push(r), this.lines.length - 1;
                }, i.putIntoLine = function(e) {
                    var t = e.part.container;
                    if (t) {
                        if (null === t.line && ("number" == typeof e.data.line || "dedicated" === e.data.line)) return n = i.findFreeLine(t.left, t.width, e.data.line), 
                        this.lines[n].add(e), t.line = n, n;
                    } else if ("number" == typeof e.data.line || "dedicated" === e.data.line) return n = i.findFreeLine(e.part.left, e.part.width, e.data.line), 
                    this.lines[n].add(e), n;
                    var n = -1;
                    if (t) {
                        if (null !== t.line) return this.lines[t.line].add(e), t.line;
                        n = i.findFreeLine(t.left, t.width), t.line = n;
                    } else n = f.eventVersionsReserveSpace ? i.findFreeLine(e.part.versionsLeft, e.part.versionsWidth) : i.findFreeLine(e.part.left, e.part.width);
                    return this.lines[n].add(e), n;
                }, i.putIntoBlock = function(e) {
                    for (var t = 0; t < this.blocks.length; t++) {
                        var i = this.blocks[t];
                        if (DayPilot.indexOf(i.events, e) !== -1) return;
                        if (i.overlapsWith(e.part.left, e.part.width)) return i.events.push(e), e.part.block = i, 
                        i.min = Math.min(i.min, e.part.left), i.max = Math.max(i.max, e.part.left + e.part.width), 
                        t;
                    }
                    var i = {};
                    i.expanded = !1, i.row = this, i.events = DayPilot.list(), i.lines = DayPilot.list(), 
                    i.putIntoLine = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var i = this.lines[t];
                            if (i.isFree(e.part.left, e.part.width)) return i.add(e), t;
                        }
                        var i = [];
                        i.height = 0, i.add = function(e) {
                            this.push(e), e.part.height > i.height && (i.height = e.part.height);
                        }, i.isFree = function(e, t) {
                            for (var i = e + t - 1, n = this.length, a = 0; a < n; a++) {
                                var r = this[a];
                                if (!(i < r.part.left || e > r.part.left + r.part.width - 1)) return !1;
                            }
                            return !0;
                        }, i.add(e), this.lines.push(i);
                    }, i.overlapsWith = function(e, t) {
                        return !(e + t - 1 < this.min || e > this.max - 1);
                    }, i.getHeight = function() {
                        if (!this.expanded) return f.eventHeight;
                        if (this.lines.length > 0) {
                            var e = this.lines.length - 1, t = this.lines[e], i = t.height || f.eventHeight;
                            return (t.top || 0) + i;
                        }
                        return f.eventHeight;
                    }, i.clear = function() {
                        i.events = DayPilot.list(), i.min = null, i.max = null;
                    }, i.events.push(e), e.part.block = i, i.min = e.part.left, i.max = e.part.left + e.part.width, 
                    this.blocks.push(i);
                }, i.Rl = !1, i.Sl = t, i.rc = function() {
                    this.hidden = !this.Tl(), this.Rl = !1, this.Sl && this.Sl.rc();
                }, i.Tl = function() {
                    return !this.Sl || this.Sl.Tl() && this.Sl.expanded;
                }, e.columns) for (var n = 0; n < e.columns.length; n++) i.columns.push(e.columns[n]);
                return i;
            }, this.zi = function() {
                f.rowlist.forEach(function(e) {
                    if ("function" == typeof f.onRowFilter && f.rows.Rd) {
                        var t = e.Sl, i = {};
                        i.visible = !0, i.row = f.Ti(e), i.filter = f.rows.Rd, i.filterParam = f.rows.Rd, 
                        f.onRowFilter(i), e.Rl = !i.visible, i.visible ? t && t.rc() : e.hidden = !0;
                    }
                });
            }, this.Ul = function(e) {
                return !e.some(function(e) {
                    return e.children && e.children.length;
                });
            }, this.Vl = function(e) {
                return !e.some(function(e) {
                    return !e.children || 0 === e.children.length;
                });
            }, this.ck = function(e) {
                return e = e || "main", f.uj[e];
            }, this.Nl = function(e, t, i, n, a, r, o) {
                if (e) {
                    var s = !1;
                    if (f.rows.yl) switch (f.rowSortingMode) {
                      case "LeavesOnly":
                        s = f.Ul(e);
                        break;

                      case "ParentsOnly":
                        s = f.Vl(e);
                    }
                    if (s) {
                        var l = f.rows.Al(), d = "desc" === f.rows.zl(), c = DayPilot.list(e, !0);
                        c.sort(function(e, t) {
                            var i = f.Zk(e, l), n = f.Zk(t, l), a = 0;
                            return a = i === n ? 0 : "number" == typeof i && "number" == typeof n ? i - n : f.Ud(i, n, "asc"), 
                            d ? -a : a;
                        }), e = c;
                    }
                    for (var h = f.ck(o).rowlist, u = 0; u < e.length; u++) if (e[u]) {
                        var v = {};
                        if (v.level = i, v.hidden = r, v.index = t.i, !e[u].hidden) {
                            var p = this.Dl(e[u], v), m = f.El(p, n);
                            if (r && (m.hidden = !0), m.level = i, m.index = t.i, m.grid = o || "main", null !== n && n.children.push(t.i), 
                            h.push(m), t.i++, a && p.children && p.children.length) {
                                var g = r || !m.expanded;
                                this.Nl(p.children, t, i + 1, m, !0, g, o);
                            }
                        }
                    }
                }
            }, this.Wl = [ "text", "html", "backColor", "cssClass", "areas", "horizontalAlignment" ], 
            this.sk = function(e) {
                if (e.isNewRow) return {
                    row: {
                        cssClass: f.C("_row_new"),
                        moveDisabled: !0,
                        html: f.rowCreateHtml || ""
                    }
                };
                var t = {};
                if (t.row = this.Ti(e), DayPilot.Util.copyProps(e, t.row, [ "html", "backColor", "fontColor", "cssClass", "toolTip", "contextMenu", "moveDisabled" ]), 
                t.row.columns = DayPilot.Util.createArrayCopy(e.columns, f.Wl), t.row.areas = DayPilot.Util.createArrayCopy(e.areas), 
                "undefined" == typeof t.row.columns && f.rowHeaderColumns && f.rowHeaderColumns.length > 0) {
                    r.columns = [];
                    for (var i = 0; i < f.rowHeaderColumns.length; i++) r.columns.push({});
                }
                return "function" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t), 
                t;
            }, this.Dl = function(e, t) {
                var i = this.Xl(e, t);
                if ("function" == typeof this.onBeforeResHeaderRender) {
                    var n = {};
                    n.resource = i, this.onBeforeResHeaderRender(n);
                }
                return i;
            }, this.Xl = function(e, t) {
                var i = {
                    get data() {
                        return this.Pl;
                    }
                };
                for (var n in t) i[n] = t[n];
                for (var n in e) i[n] = e[n];
                if ("undefined" == typeof e.html && (i.html = e.name), f.rowHeaderColumns && f.rowHeaderColumns.length > 0 && "undefined" == typeof i.columns) if (i.columns = [], 
                f.Di()) for (var a = 0; a < f.rowHeaderColumns.length; a++) {
                    var r = f.rowHeaderColumns[a], o = f.Zk(e, r.display);
                    i.columns.push({
                        text: o
                    });
                } else for (var a = 0; a < f.rowHeaderColumns.length; a++) i.columns.push({});
                return i.Pl = e, i;
            }, this.xi = function() {
                this.nav.top.dp = this, this.nav.top.innerHTML = "", DayPilot.Util.addClass(this.nav.top, this.C("_main")), 
                this.nav.top.setAttribute("role", "region"), this.nav.top.setAttribute("aria-label", "scheduler"), 
                this.nav.top.style.MozUserSelect = "none", this.nav.top.style.KhtmlUserSelect = "none", 
                this.nav.top.style.webkitUserSelect = "none", this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", 
                this.nav.top.style.WebkitTouchCallout = "none", this.width && (this.nav.top.style.width = this.width), 
                "Parent100Pct" === this.heightSpec && (this.nav.top.style.height = "100%"), this.nav.top.style.lineHeight = "1.2", 
                this.nav.top.style.position = "relative", this.visible || (this.nav.top.style.display = "none"), 
                this.nav.top.onmousemove = this.Bg, this.nav.top.onmouseout = function() {
                    f.ik();
                }, this.nav.top.ontouchstart = H.onMainTouchStart, this.nav.top.ontouchmove = H.onMainTouchMove, 
                this.nav.top.ontouchend = H.onMainTouchEnd, this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = "hidden");
                var e = this.Fh(), t = "Top" === f.timeHeaderPosition;
                if (f.wi = f.timeHeaderPosition, "DivBased" === this.$c.layout()) {
                    var i = document.createElement("div");
                    i.style.position = "absolute", i.style.left = "0px", i.style.width = e + "px";
                    var n = document.createElement("div");
                    n.style.height = "1px", n.className = this.C("_divider_horizontal"), this.nav.dh1 = n, 
                    this.nav.left = i, "Top" === f.timeHeaderPosition ? (i.appendChild(this.ad()), i.appendChild(n), 
                    i.appendChild(this.Yl()), f.uj.top.enabled(), i.appendChild(this.Zl()), i.appendChild(this.$l())) : "Bottom" === f.timeHeaderPosition ? (i.appendChild(this.Yl()), 
                    i.appendChild(n), i.appendChild(this.ad())) : i.appendChild(this.Yl());
                    var a = document.createElement("div");
                    a.style.position = "absolute", a.style.left = e + "px", a.style.width = P.splitterWidth() + "px", 
                    a.style.height = this.Gh() + this.Ec() + "px", a.className = this.C("_divider") + " " + this.C("_splitter"), 
                    a.setAttribute("unselectable", "on"), this.nav.divider = a, this.rowHeaderScrolling && this._l();
                    var r = document.createElement("div");
                    r.style.marginLeft = e + P.splitterWidth() + "px", r.style.marginRight = "1px", 
                    r.style.position = "relative", this.nav.right = r;
                    var o = document.createElement("div");
                    o.style.height = "1px", t && (o.style.position = "absolute", o.style.top = this.Gh() + "px"), 
                    o.style.width = "100%", o.className = this.C("_divider_horizontal"), this.nav.dh2 = o, 
                    "Top" === f.timeHeaderPosition ? (r.appendChild(f.bm()), r.appendChild(o), r.appendChild(f.cm()), 
                    f.uj.top.enabled(), r.appendChild(f.dm()), r.appendChild(f.em())) : "Bottom" === f.timeHeaderPosition ? (r.appendChild(f.cm()), 
                    r.appendChild(o), r.appendChild(f.bm())) : r.appendChild(f.cm());
                    var s = document.createElement("div");
                    s.style.clear = "left";
                    var l = document.createElement("div");
                    l.style.height = "1px", l.style.position = "absolute", l.style.left = "0px", l.style.right = "0px", 
                    l.style.display = "none", l.className = this.C("_divider_horizontal"), this.nav.dividerTop = l;
                    var d = document.createElement("div");
                    d.style.height = "1px", d.style.position = "absolute", d.style.left = "0px", d.style.right = "0px", 
                    d.style.display = "none", d.className = this.C("_divider_horizontal"), this.nav.dividerBottom = d, 
                    this.nav.top.appendChild(i), this.nav.top.appendChild(a), this.nav.top.appendChild(r), 
                    this.nav.top.appendChild(s), this.nav.top.appendChild(l), this.nav.top.appendChild(d);
                } else {
                    var c = document.createElement("table");
                    c.cellPadding = 0, c.cellSpacing = 0, c.border = 0, c.style.position = "absolute";
                    var h = c.insertRow(-1);
                    h.insertCell(-1).appendChild(this.ad()), h.insertCell(-1).appendChild(this.bm());
                    var u = c.insertRow(-1);
                    u.insertCell(-1).appendChild(this.Yl()), u.insertCell(-1).appendChild(this.cm()), 
                    this.nav.top.appendChild(c);
                }
                if (this.uf = document.createElement("div"), this.uf.style.display = "none", this.nav.top.appendChild(this.uf), 
                this.Y()) {
                    var v = document.createElement("input");
                    v.type = "hidden", v.id = this.id + "_state", v.name = this.id + "_state", this.nav.state = v, 
                    this.nav.top.appendChild(v);
                }
                var p = document.createElement("div");
                p.style.position = "absolute", p.style.left = this.Fh() + P.splitterWidth() + 5 + "px", 
                p.style.top = this.Gh() + 5 + "px", p.style.display = "none", p.innerHTML = this.loadingLabelText, 
                DayPilot.Util.addClass(p, this.C("_loading")), this.nav.loading = p, this.nav.top.appendChild(p), 
                this.fm(), f.gm();
            }, this.Bg = function(e) {
                if (d.row) {
                    var t = DayPilot.mo3(f.divHeader, e), i = f.kj(t.y), n = f.rowlist[i.i];
                    if (!n) return;
                    if (n.isNewRow) return;
                    var a = t.y - i.top, r = i.bottom - i.top, s = r / 3, l = 2 * s, c = r / 2, h = "before", u = n.children && n.children.length > 0, v = function() {
                        for (var e = i.i, t = n.level; e >= 0; ) {
                            var a = f.rowlist[e];
                            if (e--, !(t <= a.level)) {
                                if (a === d.row) return !0;
                                if (0 === a.level) return !1;
                                t = a.level;
                            }
                        }
                        return !1;
                    }(), p = f.treeEnabled;
                    h = v || i.i === d.row.index ? "forbidden" : p ? u ? a < c ? "before" : "child" : a < s ? "before" : a < l ? "child" : "after" : u ? "before" : a < c ? "before" : "after", 
                    d.row.moveDisabled && (h = "forbidden"), d.calendar = f, d.source = d.row, d.target = f.rowlist[i.i], 
                    d.position = h;
                    if (function() {
                        return !d.last || (d.last.target !== d.target || d.last.position !== d.position);
                    }()) {
                        if ("function" == typeof f.onRowMoving) {
                            var m = {};
                            m.source = f.Ti(d.source), m.target = f.Ti(d.target), m.position = h, f.onRowMoving(m), 
                            d.position = m.position;
                        }
                    } else d.last && (d.position = d.last.position);
                    d.last = {}, d.last.target = d.target, d.last.position = d.position, function() {
                        d.div && DayPilot.de(d.div);
                        var e = i.top, t = d.position, n = f.rowlist[i.i], a = n.level, r = a * f.treeIndent;
                        switch (t) {
                          case "before":
                            e = i.top;
                            break;

                          case "child":
                            e = i.top + c;
                            break;

                          case "after":
                            e = i.bottom;
                            break;

                          case "forbidden":
                            e = i.top + c;
                        }
                        var o = f.Pk() - r, s = document.createElement("div");
                        s.style.position = "absolute", s.style.left = r + "px", s.style.width = o + "px", 
                        s.style.top = e + "px", s.className = f.C("_rowmove_position_" + t), d.div = s, 
                        f.divResScroll.appendChild(s);
                    }();
                } else if (o.splitting) {
                    var g = DayPilot.mo3(f.nav.top, e).x, y = f.Pk(), b = g - 1;
                    f.rowHeaderCols && (b = Math.min(y, g - 1)), f.rowHeaderWidth = b, f.Bl = !1, f.rowHeaderCols || f.hm(), 
                    f.Cl();
                }
            }, this.va = function() {
                var e = this.Gh(), t = "Top" === f.timeHeaderPosition;
                this.nav.corner && (this.nav.corner.style.height = e + "px"), this.divTimeScroll && (this.divTimeScroll.style.height = e + "px"), 
                this.divNorth && (this.divNorth.style.height = e + "px"), this.nav.dh1 && this.nav.dh2 && t && (this.nav.dh1.style.top = e + "px", 
                this.nav.dh2.style.top = e + "px"), this.nav.loading.style.top = e + 5 + "px", t && (this.nav.scroll.style.top = e + 1 + "px");
            }, this.Fh = function() {
                if (this.Bl) return 0;
                var e = 0;
                return e = this.rowHeaderScrolling ? this.rowHeaderWidth : this.Pk();
            }, this._l = function() {
                var e = this.nav.divider;
                e.style.cursor = "col-resize", e.setAttribute("unselectable", "on"), e.onmousedown = function(e) {
                    var t = o.splitting = {};
                    return t.cursor = f.nav.top.style.cursor, t.cleanup = function() {
                        if (f.nav.top.style.cursor = t.cursor, "function" == typeof f.onRowHeaderResized) {
                            var e = {};
                            f.onRowHeaderResized(e);
                        }
                    }, f.nav.top.style.cursor = "col-resize", !1;
                };
            }, this.Cl = function() {
                var e = P.splitterWidth(), t = this.Fh();
                if (this.nav.corner && (this.nav.corner.style.width = t + "px"), this.nav.corner && (this.divCorner.style.width = t + "px"), 
                this.divResScroll.style.width = t + "px", "DivBased" === P.layout() && (this.nav.left.style.width = t + "px", 
                this.nav.divider.style.left = t - e + "px", this.nav.right.style.marginLeft = t + "px"), 
                this.nav.message && (this.nav.message.style.left = f.Eh() + "px"), this.nav.loading && (this.nav.loading.style.left = t + e + 5 + "px"), 
                this.nav.hideIcon) {
                    var i = this.nav.hideIcon, n = f.C("_header_icon_show"), a = f.C("_header_icon_hide");
                    i.style.left = t - 1 + "px", f.Bl ? (DayPilot.Util.removeClass(i, a), DayPilot.Util.addClass(i, n)) : (DayPilot.Util.removeClass(i, n), 
                    DayPilot.Util.addClass(i, a));
                }
            }, this.hm = function() {
                this.Qk();
                var e = this.Pk(), t = function(e, t, i) {
                    if (e && e.style) {
                        var n = e.firstChild;
                        f.Vk ? (e.style.width = t + "px", n.style.width = t + "px", "number" == typeof i && (e.style.left = i + "px")) : n.style.width = t + "px";
                    }
                }, i = function(i) {
                    var n = i.cells[0];
                    if (n.colSpan > 1) {
                        var n = i.cells[0];
                        t(n, e);
                    } else if (f.rowHeaderCols) for (var a = 0, r = 0; r < i.cells.length; r++) {
                        var o = f.rowHeaderCols[r], n = i.cells[r];
                        t(n, o, a), a += o;
                    } else {
                        var o = f.rowHeaderWidth, n = i.cells[0];
                        t(n, o);
                    }
                }, n = this.divHeader;
                n.style.width = e + "px";
                for (var a = f.Rk(), r = a.start; r < a.end; r++) {
                    var o = n.rows[r];
                    o && i(o);
                }
                if (f.uj.top.enabled()) for (var r = 0; r < f.uj.top.rowlist.length; r++) {
                    var o = f.uj.top.divHeader.rows[r];
                    i(o);
                }
                if (f.uj.bottom.enabled()) for (var r = 0; r < f.uj.bottom.rowlist.length; r++) {
                    var o = f.uj.bottom.divHeader.rows[r];
                    i(o);
                }
                f.nav.resScrollSpace && (f.nav.resScrollSpace.style.width = e + "px"), this.ia();
            }, this.si = function() {
                this.Cl(), this.hm();
            }, this.ri = function() {
                var e = f.nav.corner, t = this.rowHeaderColumns, i = document.createElement("div");
                i.style.position = "absolute", i.style.bottom = "0px", i.style.left = "0px", i.style.width = "100%", 
                i.style.height = P.headerHeight() + "px", i.style.overflow = "hidden", f.nav.columnScroll = i;
                var n = document.createElement("div");
                n.style.position = "absolute", n.style.bottom = "0px", n.style.left = "0px", n.style.width = "5000px", 
                n.style.height = P.headerHeight() + "px", n.style.overflow = "hidden", n.className = this.C("_columnheader"), 
                i.appendChild(n);
                var a = document.createElement("div");
                a.style.position = "absolute", a.style.top = "0px", a.style.bottom = "0px", a.style.left = "0px", 
                a.style.right = "0px", a.className = this.C("_columnheader_inner"), n.appendChild(a), 
                f.rj && (f.rj.dispose(), f.rj = null);
                var t = DayPilot.list(f.rowHeaderColumns), r = [];
                t.forEach(function(e) {
                    var t = {};
                    t.column = {}, t.column.html = e.html || e.text || e.name || e.title || "", t.column.areas = null, 
                    t.column.sortingEnabled = !!e.sort, t.column.data = e, r.push(t), "function" == typeof f.onBeforeRowHeaderColumnRender && f.onBeforeRowHeaderColumnRender(t);
                });
                var o = new DayPilot.Splitter(a);
                o.enabled = f.rowHeaderColumnsResizable, o.widths = DayPilot.Util.propArray(t, "width", f.rowHeaderColumnDefaultWidth), 
                o.height = P.headerHeight(), o.css.title = this.C("_columnheader_cell"), o.css.titleInner = this.C("_columnheader_cell_inner"), 
                o.css.splitter = this.C("_columnheader_splitter");
                var s = f.rows.Al(), l = f.rows.zl();
                o.titles = DayPilot.list(r).map(function(e) {
                    var t = e.column.data, i = e.column.html, n = {};
                    if (n.areas = [], t.sort && e.column.sortingEnabled) {
                        var a = f.C("_sorticon");
                        s === t.sort ? (a += " " + f.C("_sorticon_active"), a += "asc" === l ? " " + f.C("_sorticon_asc") : " " + f.C("_sorticon_desc")) : a += " " + f.C("_sorticon_asc"), 
                        n.areas = [ {
                            right: 5,
                            top: 0,
                            bottom: 0,
                            width: 10,
                            cssClass: a,
                            onClick: function(e) {
                                var i = {};
                                i.field = t.sort, s === t.sort ? i.order = "asc" === f.rows.zl() ? "desc" : "asc" : i.order = "asc", 
                                f.rows.sort(i);
                            }
                        } ];
                    }
                    return DayPilot.isArray(e.column.areas) && (n.areas = n.areas.concat(e.column.areas)), 
                    n.html = i, n;
                }), o.data = DayPilot.list(t, !0), o.updating = function(e) {
                    f.ih.skip = !0, DayPilot.Util.updatePropsFromArray(f.rowHeaderColumns, "width", this.widths), 
                    f.si(), "Auto" === f.cellWidthSpec;
                }, o.updated = function(e) {
                    if (f.Uk(), f.La()) {
                        if ("function" == typeof f.onRowHeaderColumnResized) {
                            var t = {};
                            t.column = f.rowHeaderColumns[e.index], f.onRowHeaderColumnResized(t);
                        }
                    } else switch (f.rowHeaderColumnResizedHandling) {
                      case "CallBack":
                        break;

                      case "PostBack":
                        break;

                      case "JavaScript":
                        if ("function" == typeof f.onRowHeaderColumnResized) {
                            var t = {};
                            t.column = f.rowHeaderColumns[e.index], f.onRowHeaderColumnResized(t);
                        }
                    }
                }, o.color = "#000000", o.opacity = 30, o.init(), e.appendChild(i), this.rj = o;
            }, this.Ai = function() {
                var e = this.nav.corner;
                if (e) {
                    e.innerHTML = "", e.className = this.C("_corner");
                    var t = document.createElement("div");
                    if (t.style.position = "absolute", t.style.top = "0px", t.style.left = "0px", t.style.right = "0px", 
                    t.style.bottom = "0px", t.className = this.C("_corner_inner"), this.divCorner = t, 
                    t.innerHTML = "&nbsp;", this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                        var i = document.createElement("div");
                        i.style.position = "absolute", i.style.top = "0px", i.style.left = "0px", i.style.right = "0px", 
                        i.style.bottom = P.headerHeight() + 1 + "px", e.appendChild(i);
                        var n = document.createElement("div");
                        n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.height = "1px", 
                        n.style.bottom = P.headerHeight() + "px", n.className = this.C("_divider"), e.appendChild(n), 
                        i.appendChild(t), this.ri();
                    } else e.appendChild(t);
                    var a = document.createElement("div");
                    a.style.position = "absolute", a.style.padding = "2px", a.style.top = "0px", a.style.left = "1px", 
                    a.style.backgroundColor = "#FF6600", a.style.color = "white", a.innerHTML = "DE" + "MO", 
                    DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(a);
                }
            }, this.fm = function() {
                var e = 3, t = this.Fh() + P.splitterWidth() - 1, i = 10, n = 20, a = this.Gh() + e, r = DayPilot.Util.div(this.nav.top, t, a, i, n);
                r.style.cursor = "pointer", r.className = f.C("_header_icon"), DayPilot.Util.addClass(r, f.C("_header_icon_hide")), 
                r.onclick = function() {
                    f.rows.headerToggle();
                }, this.nav.hideIcon = r;
            }, this.Bi = function() {
                f.nav.hideIcon && (f.rowlist.length > 0 && f.rowHeaderHideIconEnabled ? f.nav.hideIcon.style.display = "" : f.nav.hideIcon.style.display = "none");
            }, this.ad = function() {
                var e = this.Fh(), t = document.createElement("div");
                return f.nav.corner = t, t.style.width = e + "px", t.style.height = this.Gh() + "px", 
                t.style.overflow = "hidden", t.style.position = "relative", t.setAttribute("unselectable", "on"), 
                t.onmousemove = function() {
                    f.ha();
                }, t.oncontextmenu = function() {
                    return !1;
                }, this.Ai(), t;
            }, this.Gh = function() {
                if ("None" === f.timeHeaderPosition) return 0;
                if (f.timeHeaders) {
                    var e = N.timeHeader(f.timeHeaders.length - 1);
                    return e.top + e.height;
                }
                return this.timeHeader ? f.timeHeader.length * P.headerHeight() : 0;
            }, this.im = null, this.jm = function() {
                return f.scrollStep || f.eventHeight;
            }, this.Yl = function() {
                var e = document.createElement("div");
                e.style.width = this.Fh() + "px", e.style.height = this.Ec() + "px", e.style.overflow = "hidden", 
                e.style.position = "relative", e.className = f.C("_rowheader_scroll");
                var t = f.jm(), i = f.$c.mobile();
                return i && !a && (e.style.overflowY = "auto"), e.onmousemove = function() {
                    f.ha();
                }, e.onscroll = function() {
                    if (f.nav.columnScroll && f.rowHeaderScrolling && (f.nav.columnScroll.scrollLeft = e.scrollLeft), 
                    f.im && clearTimeout(f.im), i) {
                        var t = function() {
                            var t = f.jk() - f.nav.scroll.offsetHeight;
                            e.scrollTop = Math.min(e.scrollTop, t), f.nav.scroll.scrollTop = e.scrollTop;
                        };
                        a || (f.im = setTimeout(t, 10));
                    } else f.im = setTimeout(function() {
                        f.nav.scroll.scrollTop = e.scrollTop;
                    }, 500);
                }, e.addEventListener("wheel", function(i) {
                    if (0 !== f.km()) {
                        var n;
                        n = f.overrideWheelScrolling || f.scrollStep ? i.deltaY > 0 ? t : -t : 1 === i.deltaMode ? i.deltaY * P.lm() * 1.7 : i.deltaY, 
                        f.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault();
                    }
                }, !1), e.oncontextmenu = function() {
                    return !1;
                }, e.onmouseenter = function() {
                    f.rowHeaderScrolling && (e.style.overflowX = "auto");
                }, e.onmouseleave = function() {
                    f.rowHeaderScrolling && (e.style.overflowX = "hidden");
                }, e.setAttribute("role", "region"), e.setAttribute("aria-label", "scheduler rows"), 
                this.divResScroll = e, this.Kh = e, e;
            }, this.mm = function(e) {
                if ("TableBased" === P.layout()) {
                    var t = parseInt(this.width, 10), i = isNaN(t) || this.width.indexOf("%") !== -1, n = (/MSIE/i.test(navigator.userAgent), 
                    this.Pk());
                    i ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - n + "px") : e.style.width = t - n + "px";
                }
            }, this.gf = function(e) {
                f.Yg(), f.hh();
            }, this.Yg = function() {
                "TableBased" === f.$c.layout() && (f.mm(f.nav.scroll), f.mm(f.divTimeScroll)), f.Ca(), 
                f.Uk(), f.nm(), f.L.drawArea = null;
            }, this.om = null, this.oj = null, this.pm = function() {
                f.watchWidthChanges && (f.oj || (this.oj = setInterval(function() {
                    return f.nav && f.nav.top ? (f.om || (f.om = {}, f.om.counter = 0, f.om.changed = !1, 
                    f.om.width = f.nav.top.offsetWidth), f.om.width !== f.nav.top.offsetWidth && (f.om.changed = !0, 
                    f.om.counter = 0, f.om.width = f.nav.top.offsetWidth), f.om.changed && (f.om.counter += 1), 
                    void (f.om.changed && f.om.counter > 2 && (f.om.changed = !1, f.Yg(), f.hh()))) : void clearInterval(f.oj);
                }, 200)));
            }, this.nm = function() {
                var e = f.rangeHold;
                f.clearSelection(), f.rangeHold = e, f.Pi(e, !0);
            }, this.Uk = function() {
                f.N && "Auto" === f.cellWidthSpec && (f.Sg(), f.Tg(), f.Wg(), f.$g(), f._g(), f._(), 
                f.ta(), f.Xg(), f.Zg(), f.ki(), f.Ha(), f.bh(), f.ch(), f.Ca());
            }, this.Sg = function() {
                if ("Auto" === this.cellWidthSpec) {
                    var e = this.nav.top.clientWidth, t = this.Fh(), i = f.km(), n = e - t - i;
                    if (this.nk()) {
                        var a = n / this.nk();
                        this.cellWidth = Math.max(a, f.cellWidthMin), f.Jh = a < f.cellWidthMin;
                    }
                }
            }, this.km = function() {
                if ("Auto" === f.heightSpec) return 0;
                if ("Max" === f.heightSpec || "Fixed" === f.heightSpec || "Parent100Pct" === f.heightSpec) {
                    return f.jk() > f.height ? DayPilot.sw(f.nav.scroll) : 0;
                }
                return DayPilot.sw(f.nav.scroll);
            }, this.Oh = function() {
                var e = this.nav.top.clientWidth, t = this.Fh(), i = this.Ec(), n = this.jk(), a = "Auto" === f.heightSpec, r = 0;
                return n > i && !a && (r = DayPilot.swa()), e - t - 2 - r;
            }, this.bm = function() {
                var e = "Top" === f.timeHeaderPosition, t = document.createElement("div");
                t.style.overflow = "hidden", t.style.display = "block", e ? (t.style.position = "absolute", 
                t.style.top = "0px") : t.style.position = "relative", t.style.width = "100%", t.style.height = this.Gh() + "px", 
                t.style.overflow = "hidden", t.onmousemove = function() {
                    f.ha(), f.cellBubble && f.cellBubble.delayedHide();
                }, this.mm(t), this.divTimeScroll = t;
                var i = document.createElement("div");
                return i.style.width = this.Ch() + 5e3 + "px", this.divNorth = i, t.appendChild(i), 
                t;
            }, this.Ec = function() {
                var e = 0, t = f.heightSpec;
                return "Fixed" === t || "Parent100Pct" === t ? this.height ? this.height : 0 : (e = f.jk(), 
                ("Max" === t || "Max100Pct" === t) && e > f.height ? f.height : e);
            }, this.qm = null, this.rm = 0, this.sm = 0, this.tm = 0, this.Mh = function() {
                if ("function" == typeof f.onHeightChanged || "function" == typeof f.onDimensionsChanged) {
                    f.qm && clearTimeout(f.qm);
                    var e = function() {
                        var e = f.nav.top.offsetHeight, t = f.rm;
                        f.rm = e;
                        var i = f.nav.top.offsetWidth, n = f.sm;
                        f.sm = i;
                        var a = f.Fh(), r = f.tm;
                        if (f.tm = a, "function" == typeof f.onHeightChanged && e !== t) {
                            var o = {};
                            o.oldHeight = t, o.newHeight = e, f.onHeightChanged(o);
                        }
                        if ("function" == typeof f.onDimensionsChanged && (e !== t || i !== n || a !== r)) {
                            var o = {};
                            o.oldHeight = t, o.newHeight = e, o.oldWidth = n, o.newWidth = i, o.oldRowHeaderWidth = r, 
                            o.newRowHeaderWidth = a, f.onDimensionsChanged(o);
                        }
                    };
                    f.qm = setTimeout(e, 100);
                }
            }, this.jk = function() {
                var e;
                return this.Ng !== -1 ? (e = this.Ng, this.Ng > 0 && "auto" === f.nav.scroll.style.overflowX && (e += DayPilot.sh(f.nav.scroll))) : e = this.rowlist.length * this.$c.eventHeight(), 
                e += f.uj.bottom.height;
            }, this.ha = function() {
                f.um && (this.ia(), this.vm(), this.wm(), this.Nk(), this.ik(), f.cellBubble && f.cellBubble.hideOnMouseOut(), 
                f.bubble && f.bubble.hideOnMouseOut(), f.um = !1);
            }, this.uj = {}, this.uj.top = {}, this.uj.top.height = 0, this.uj.top.rowlist = [], 
            this.uj.top.enabled = function() {
                return this.rowlist && this.rowlist.length > 0;
            }, Object.defineProperty(f.uj.top, "top", {
                get: function() {
                    return f.Gh() + 1;
                }
            }), Object.defineProperty(f.uj.top, "right", {
                get: function() {
                    return f.km();
                }
            }), Object.defineProperty(f.uj.top, "heightRes", {
                get: function() {
                    return this.height;
                }
            }), this.uj.bottom = {}, this.uj.bottom.height = 0, this.uj.bottom.rowlist = [], 
            this.uj.bottom.enabled = function() {
                return this.rowlist && this.rowlist.length > 0;
            }, Object.defineProperty(f.uj.bottom, "top", {
                get: function() {
                    return f.Gh() + f.Ec() - this.height - DayPilot.sh(f.nav.scroll) + 1;
                }
            }), Object.defineProperty(f.uj.bottom, "right", {
                get: function() {
                    return f.km();
                }
            }), Object.defineProperty(f.uj.bottom, "heightRes", {
                get: function() {
                    return this.height + DayPilot.sh(f.nav.scroll);
                }
            }), this.uj.main = {}, this.gm = function() {
                var e = f.uj.main;
                e.divCells = f.divCells, e.divLines = f.divLines, e.divHeader = f.divHeader, e.divEvents = f.divEvents, 
                e.divShadow = f.divShadow, e.divHover = f.divHover, e.div = f.nav.scroll, Object.defineProperty(f.uj.main, "rowlist", {
                    get: function() {
                        return f.rowlist;
                    }
                }), Object.defineProperty(f.uj.main, "top", {
                    get: function() {
                        return f.Gh() + 1;
                    }
                });
            }, this.Zl = function() {
                var e = f.uj.top, t = e.top, i = e.height, n = document.createElement("div");
                return n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", 
                n.style.top = t + "px", n.style.height = i + "px", n.style.overflow = "hidden", 
                n.style.boxSizing = "border-box", n.rows = [], e.divHeader = n, n;
            }, this.$l = function() {
                var e = f.uj.bottom, t = e.top, i = e.height, n = document.createElement("div");
                n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.top = t + "px", 
                n.style.height = i + "px", n.style.overflow = "hidden", n.style.boxSizing = "border-box";
                var a = document.createElement("div");
                return a.style.position = "absolute", a.style.height = "500px", a.style.top = e.height + "px", 
                a.style.left = "0px", a.style.right = "0px", a.className = f.C("_rowheader"), n.appendChild(a), 
                n.rows = [], e.divHeader = n, e.divSpace = a, n;
            }, this.dm = function() {
                var e = f.uj.top, t = e.top, i = e.height, n = document.createElement("div");
                n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.top = t + "px", 
                n.style.height = i + "px", n.style.overflow = "hidden", n.className = f.C("_grid_top"), 
                n.onmousedown = f.xm, n.onmousemove = f.Ok, n.oncontextmenu = f.ym, f.nav.fixedTop = n, 
                e.div = n;
                var a = f.zm(n);
                return DayPilot.Util.copyProps(a, e), n;
            }, this.em = function() {
                var e = f.uj.bottom, t = e.top, i = e.height, n = document.createElement("div");
                n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.bottom = t + "px", 
                n.style.height = i + "px", n.style.overflow = "hidden", n.className = f.C("_grid_bottom"), 
                n.onmousedown = f.xm, n.onmousemove = f.Ok, n.oncontextmenu = f.ym, f.nav.fixedBottom = n, 
                e.div = n;
                var a = f.zm(n);
                return DayPilot.Util.copyProps(a, e), n;
            }, this.zm = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute", e.appendChild(t);
                var i = document.createElement("div");
                i.style.position = "absolute", e.appendChild(i);
                var n = document.createElement("div");
                n.style.position = "absolute", e.appendChild(n);
                var a = document.createElement("div");
                a.style.position = "absolute", a.style.left = "0px", a.style.width = "100000px", 
                a.style.bottom = "0px", a.style.height = "1px", e.appendChild(a);
                var r = document.createElement("div");
                r.style.position = "absolute", e.appendChild(r);
                var o = document.createElement("div");
                return o.style.position = "absolute", e.appendChild(o), {
                    divCells: t,
                    divLines: i,
                    divEvents: n,
                    divShadow: o,
                    divHover: r
                };
            }, this.Lh = function() {
                var e = f.uj.top, t = f.uj.bottom;
                h(e), h(t), f.divStretch.style.height = f.Ng + t.height + "px", f.nav.dividerTop.style.top = e.top + e.height - 1 + "px", 
                f.nav.dividerTop.style.right = e.right + "px", f.Am(f.nav.dividerTop, e.enabled()), 
                f.nav.dividerBottom.style.top = t.top - 1 + "px", f.nav.dividerBottom.style.right = t.right + "px", 
                f.Am(f.nav.dividerBottom, t.enabled());
            }, this.Am = function(e, t) {
                e.style.display = t ? "" : "none";
            }, this.Sh = function() {
                var e = f.rowlist;
                return e = e.concat(f.uj.top.rowlist), e = e.concat(f.uj.bottom.rowlist);
            }, this.Bm = function() {
                return f.rowlist.length > 0 || f.uj.top.rowlist.length > 0 || f.uj.bottom.rowlist.length > 0;
            }, this.cm = function() {
                var e = document.createElement("div");
                if (e.style.overflow = "auto", e.style.overflowX = "auto", e.style.overflowY = "auto", 
                e.style.height = this.Ec() + "px", "Top" === f.timeHeaderPosition ? (e.style.top = this.Gh() + 1 + "px", 
                e.style.position = "absolute") : e.style.position = "relative", e.style.width = "100%", 
                e.className = this.C("_scrollable"), e.oncontextmenu = function() {
                    return !1;
                }, this.mm(e), f.overrideWheelScrolling) {
                    var t = f.jm();
                    e.onwheel = function(i) {
                        var n = i.deltaY > 0 ? t : -t;
                        f.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault();
                    }, e.onmousewheel = function(i) {
                        i = i || window.event;
                        var n = i.wheelDelta < 0 ? t : -t;
                        f.nav.scroll.scrollTop = e.scrollTop + n, i.preventDefault && i.preventDefault(), 
                        i.returnValue = !1;
                    };
                }
                this.nav.scroll = e, this.mh = document.createElement("div"), this.mh.style.MozUserSelect = "none", 
                this.mh.style.KhtmlUserSelect = "none", this.mh.style.webkitUserSelect = "none", 
                this.mh.daypilotMainD = !0, this.mh.calendar = this, n && (this.mh.style.webkitTransform = "translateZ(0px)"), 
                this.mh.style.position = "absolute";
                var i = this.Ch();
                return i > 0 && !isNaN(i) && (this.mh.style.width = i + "px"), this.mh.setAttribute("unselectable", "on"), 
                this.mh.onmousedown = this.xm, this.mh.onmousemove = this.Ok, this.mh.onmouseup = this.Cm, 
                this.mh.oncontextmenu = this.ym, this.mh.ondblclick = this.Dm, this.mh.className = this.C("_matrix"), 
                this.divStretch = document.createElement("div"), this.divStretch.style.position = "absolute", 
                this.divStretch.style.height = "1px", this.mh.appendChild(this.divStretch), this.divCells = document.createElement("div"), 
                this.divCells.style.position = "absolute", this.divCells.oncontextmenu = this.ym, 
                this.mh.appendChild(this.divCells), this.divLines = document.createElement("div"), 
                this.divLines.style.position = "absolute", this.divLines.oncontextmenu = this.ym, 
                this.mh.appendChild(this.divLines), this.divBreaks = document.createElement("div"), 
                this.divBreaks.style.position = "absolute", this.divBreaks.oncontextmenu = this.ym, 
                this.mh.appendChild(this.divBreaks), this.divSeparators = document.createElement("div"), 
                this.divSeparators.style.position = "absolute", this.divSeparators.oncontextmenu = this.ym, 
                this.mh.appendChild(this.divSeparators), this.divLinksBelow = document.createElement("div"), 
                this.divLinksBelow.style.position = "absolute", this.mh.appendChild(this.divLinksBelow), 
                this.divCrosshair = document.createElement("div"), this.divCrosshair.style.position = "absolute", 
                this.divCrosshair.ondblclick = this.Dm, this.divCrosshair.onmousedown = this.ud, 
                this.mh.appendChild(this.divCrosshair), this.divRange = document.createElement("div"), 
                this.divRange.style.position = "absolute", this.divRange.oncontextmenu = this.ym, 
                this.mh.appendChild(this.divRange), this.divEvents = document.createElement("div"), 
                this.divEvents.style.position = "absolute", this.mh.appendChild(this.divEvents), 
                this.divSeparatorsAbove = document.createElement("div"), this.divSeparatorsAbove.style.position = "absolute", 
                this.divSeparatorsAbove.oncontextmenu = this.ym, this.mh.appendChild(this.divSeparatorsAbove), 
                this.divLinksAbove = document.createElement("div"), this.divLinksAbove.style.position = "absolute", 
                this.mh.appendChild(this.divLinksAbove), this.divLinkShadow = document.createElement("div"), 
                this.divLinkShadow.style.position = "absolute", this.mh.appendChild(this.divLinkShadow), 
                this.divLinkpoints = document.createElement("div"), this.divLinkpoints.style.position = "absolute", 
                this.mh.appendChild(this.divLinkpoints), this.divRectangle = document.createElement("div"), 
                this.divRectangle.style.position = "absolute", this.mh.appendChild(this.divRectangle), 
                this.divHover = document.createElement("div"), this.divHover.style.position = "absolute", 
                this.mh.appendChild(this.divHover), this.divShadow = document.createElement("div"), 
                this.divShadow.style.position = "absolute", this.mh.appendChild(this.divShadow), 
                e.appendChild(this.mh), e;
            }, this.Em = {};
            var A = this.Em;
            A.create = function() {
                if (!f.nav.overlay) {
                    var e = document.createElement("div");
                    e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", 
                    e.style.bottom = "0px", e.className = f.C("_block"), f.nav.top.appendChild(e), f.nav.overlay = e;
                }
            }, A.show = function() {
                A.create(), f.nav.overlay.style.display = "";
            }, A.hide = function() {
                f.nav.overlay && (f.nav.overlay.style.display = "none");
            }, this.U = function(e) {
                var t = e ? 0 : 100;
                f.loadingTimeout && window.clearTimeout(f.loadingTimeout), f.loadingTimeout = window.setTimeout(function() {
                    f.loadingLabelVisible && (f.nav.loading.innerHTML = f.loadingLabelText, f.nav.loading.style.display = ""), 
                    f.blockOnCallBack && A.show();
                }, t);
            }, this.na = function() {
                this.loadingTimeout && window.clearTimeout(this.loadingTimeout), this.nav.loading.style.display = "none", 
                this.blockOnCallBack && A.hide();
            }, this.loadingStart = function() {
                f.U();
            }, this.loadingStop = function() {
                f.na();
            }, this.uiBlock = function() {
                A.show();
            }, this.uiUnblock = function() {
                A.hide();
            }, this.Yd = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart();
            }, this.be = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", 
                t.className = this.C(e), document.body.appendChild(t);
                var i = t.offsetHeight, n = t.offsetWidth;
                document.body.removeChild(t);
                var a = {};
                return a.height = i, a.width = n, a;
            }, this.Ka = function(e) {
                if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.M >= this.autoRefreshMaxCount)) {
                    this.Z();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10) throw "The minimum autoRefreshInterval is 10 seconds";
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        f.Jd();
                    }, 1e3 * this.autoRefreshInterval);
                }
            }, this.Z = function() {
                this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout), this.autoRefreshTimeout = null);
            }, this.autoRefreshStart = function(e) {
                f.Ka(e);
            }, this.autoRefreshPause = function() {
                f.Z();
            }, this.Fm = function() {
                return !(o.resizing || o.moving || o.drag || o.range);
            }, this.Jd = function() {
                if (f.Fm()) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var t = {};
                        t.i = this.M, t.preventDefault = function() {
                            this.preventDefault.value = !0;
                        }, f.onAutoRefresh(t), t.preventDefault.value && (e = !0);
                    }
                    !e && this.E() && this.commandCallBack(this.autoRefreshCommand), this.M++;
                }
                this.M < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    f.Jd();
                }, 1e3 * this.autoRefreshInterval));
            }, this.Kd = function() {
                o.globalHandlers || (o.globalHandlers = !0, DayPilot.re(document, "mousemove", o.gMouseMove), 
                DayPilot.re(document, "mouseup", o.gMouseUp), DayPilot.re(document, "mousedown", o.gMouseDown), 
                DayPilot.re(document, "touchmove", o.gTouchMove), DayPilot.re(document, "touchend", o.gTouchEnd), 
                DayPilot.re(window, "keyup", o.gKeyUp)), DayPilot.re(window, "resize", this.gf);
            }, this.Gm = function() {
                this.nav.scroll.root = this, this.nav.scroll.onscroll = this.hh, f.ok = this.nav.scroll.scrollLeft, 
                f.mk = this.nav.scroll.scrollTop, this.divNorth && (f.pk = this.divNorth.clientWidth);
            }, this.pg = function() {
                if (this.nav.state) {
                    var e = {};
                    e.scrollX = this.nav.scroll.scrollLeft, e.scrollY = this.nav.scroll.scrollTop;
                    var t = f.ej(e.scrollX, e.scrollY), i = f.fj(t), n = f.gj(t);
                    e.rangeStart = i.start, e.rangeEnd = i.end, e.resources = n, this.syncResourceTree && (e.tree = this.ga()), 
                    this.nav.state.value = DayPilot.he(JSON.stringify(e));
                }
            }, this.ch = function() {
                if (this.separators) for (var e = 0; e < this.separators.length; e++) this.Qd(e);
            }, this.Hm = {}, this.Hm.step = 300, this.Hm.delay = 10, this.Hm.mode = "display", 
            this.Hm.layers = !1, this.rk = function(e) {
                if (f.Jg) return void D.calculateEventPositionsRow(e);
                for (var t = 0, i = 0; i < e.lines.length; i++) {
                    var n = e.lines[i];
                    n.height = 0, n.top = t;
                    for (var a = 0; a < n.length; a++) {
                        var r = n[a];
                        if (!r.part.top, !0) {
                            r.part.line = i, r.part.height || (r.part.height = e.eventHeight);
                            var o = r.part.sl();
                            o > n.height && (n.height = o), r.part.top = t + e.marginTop;
                            var s = "Above" === f.eventVersionPosition;
                            if (f.eventVersionsEnabled && !DayPilot.list(r.versions).isEmpty()) {
                                var l = r.cache || r.data, d = (l.versions.length, r.part.top);
                                s || (d += r.part.height + f.eventVersionMargin), DayPilot.list(l.versions).forEach(function(e, t) {
                                    if (r.versions[t]) {
                                        var i = t * (f.eventVersionHeight + f.eventVersionMargin);
                                        r.versions[t].top = d + i, s && (r.part.top += f.eventVersionHeight, r.part.top += f.eventVersionMargin);
                                    }
                                });
                            }
                            r.part.top += f.eventMarginBottom, r.part.right = r.part.left + r.part.width, r.part.fullTop = this.rowlist[r.part.dayIndex].top + r.part.top, 
                            r.part.fullBottom = r.part.fullTop + r.part.height;
                        }
                    }
                    t += (n.height || e.eventHeight) * e.eventStackingLineHeight / 100;
                }
            };
            var D = {};
            D.loadRow = function(e) {
                e.evColumns = DayPilot.list(f.itline).map(function(e, t) {
                    return {
                        events: DayPilot.list()
                    };
                }), DayPilot.list(e.events).forEach(function(t) {
                    var i = t.start(), n = f.bi(i);
                    e.evColumns[n.i].events.push(t);
                });
            }, D.calculateEventPositions = function() {
                var e = f.Kg, t = 0;
                DayPilot.list(f.rowlist).forEach(function(i) {
                    var n = 0;
                    i.evColumns.forEach(function(t, a) {
                        var r = f.itline[a], o = f.rowMarginTop;
                        t.events.forEach(function(t) {
                            t.part.left = r.left, t.part.width = r.width, t.part.top = o, t.part.height || (e ? t.part.height = D.getEventAutoHeight(t) + f.durationBarHeight : t.part.height = i.eventHeight), 
                            o += t.part.height + f.eventMarginBottom;
                        }), t.height = o, t.height > n && (n = t.height);
                    }), i.maxColumnHeight = n, i.top = t;
                    var a = i.height;
                    i.height = i.getHeight(), n > f.rowMarginTop && (i.height = n + f.rowMarginBottom), 
                    a !== i.height && (f.Hi = !0), t += i.height;
                }), f.Ng = t;
            }, D.getEventAutoHeight = function(e) {
                var t = e.client.html(), i = document.createElement("div");
                i.style.position = "absolute", i.style.top = "-2000px", i.style.left = "-2000px", 
                i.style.width = e.part.width + "px", i.className = f.C(M.event);
                var n = document.createElement("div");
                n.className = f.C(M.eventInner), n.innerHTML = t, n.style.position = "static", n.style.overflow = "auto", 
                i.appendChild(n);
                var a = f.divEvents;
                a.appendChild(i);
                var r = i.offsetHeight;
                return a.removeChild(i), r;
            }, D.calculateEventPositionsRow = function(e) {
                D.calculateEventPositions();
            }, D.drawEventsWithoutCheckingOverflow = function() {
                DayPilot.list(f.rowlist).forEach(function(e) {
                    D.drawEventsRow(e);
                });
            }, D.drawEvents = function() {
                D.drawEventsWithoutCheckingOverflow(), D.checkOverflow(), f.Zg(), f.Ca();
            }, D.checkOverflow = function() {
                if (f.Kg) {
                    var e = !1;
                    DayPilot.list(f.elements.events).forEach(function(t) {
                        var i = t.firstChild, n = i.offsetHeight - i.clientHeight + t.offsetHeight - t.clientHeight, a = i.scrollHeight + n, r = t.event.part.height;
                        t.event.part.height = a, r !== a && (e = !0);
                    }), e && (f._(), D.calculateEventPositions(), D.drawEventsWithoutCheckingOverflow(), 
                    f.$g(), f.bh());
                }
            }, D.drawEventsRow = function(e) {
                e.evColumns.forEach(function(e, t) {
                    e.events.forEach(function(e) {
                        f.vc(e);
                    });
                });
            }, this.vi = null, this.Ha = function(e) {
                if (!f.$d) {
                    if (f.Jg) return void D.drawEvents();
                    var t = this.Hm.step;
                    this.Hm.layers && (f.divEvents = document.createElement("div"), f.divEvents.style.position = "absolute", 
                    f.mh.insertBefore(this.divEvents, this.divSeparatorsAbove)), "display" === this.Hm.mode ? this.divEvents.style.display = "none" : "visibility" === this.Hm.mode && (this.divEvents.style.visibility = "hidden"), 
                    this.divEvents.setAttribute("role", "region"), this.divEvents.setAttribute("aria-label", "scheduler events");
                    var i = "Progressive" === this.dynamicEventRendering, n = this.rh(), a = n.pixels.top, r = n.pixels.bottom, o = f.allowMultiMove || f.allowMultiResize, s = f.rowlist.filter(function(e) {
                        var t = e.top - f.dynamicEventRenderingMargin, n = t + e.height + 2 * f.dynamicEventRenderingMargin;
                        return !(i && !o && (r <= t || a >= n));
                    });
                    f.uj.top.enabled() && (s = s.concat(f.uj.top.rowlist)), f.uj.bottom.enabled() && (s = s.concat(f.uj.bottom.rowlist)), 
                    s.forEach(function(i) {
                        f.rk(i);
                        for (var n = 0; n < i.lines.length; n++) for (var a = i.lines[n], r = 0; r < a.length; r++) {
                            var o = a[r], s = f.vc(o);
                            if (e && s && (t--, t <= 0)) return f.divEvents.style.visibility = "", f.divEvents.style.display = "", 
                            void (f.vi = window.setTimeout(function() {
                                f.Ha(e);
                            }, f.Hm.delay));
                        }
                    }), this.divEvents.style.display = "", DayPilot.list(f.multiselect.Bb).isEmpty() || f.multiselect.redraw(), 
                    this.wh(), g.load();
                }
            }, this.Ji = function(e, t) {
                var i = f.ck(t), n = i.rowlist[e];
                if (f.Jg) return void D.drawEventsRow(n);
                this.divEvents = document.createElement("div"), this.divEvents.style.position = "absolute", 
                this.divEvents.style.display = "none", this.mh.insertBefore(this.divEvents, this.divSeparatorsAbove), 
                this.rk(n);
                for (var a = 0; a < n.lines.length; a++) for (var r = n.lines[a], o = 0; o < r.length; o++) {
                    var s = r[o];
                    this.vc(s);
                }
                this.divEvents.style.display = "";
            }, this._ = function() {
                if (this.elements.events) for (var e = this.elements.events.length, t = 0; t < e; t++) {
                    var i = this.elements.events[t];
                    this.uc(i);
                }
                this.elements.events = [];
            }, this.Ii = function(e, t) {
                if (t = t || "main", this.elements.events) {
                    for (var i = this.elements.events.length, n = [], a = 0; a < i; a++) {
                        var r = this.elements.events[a], o = r.event;
                        o.part.dayIndex === e && o.part.grid === t && (this.uc(r), n.push(a));
                    }
                    for (var a = n.length - 1; a >= 0; a--) this.elements.events.splice(n[a], 1);
                }
            }, this.uc = function(e) {
                var t = e.domArgs;
                if (e.domArgs = null, t && "function" == typeof f.onDomRemoveEvent && f.onDomRemoveEvent(t), 
                t && "function" == typeof f.onBeforeEventDomRemove && f.onBeforeEventDomRemove(t), 
                t && "function" == typeof f.onBeforeEventDomAdd && f.da.reactDOM) {
                    var i = t && t.tc;
                    if (i) {
                        if (DayPilot.Util.isReactComponent(t.element)) {
                            if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                            f.da.reactDOM.unmountComponentAtNode(i);
                        }
                    }
                }
                e.parentNode && e.parentNode.removeChild(e), e.onclick = null, e.oncontextmenu = null, 
                e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, 
                e.ondblclick = null, e.event && (e.event.rendered = null, e.event = null), e.related && DayPilot.de(e.related);
            }, this.Im = function(e) {
                e.event && (e.event.rendered = !1), e.onclick = null, e.onmousedown = null, e.event = null, 
                e.parentNode && e.parentNode.removeChild(e);
            }, this.Jm = function() {
                if ("Progressive" === this.dynamicEventRendering) {
                    if (f.dynamicEventRenderingCacheSweeping) {
                        var e = f.dynamicEventRenderingCacheSize || 0;
                        this.divEvents.style.display = "none";
                        for (var t = [], i = 0, n = this.elements.events.length, a = n - 1; a >= 0; a--) {
                            var r = this.elements.events[a];
                            this.Km(r.event) ? e > 0 ? (e--, t.unshift(r)) : (this.uc(r), i++) : t.unshift(r);
                        }
                        this.elements.events = t, this.divEvents.style.display = "";
                    }
                }
            }, this.Lm = function(e) {
                for (var t = [], i = 0, n = this.rh(), a = this.elements.cells.length, r = a - 1; r >= 0; r--) {
                    var o = this.elements.cells[r];
                    n.xStart < o.coords.x && o.coords.x <= n.xEnd && n.yStart < o.coords.y && o.coords.y <= n.yEnd ? t.unshift(o) : e > 0 ? (e--, 
                    t.unshift(o)) : (this.Oj(o), i++);
                }
            }, this.Oj = function(e) {
                if (e && e.coords) {
                    var t = e.coords.x, i = e.coords.y, n = e.coords.grid;
                    DayPilot.rfa(f.elements.cells, e), DayPilot.de(e), f.L.cells[n + "_" + t + "_" + i] = null;
                }
            }, this._g = function() {
                if (this.elements.separators) for (var e = 0; e < this.elements.separators.length; e++) {
                    var t = this.elements.separators[e];
                    DayPilot.de(t);
                }
                this.elements.separators = [];
            }, this.Mm = function() {
                var e = "Progressive" === this.dynamicEventRendering;
                if (!this.nav.scroll) return !1;
                for (var t = this.nav.scroll.scrollTop, i = t + this.nav.scroll.clientHeight, n = 0; n < this.rowlist.length; n++) {
                    var a = this.rowlist[n], r = a.top, o = a.top + a.height;
                    if (!e || !(i <= r || t >= o)) for (var s = 0; s < a.lines.length; s++) for (var l = a.lines[s], d = 0; d < l.length; d++) {
                        var c = l[d];
                        if (this.Nm(c)) return !0;
                    }
                }
                return !1;
            }, this.Nm = function(e) {
                if (e.rendered) return !1;
                var t = "Progressive" === this.dynamicEventRendering, i = this.nav.scroll.scrollLeft, n = i + this.nav.scroll.clientWidth, a = e.part.left, r = e.part.left + e.part.width;
                return !t || !(n <= a || i >= r);
            }, this.Km = function(e) {
                if (!e.rendered) return !0;
                var t = this.rh(), i = t.pixels.top, n = t.pixels.bottom, a = t.pixels.left - this.dynamicEventRenderingMargin, r = t.pixels.right + this.dynamicEventRenderingMargin, o = e.part.left, s = e.part.right, l = e.part.fullTop, d = e.part.fullBottom;
                return r <= o || a >= s || (n <= l || i >= d);
            }, this.rl = DayPilot.list(), this.Om = function(e) {
                if (e.rendered) return !1;
                var t = e.row;
                if (t.hidden) return !1;
                var i = e.min, n = e.max - e.min, a = f.eventHeight, r = e.row.top, o = document.createElement("div");
                o.style.position = "absolute", o.style.left = i + "px", o.style.top = r + "px", 
                o.style.width = n + "px", o.style.height = a + "px", o.className = f.C("_event_group"), 
                o.style.cursor = "pointer";
                var s = {};
                s.group = {}, s.group.count = e.events.length, s.group.events = DayPilot.list(e.events, !0), 
                s.group.html = "&#x1F7A7; " + e.events.length + " events", "function" == typeof f.onBeforeGroupRender && f.onBeforeGroupRender(s);
                var l = document.createElement("div");
                return l.innerHTML = s.group.html, o.appendChild(l), o.onmousedown = function(e) {
                    var e = e || window.event;
                    e.cancelBubble = !0;
                }, o.onclick = function(e) {
                    var i = o.event;
                    i.expanded = !0, f.Im(o);
                    var n = DayPilot.indexOf(f.elements.events, o);
                    n !== -1 && f.elements.events.splice(n, 1);
                    var a = f.rl;
                    DayPilot.list(i.events).forEach(function(e) {
                        a.push(e.id());
                    }), f.ki(), f.li([ t ]), f.Ca();
                    var e = e || window.event;
                    e.cancelBubble = !0;
                }, e.part = {}, e.part.left = i, e.part.width = n, e.part.height = f.eventHeight, 
                e.part.dayIndex = DayPilot.indexOf(f.rowlist, e.row), e.part.top = 0, e.part.isBlock = !0, 
                e.client = {}, e.client.html = function() {
                    return s.group.html;
                }, e.data = {}, o.event = e, this.elements.events.push(o), this.divEvents.appendChild(o), 
                e.rendered = !0, !0;
            }, this.vc = function(e, t) {
                t = t || {};
                var i = t.forced;
                if (e.rendered) return !1;
                if (f.groupConcurrentEvents) {
                    var n = e.part.block;
                    if (n.events.length > 1 && !n.expanded) return f.Om(n);
                }
                var a = "Progressive" === this.dynamicEventRendering, r = e.part.dayIndex, o = e.part.grid || "main", s = f.uj[o], l = s.divEvents, d = s.rowlist, c = d[r];
                if (c.hidden) return !1;
                var h = c.top, u = this.rh(), v = u.pixels.left - this.dynamicEventRenderingMargin, p = u.pixels.right + this.dynamicEventRenderingMargin, m = u.pixels.top, g = u.pixels.bottom, y = e.part.left, b = e.part.left + e.part.width, w = e.part.top + h, k = w + e.part.height, C = f.multiselect.$b(e), x = p <= y || v >= b, S = "main" === o && (g <= w || m >= k);
                if (!i && !C && a && (x || S)) return !1;
                var E = "Milestone" === e.data.type, T = e.part.width, A = e.part.height, D = e.cache || e.data;
                T = DayPilot.Util.atLeast(0, T), A = DayPilot.Util.atLeast(0, A);
                var _ = document.createElement("div");
                if (_.related = [], function(t) {
                    f.eventVersionsEnabled && DayPilot.list(D.versions).forEach(function(i, n) {
                        if (i) {
                            var a = e.versions[n];
                            if (a) {
                                var r = document.createElement("div");
                                r.style.position = "absolute", r.style.left = a.left + "px", r.style.top = h + a.top + "px", 
                                r.style.width = a.width + "px", r.style.height = f.eventVersionHeight + "px", r.className = f.C(M.event) + " " + f.C("_event_previous") + " " + f.C("_event_version"), 
                                i.toolTip && (r.title = i.toolTip), i.cssClass && DayPilot.Util.addClass(r, i.cssClass);
                                var o = document.createElement("div");
                                o.setAttribute("unselectable", "on"), o.className = f.C(M.eventInner), o.innerHTML = i.html || i.text || "", 
                                i.backColor && (o.style.background = i.backColor), i.fontColor && (o.style.color = i.fontColor), 
                                i.borderColor && (o.style.borderColor = i.borderColor), i.backImage && (o.style.backgroundImage = "url(" + i.backImage + ")", 
                                i.backRepeat && (o.style.backgroundRepeat = i.backRepeat)), r.appendChild(o), a.continueLeft && !E && DayPilot.Util.addClass(r, f.C("_event_continueleft")), 
                                a.continueRight && !E && DayPilot.Util.addClass(r, f.C("_event_continueright"));
                                var s = f.durationBarVisible && !i.barHidden, d = a.width;
                                if (s && d > 0) {
                                    var c = 100 * a.barLeft / d, u = Math.ceil(100 * a.barWidth / d);
                                    "PercentComplete" === f.durationBarMode && (c = 0, u = i.complete || 0);
                                    var v = document.createElement("div");
                                    v.setAttribute("unselectable", "on"), v.className = f.C(M.eventBar), v.style.position = "absolute", 
                                    i.barBackColor && (v.style.backgroundColor = i.barBackColor);
                                    var p = document.createElement("div");
                                    p.setAttribute("unselectable", "on"), p.className = f.C(M.eventBarInner), p.style.left = c + "%", 
                                    0 < u && u <= 1 ? p.style.width = "1px" : p.style.width = u + "%", i.barColor && (p.style.backgroundColor = i.barColor), 
                                    i.barImageUrl && (p.style.backgroundImage = "url(" + i.barImageUrl + ")"), v.appendChild(p), 
                                    r.appendChild(v);
                                }
                                if (i.htmlLeft) {
                                    var m = f.eventHtmlLeftMargin, g = document.createElement("div");
                                    g.style.position = "absolute", g.style.right = -(a.left - m) + "px", g.style.top = h + a.top + "px", 
                                    g.style.height = f.eventHeight + "px", g.style.boxSizing = "border-box", g.innerHTML = i.htmlLeft, 
                                    g.className = f.C("_event_left"), g.type = "divLeft", g.versionPart = a, t.related.push(g), 
                                    l.appendChild(g);
                                }
                                if (i.htmlRight) {
                                    var m = f.eventHtmlRightMargin, y = document.createElement("div");
                                    y.style.position = "absolute", y.style.left = a.left + a.width + m + "px", y.style.top = h + a.top + "px", 
                                    y.style.height = f.eventHeight + "px", y.style.boxSizing = "border-box", y.innerHTML = i.htmlRight, 
                                    y.className = f.C("_event_right"), y.type = "divRight", y.versionPart = a, t.related.push(y), 
                                    l.appendChild(y);
                                }
                                r.versionPart = a, r.type = "version", t.related.push(r), l.appendChild(r);
                            }
                        }
                    });
                }(_), D.htmlLeft) {
                    var R = f.eventHtmlLeftMargin, B = document.createElement("div");
                    B.style.position = "absolute", B.style.right = -(e.part.left - R) + "px", B.style.top = h + e.part.top + "px", 
                    B.style.height = f.eventHeight + "px", B.style.boxSizing = "border-box", B.innerHTML = D.htmlLeft, 
                    B.className = f.C("_event_left"), B.type = "divLeft", _.related.push(B), l.appendChild(B);
                }
                if (D.htmlRight) {
                    var R = f.eventHtmlRightMargin, P = document.createElement("div");
                    P.style.position = "absolute", P.style.left = e.part.left + e.part.width + R + "px", 
                    P.style.top = h + e.part.top + "px", P.style.height = f.eventHeight + "px", P.style.boxSizing = "border-box", 
                    P.innerHTML = D.htmlRight, P.className = f.C("_event_right"), P.type = "divRight", 
                    _.related.push(P), l.appendChild(P);
                }
                var m = h + e.part.top;
                if (f.treeAnimation) {
                    var N = "number" == typeof c.forcedHeight ? c.forcedHeight : c.height;
                    e.part.top + e.part.height > N && (A = Math.max(0, N - e.part.top));
                }
                _.style.position = "absolute", _.style.left = e.part.left + f.eventMarginLeft + "px", 
                _.style.top = h + e.part.top + "px", _.style.width = T - f.eventMarginLeft - f.eventMarginRight + "px", 
                _.style.height = A + "px", f.eventTextWrappingEnabled || (_.style.whiteSpace = "nowrap"), 
                _.style.overflow = "hidden", _.className = this.C(M.event), E && DayPilot.Util.addClass(_, f.C("_task_milestone")), 
                "Group" === e.data.type && (DayPilot.Util.addClass(_, f.C("_task_parent")), DayPilot.Util.addClass(_, f.C("_task_group"))), 
                D.cssClass && DayPilot.Util.addClass(_, D.cssClass);
                "number" == typeof e.part.line && DayPilot.Util.addClass(_, this.C(M.eventLine + e.part.line)), 
                _.setAttribute("unselectable", "on"), this.showToolTip && !this.bubble && (_.title = e.client.toolTip() || ""), 
                _.onmousemove = this.wc, _.onmouseout = this.xc, _.onmousedown = this.yc, _.onmouseup = this.Pm, 
                _.ontouchstart = H.onEventTouchStart, _.ontouchmove = H.onEventTouchMove, _.ontouchend = H.onEventTouchEnd, 
                e.client.clickEnabled() && (_.onclick = this.Kf), e.client.doubleClickEnabled() && (_.ondblclick = this.ab), 
                _.oncontextmenu = this.bb, "undefined" != typeof D.ariaLabel ? _.setAttribute("aria-label", D.ariaLabel) : _.setAttribute("aria-label", D.text), 
                _.setAttribute("tabindex", "-1");
                var L = document.createElement("div");
                L.setAttribute("unselectable", "on"), L.className = f.C(M.eventInner), D.backColor && (L.style.background = D.backColor), 
                D.fontColor && (L.style.color = D.fontColor), "darker" === D.borderColor && D.backColor ? L.style.borderColor = DayPilot.ColorUtil.darker(D.backColor, 2) : L.style.borderColor = D.borderColor, 
                D.backImage && (L.style.backgroundImage = "url(" + D.backImage + ")", D.backRepeat && (L.style.backgroundRepeat = D.backRepeat)), 
                _.appendChild(L);
                var U = e.start().getTime() === e.part.start.getTime(), z = e.rawend().getTime() === e.part.end.getTime();
                if (U || E || DayPilot.Util.addClass(_, this.C("_event_continueleft")), z || E || DayPilot.Util.addClass(_, this.C("_event_continueright")), 
                e.client.barVisible() && T > 0 && !E) {
                    var O = 100 * e.part.barLeft / T, j = Math.ceil(100 * e.part.barWidth / T);
                    "PercentComplete" === this.durationBarMode && (O = 0, j = D.complete || 0);
                    var I = document.createElement("div");
                    I.setAttribute("unselectable", "on"), I.className = this.C(M.eventBar), I.style.position = "absolute", 
                    D.barBackColor && (I.style.backgroundColor = D.barBackColor);
                    var W = document.createElement("div");
                    W.setAttribute("unselectable", "on"), W.className = this.C(M.eventBarInner), W.style.left = O + "%", 
                    0 < j && j <= 1 ? W.style.width = "1px" : W.style.width = j + "%", D.barColor && (W.style.backgroundColor = D.barColor), 
                    D.barImageUrl && (W.style.backgroundImage = "url(" + D.barImageUrl + ")"), I.appendChild(W), 
                    _.appendChild(I);
                }
                if (_.row = r, D.areas) for (var F = 0; F < D.areas.length; F++) {
                    var u = D.areas[F];
                    if (DayPilot.Areas.isVisible(u)) {
                        u.start && (u.left = f.getPixels(new DayPilot.Date(u.start)).left - e.part.left), 
                        u.end && (u.right = e.part.left + e.part.width - f.getPixels(new DayPilot.Date(u.end)).left);
                        var G = DayPilot.Areas.createArea(_, e, u);
                        _.appendChild(G);
                    }
                }
                if (_.event = e, C && (f.multiselect.add(_.event, !0), f.multiselect.kc(_)), function() {
                    if ("function" != typeof f.onBeforeEventDomAdd && "function" != typeof f.onBeforeEventDomRemove) return void (E || (L.innerHTML = e.client.innerHTML()));
                    var t = {};
                    if (t.control = f, t.e = e, t.element = null, _.domArgs = t, "function" == typeof f.onDomAddEvent && f.onDomAddEvent(t), 
                    "function" == typeof f.onBeforeEventDomAdd && f.onBeforeEventDomAdd(t), t.element) {
                        var i = L;
                        if (i) {
                            t.tc = i;
                            if (DayPilot.Util.isReactComponent(t.element)) {
                                if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                f.da.reactDOM.render(t.element, i);
                            } else i.appendChild(t.element);
                        }
                    } else E || (L.innerHTML = e.client.innerHTML());
                }(), this.elements.events.push(_), l.appendChild(_), e.rendered = !0, f.La()) {
                    if ("function" == typeof f.onAfterEventRender) {
                        var Y = {};
                        Y.e = _.event, Y.div = _, f.onAfterEventRender(Y);
                    }
                } else f.afterEventRender && f.afterEventRender(_.event, _);
                return !0;
            }, this.La = function() {
                return 2 === f.api;
            }, this.Ki = function() {
                for (var e = 0; e < this.elements.events.length; e++) {
                    var t = this.elements.events[e], i = t.event, n = i.part.dayIndex, a = f.ck(i.part.grid), r = a.rowlist[n], o = r.top, s = o + i.part.top, l = "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, d = i.part.height, c = !1;
                    i.part.top + i.part.height > l && (d = Math.max(0, l - i.part.top), c = !0), t.style.top = s + "px", 
                    t.style.height = d + "px", DayPilot.list(t.related).filter(function(e) {
                        return !!e.versionPart;
                    }).forEach(function(e) {
                        var t = e.versionPart;
                        e.style.top = o + t.top + "px";
                    }), DayPilot.list(t.related).filter(function(e) {
                        return !e.versionPart && ("divLeft" === e.type || "divRight" === e.type);
                    }).forEach(function(e) {
                        e.style.top = s + "px";
                    });
                }
            }, this.Vd = function(e) {
                if (!e) return null;
                for (var t = 0; t < f.elements.events.length; t++) {
                    var i = f.elements.events[t];
                    if (i.event === e || i.event.data === e.data) return i;
                }
                return null;
            }, this.Dj = function(e) {
                var t = f.events.Aj(e.data);
                if (!t) return null;
                var i = f.rowlist[t.part.dayIndex];
                return f.rk(i), f.vc(t, {
                    forced: !0
                }), f.Vd(t);
            }, this.xc = function(e) {
                var t = this;
                DayPilot.Areas.hideAreas(t, e), t.active || (DayPilot.Util.removeClass(t, f.C("_event_hover")), 
                f.Qm(t), c.source || g.hideLinkpointsWithDelay(), f.bubble && "Bubble" === f.eventHoverHandling && f.bubble.hideOnMouseOut());
            }, this.Rm = function(e) {
                if ("function" == typeof this.onEventMouseOver) {
                    var t = {};
                    t.div = e, t.e = e.event, this.onEventMouseOver(t);
                }
            }, this.Qm = function(e) {
                if ("function" == typeof this.onEventMouseOut) {
                    var t = {};
                    t.div = e, t.e = e.event, this.onEventMouseOut(t);
                }
            }, this.Sm = function(e) {
                var t = e.row;
                if ("function" == typeof this.onRowMouseOver) {
                    var i = {};
                    i.div = e, i.row = f.Ti(t), this.onRowMouseOver(i);
                }
            }, this.Tm = function(e) {
                var t = e.row;
                if ("function" == typeof this.onRowMouseOut) {
                    var i = {};
                    i.div = e, i.row = f.Ti(t), this.onRowMouseOut(i);
                }
            }, this.wc = function(e) {
                e = e || window.event, f.cellBubble && f.cellBubble.delayedHide();
                for (var t = this; t && !t.event; ) t = t.parentNode;
                f.Um(t, e);
                var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled;
                if (!t.active) {
                    var n = [];
                    if ("Disabled" !== f.eventDeleteHandling && !i) {
                        var a = f.durationBarVisible ? f.durationBarHeight : 0;
                        n.push({
                            action: "JavaScript",
                            v: "Hover",
                            w: 17,
                            h: 17,
                            top: a + 2,
                            right: 2,
                            css: f.C(M.eventDelete),
                            js: function(e) {
                                f.gb(e);
                            }
                        });
                    }
                    var r = t.event.cache ? t.event.cache.areas : t.event.data.areas;
                    r && r.length > 0 && (n = n.concat(r)), DayPilot.Areas.showAreas(t, t.event, null, n), 
                    DayPilot.Util.addClass(t, f.C("_event_hover")), f.Rm(t);
                }
                "Disabled" === f.linkCreateHandling || c.source || (g.clearHideTimeout(), g.hideLinkpoints(), 
                f.Fm() && g.showLinkpoint(t)), f.ei(e), f.coords.insideEvent = !0;
            }, this.ci = {}, this.Pm = function(e) {
                var t = f.ci;
                if (f.ionicEventClickFix) {
                    var i = t.originalMouse;
                    if (i) {
                        var n = DayPilot.mc(e);
                        i.x === n.x && i.y === n.y && (f.Kf.call(this, e), e.preventDefault(), e.stopPropagation());
                    }
                }
            }, this.yc = function(e) {
                f.ha(), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), 
                DayPilot.Bubble.cancelShowing()), e = e || window.event, f.ei(e);
                var t = DayPilot.Util.mouseButton(e);
                if (e.preventDefault(), e.stopPropagation(), t.left) {
                    var i = e.shiftKey;
                    if ("Disabled" !== f.multiSelectRectangle && i) return _.start(), !1;
                    "w-resize" === this.style.cursor || "e-resize" === this.style.cursor ? (o.preventEventClick = !0, 
                    o.resizing = this, o.resizingEvent = this.event, o.originalMouse = DayPilot.mc(e), 
                    document.body.style.cursor = this.style.cursor, g.hideLinkpoints()) : ("move" === this.style.cursor || "Full" === f.moveBy && this.event.client.moveEnabled()) && f.Vm(this, e);
                }
                DayPilot.Menu && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), DayPilot.Menu.active = null);
            }, this.Vm = function(e, t) {
                var i = f.ci;
                f.ei(t), i.start = !0, i.moving = e, i.movingEvent = e.event, i.originalMouse = DayPilot.mc(t), 
                i.moveOffsetX = DayPilot.mo3(e, t).x, i.moveDragStart = f.getDate(f.coords.x, !0), 
                g.hideLinkpoints();
            }, this.zc = {};
            var H = f.zc;
            "undefined" == typeof DayPilot.Global.touch && (DayPilot.Global.touch = {}), DayPilot.Global.touch.active = !1, 
            DayPilot.Global.touch.start = !1, H.timeouts = [], H.onEventTouchStart = function(e) {
                if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
                    e.stopPropagation(), H.clearTimeouts(), DayPilot.Global.touch.start = !0, DayPilot.Global.touch.active = !1;
                    var t = this;
                    f.coords = H.relativeCoords(e);
                    var n = f.tapAndHoldTimeout;
                    H.timeouts.push(window.setTimeout(function() {
                        DayPilot.Global.touch.active = !0, DayPilot.Global.touch.start = !1, e.preventDefault();
                        var n = t.event;
                        switch (f.eventTapAndHoldHandling) {
                          case "Move":
                            if (n.client.moveEnabled()) {
                                var a = i(e);
                                H.startMoving(t, a);
                            }
                            break;

                          case "ContextMenu":
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                            var r = n.client.contextMenu();
                            r ? r.show(n) : f.contextMenu && f.contextMenu.show(n);
                        }
                    }, n));
                }
            }, H.onEventTouchMove = function(e) {
                H.clearTimeouts(), DayPilot.Global.touch.start = !1;
            }, H.onEventTouchEnd = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    if (H.clearTimeouts(), DayPilot.Global.touch.start) {
                        DayPilot.Global.touch.start = !1, e.preventDefault(), e.stopPropagation();
                        var t = this;
                        window.setTimeout(function() {
                            f.Za(t, e);
                        });
                    }
                    window.setTimeout(function() {
                        DayPilot.Global.touch.start = !1, DayPilot.Global.touch.active = !1;
                    }, 500);
                }
            }, H.onMainTouchStart = function(e) {
                if (!(DayPilot.Global.touch.active || DayPilot.Global.touch.start || e.touches.length > 1 || "Disabled" === f.timeRangeSelectedHandling)) {
                    H.clearTimeouts(), DayPilot.Global.touch.start = !0, DayPilot.Global.touch.active = !1;
                    var t = f.tapAndHoldTimeout;
                    H.timeouts.push(window.setTimeout(function() {
                        DayPilot.Global.touch.active = !0, DayPilot.Global.touch.start = !1, e.preventDefault(), 
                        f.coords = H.relativeCoords(e), H.range = f.Wm();
                    }, t));
                    f.coords = H.relativeCoords(e);
                }
            }, H.onMainTouchMove = function(e) {
                if (H.clearTimeouts(), DayPilot.Global.touch.start = !1, o.resizing) return e.preventDefault(), 
                void H.updateResizing();
                if (DayPilot.Global.touch.active) {
                    if (e.preventDefault(), f.coords = H.relativeCoords(e), o.moving) return void H.updateMoving();
                    if (H.range) {
                        var t = H.range;
                        t.end = {
                            x: Math.floor(f.coords.x / f.cellWidth),
                            time: f.getDate(f.coords.x, !0)
                        }, f.Pi(t);
                    }
                }
            }, H.debug = function(e) {}, H.onMainTouchEnd = function(e) {
                H.clearTimeouts();
                if (DayPilot.Global.touch.active) {
                    if (o.moving) {
                        e.preventDefault();
                        var t = o.movingEvent;
                        if (f !== o.movingShadow.calendar) return;
                        var i = o.movingShadow.start, n = o.movingShadow.end, a = "Days" !== f.viewType ? o.movingShadow.row.id : null, r = o.drag && t.part.external, s = o.movingShadow.overlapping, l = !o.movingShadow.allowed;
                        if (DayPilot.Util.removeClass(o.moving, f.C(f.Xm.eventMovingSource)), DayPilot.de(o.movingShadow), 
                        f.Nk(), o.movingShadow.calendar = null, document.body.style.cursor = "", o.moving = null, 
                        o.movingEvent = null, o.movingShadow = null, f.Gk.clear(), s || l || f.Gk.forbidden || f.Gk.invalid) return;
                        f.pb(t, i, n, a, r);
                    }
                    if (H.range) {
                        var d = H.range;
                        H.range = null;
                        var c = f.elements.range2;
                        c && c.overlapping ? f.clearSelection() : f.Mi(d);
                    }
                } else if (DayPilot.Global.touch.start) {
                    if (f.coords.x < f.getScrollX()) return;
                    var d = f.Wm();
                    f.Pi(d);
                    var c = f.elements.range2;
                    c && c.overlapping ? f.clearSelection() : f.Mi(d);
                }
                window.setTimeout(function() {
                    DayPilot.Global.touch.start = !1, DayPilot.Global.touch.active = !1;
                }, 500);
            }, H.clearTimeouts = function() {
                for (var e = 0; e < H.timeouts.length; e++) clearTimeout(H.timeouts[e]);
                H.timeouts = [];
            }, H.relativeCoords = function(e) {
                function t(e, t, i) {
                    var n = DayPilot.abs(i);
                    return {
                        x: e - n.x,
                        y: t - n.y,
                        toString: function() {
                            return "x: " + this.x + ", y:" + this.y;
                        }
                    };
                }
                var i = f.mh, n = e.touches ? e.touches[0] : e, a = n.pageX, r = n.pageY, o = t(a, r, i);
                if (o.grid = "main", f.uj.top.enabled()) {
                    var s = f.uj.top, l = t(a, r, s.divCells);
                    l.y > 0 && l.y <= s.height && (o = l, o.grid = "top");
                }
                if (f.uj.bottom.enabled()) {
                    var d = f.uj.bottom, c = t(a, r, d.divCells);
                    c.y > 0 && c.y <= s.height && (o = c, o.grid = "bottom");
                }
                return o;
            }, H.startMoving = function(e, t) {
                o.moving = e, o.movingEvent = e.event, o.originalMouse = t;
                var i = DayPilot.abs(e);
                o.moveOffsetX = t.x - i.x, o.moveDragStart = f.getDate(f.coords.x, !0), o.movingShadow = f.Ma(e), 
                f.hk();
            }, H.startResizing = function(e, t) {
                o.resizing = e, o.resizingEvent = e.event, o.resizing.dpBorder = t, o.resizingShadow || (o.resizingShadow = f.Ma(e)), 
                f.Ik();
            }, H.updateResizing = function() {
                if (!o.resizingShadow) {
                    var e = o.resizing;
                    o.resizingShadow = f.Ma(e);
                }
                f.Ik();
                var t = {
                    x: f.coords.x,
                    y: f.coords.y,
                    grid: f.coords.grid
                };
                f.Ym(t);
            }, H.updateMoving = function() {
                if (o.movingShadow && o.movingShadow.calendar !== f && f.Nk(), !o.movingShadow) {
                    var e = o.moving;
                    o.movingShadow = f.Ma(e);
                }
                o.movingShadow.calendar.hk();
                var t = {
                    x: f.coords.x,
                    y: f.coords.y,
                    grid: f.coords.grid
                };
                f.Ym(t);
            }, this.Um = function(e, t) {
                var i = this.eventResizeMargin, n = this.eventMoveMargin, a = e;
                if ("undefined" != typeof o) {
                    var r = DayPilot.mo3(e, t);
                    if (r && (f.eventOffset = r, !o.resizing && !o.moving)) {
                        var s = a.event.part.start.toString() === a.event.start().toString(), l = a.event.part.end.toString() === a.event.rawend().toString();
                        if ("Top" === f.moveBy && r.y <= n && a.event.client.moveEnabled() && "Disabled" !== f.eventMoveHandling ? e.style.cursor = "move" : ("Top" === f.moveBy || "Full" === f.moveBy) && r.x <= i && a.event.client.resizeEnabled() && "Disabled" !== f.eventResizeHandling ? s ? (e.style.cursor = "w-resize", 
                        e.dpBorder = "left") : e.style.cursor = "not-allowed" : "Left" === f.moveBy && r.x <= n && a.event.client.moveEnabled() && "Disabled" !== f.eventMoveHandling ? e.style.cursor = "move" : e.offsetWidth - r.x <= i && a.event.client.resizeEnabled() && "Disabled" !== f.eventResizeHandling ? l ? (e.style.cursor = "e-resize", 
                        e.dpBorder = "right") : e.style.cursor = "not-allowed" : o.resizing || o.moving || (a.event.client.clickEnabled() && "Disabled" !== f.eventClickHandling ? e.style.cursor = "pointer" : e.style.cursor = "default"), 
                        "undefined" != typeof DayPilot.Bubble && f.bubble && "Bubble" === f.eventHoverHandling && ("default" === e.style.cursor || "pointer" === e.style.cursor)) {
                            this.Md && r.x === this.Md.x && r.y === this.Md.y;
                            this.Md = r, f.bubble.showEvent(e.event);
                        }
                    }
                }
            }, this.nk = function() {
                return "Days" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration);
            }, this.Ni = function(e) {
                var e = e || o.range || f.rangeHold;
                if (!e) return null;
                var t = f.rowlist[e.start.y];
                if (!t) return null;
                var i, n, a = e.Zm ? e.Zm : e, r = a.end.time > a.start.time, s = t.id, l = r ? a.start.x : a.end.x, d = r ? a.end.x : a.start.x, c = t.start.getTime() - this.Ta().getTime(), h = f.snapToGrid && f.snapToGridTimeRangeSelecting;
                return h ? (i = this.itline[l].start.addTime(c), n = this.itline[d].end.addTime(c)) : r ? (i = a.start.time, 
                n = a.end.time) : (i = a.end.time, n = a.start.time), new DayPilot.Selection(i, n, s, f);
            }, this.Vb = function(e) {
                var t = e.parentNode, i = f.eventEditMinWidth, n = document.createElement("textarea");
                return n.style.position = "absolute", n.style.width = (e.offsetWidth < i ? i : e.offsetWidth - 2) + "px", 
                n.style.height = e.offsetHeight - 2 + "px", n.style.fontFamily = DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family"), 
                n.style.fontSize = DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size"), n.style.left = e.offsetLeft + "px", 
                n.style.top = e.offsetTop + "px", n.style.border = "1px solid black", n.style.padding = "0px", 
                n.style.marginTop = "0px", n.style.backgroundColor = "white", n.value = (e.event.text() || "").trim(), 
                n.event = e.event, t.appendChild(n), n;
            }, this.$m = function(e) {
                var t = v.events();
                t.sort(function(e, t) {
                    var i = e.event, n = t.event;
                    return i.part.dayIndex !== n.part.dayIndex ? i.part.dayIndex - n.part.dayIndex : i.start() !== n.start() ? i.start().getTime() - n.start().getTime() : n.end().getTime() - i.end().getTime();
                });
                var i = t.indexOf(e);
                return i === -1 ? null : i + 1 < t.length ? t[i + 1] : t[0];
            }, this.$a = function(e) {
                if (e && (o.editing && o.editing.blur(), e.event)) {
                    var t = this.Vb(e);
                    o.editing = t, DayPilot.re(t, DayPilot.touch.start, function(e) {
                        e.stopPropagation();
                    }), t.onblur = function() {
                        if (t.onblur = null, o.editing === t && (o.editing = null), t.parentNode && t.parentNode.removeChild(t), 
                        e.event) {
                            var i = (e.event.text(), t.value);
                            f.zb(e.event, i, t.canceling);
                        }
                    }, t.onmousedown = function(e) {
                        e = e || window.event, e.stopPropagation && e.stopPropagation();
                    }, t.onkeypress = function(e) {
                        return 13 !== (window.event ? event.keyCode : e.keyCode) || (this.onblur(), !1);
                    }, t.cancel = function() {
                        o.editing && (o.editing.canceling = !0, o.editing.blur());
                    }, t.onkeydown = function(t) {
                        var i = window.event ? event.keyCode : t.keyCode;
                        if (27 === i) o.editing.cancel(); else if (9 === i) {
                            var n = f.$m(e);
                            return o.editing.cancel(), n && (DayPilot.browser.ie ? setTimeout(function() {
                                f.$a(n);
                            }, 0) : f.$a(n)), !1;
                        }
                    }, t.select(), t.focus();
                }
            }, this._m = {}, this._m.resource = function() {
                return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble() : {
                    showResource: function() {},
                    hideOnMouseOut: function() {}
                };
            }(), this._m.cell = function() {
                return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble() : {
                    showResource: function() {},
                    hideOnMouseOut: function() {}
                };
            }(), this.al = function(e) {
                var t = this, i = t.row;
                if ("undefined" != typeof DayPilot.Bubble) {
                    f.cellBubble;
                    var n = f.Ti(i);
                    n.div = t, f.resourceBubble ? f.resourceBubble.showResource(n) : i.bubbleHtml && f._m.resource.showResource(n);
                }
            }, this.$k = function(e) {
                var t = this;
                t.active || (t.active = !0, f.Sm(t));
            }, this._k = function(e) {
                var t = this;
                delete t.active, f.Tm(t);
            }, this.bl = function(e) {
                var t = this;
                "undefined" != typeof DayPilot.Bubble && f.resourceBubble ? f.resourceBubble.hideOnMouseOut() : f._m.resource.hideOnMouseOut();
                var i = t.firstChild;
                DayPilot.Areas.hideAreas(i, e), i.data = null;
            }, this.cl = function(e) {
                d.row && (E.cancelClick = !0, setTimeout(function() {
                    E.cancelClick = !1;
                }, 100));
            }, this.Wg = function() {
                if ("None" !== f.timeHeaderPosition && this.timeHeader) {
                    this.L.timeHeader = {}, f.elements.timeHeader.length > 0 && (f.qj(), f.elements.timeHeader = []);
                    var e = document.createElement("div");
                    e.style.position = "relative", this.nav.timeHeader = e;
                    for (var t = 0; t < this.timeHeader.length; t++) for (var i = this.timeHeader[t], n = 0; n < i.length; n++) this.an(n, t);
                    var a = this.divNorth;
                    if (1 === a.childNodes.length) a.replaceChild(e, a.childNodes[0]); else {
                        if (DayPilot.browser.ie && a && a.firstChild) {
                            for (var r = [], o = 0; o < a.firstChild.childNodes.length; o++) r.push(a.firstChild.childNodes[o]);
                            DayPilot.de(r);
                        }
                        a.innerHTML = "", a.appendChild(e);
                    }
                    var s = this.Ch();
                    a.style.width = s + 5e3 + "px";
                    var l = {};
                    l.control = f, l.html = f.cornerHtml;
                    var d = null;
                    if ("function" == typeof f.onBeforeCornerRender && f.onBeforeCornerRender(l), f.ca(), 
                    "function" == typeof f.onBeforeCornerDomAdd && (l.element = null, f.onBeforeCornerDomAdd(l), 
                    d = l.element), d) {
                        var c = f.divCorner;
                        c.domArgs = l;
                        if (DayPilot.Util.isReactComponent(d)) {
                            if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                            f.da.reactDOM.render(d, c);
                        } else c.appendChild(d);
                    } else f.divCorner && (f.divCorner.innerHTML = l.html || "");
                    s > 0 && (this.divStretch.style.width = s + "px");
                }
            }, this.ca = function() {
                if (f.divCorner) {
                    var e = f.divCorner && f.divCorner.domArgs;
                    if (f.divCorner.domArgs = null, e && ("function" == typeof f.onBeforeCornerDomRemove && f.onBeforeCornerDomRemove(e), 
                    "function" == typeof f.onBeforeCornerDomAdd && f.da.reactDOM)) {
                        var t = f.divCorner;
                        if (t) {
                            if (DayPilot.Util.isReactComponent(e.element)) {
                                if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                f.da.reactDOM.unmountComponentAtNode(t);
                            }
                        }
                    }
                }
            }, this.Zh = function(e, t) {
                var i = null, n = this.$c.locale(), t = t || this.cellGroupBy, a = e.start;
                e.end;
                switch (t) {
                  case "Minute":
                    i = a.toString("m");
                    break;

                  case "Hour":
                    i = "Clock12Hours" === f.$c.timeFormat() ? a.toString("h tt", n) : a.toString("H", n);
                    break;

                  case "Day":
                    i = a.toString(n.datePattern);
                    break;

                  case "Week":
                    i = 1 === P.weekStarts() ? a.weekNumberISO() : a.weekNumber();
                    break;

                  case "Month":
                    i = a.toString("MMMM yyyy", n);
                    break;

                  case "Quarter":
                    i = "Q" + Math.floor(a.getMonth() / 3 + 1);
                    break;

                  case "Year":
                    i = a.toString("yyyy");
                    break;

                  case "None":
                    i = "";
                    break;

                  case "Cell":
                    var r = (e.end.ticks - e.start.ticks) / 6e4;
                    i = this.bn(a, r);
                    break;

                  default:
                    throw new DayPilot.Exception("Invalid groupBy value: " + t);
                }
                return i;
            }, this.bn = function(e, t) {
                var i = this.$c.locale(), t = t || this.cellDuration;
                return t < 1 ? e.toString("ss") : t < 60 ? e.toString("mm") : t < 1440 ? "Clock12Hours" === f.$c.timeFormat() ? e.toString("h tt", i) : e.toString("H", i) : t < 10080 ? e.toString("d") : 10080 === t ? 1 === P.weekStarts() ? e.weekNumberISO() : e.weekNumber() : e.toString("MMMM yyyy", i);
            }, this.Vh = function(e) {
                var t = this.scale;
                switch (t) {
                  case "Cell":
                    throw "Invalid scale: Cell";

                  case "Manual":
                    throw "Internal error (addScaleSize in Manual mode)";

                  case "CellDuration":
                    return e.addMinutes(this.cellDuration);

                  default:
                    return this.Yh(e, t, !0);
                }
            }, this.Yh = function(e, t, i) {
                var n, a = "Days" !== this.viewType ? this.days : 1, r = this.startDate.addDays(a);
                "Manual" === f.scale && (r = f.Xh());
                var t = t || this.cellGroupBy, o = 60;
                switch (t) {
                  case "Minute":
                    e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())), 
                    n = e.addMinutes(1);
                    break;

                  case "Hour":
                    e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())), 
                    n = e.addHours(1);
                    break;

                  case "Day":
                    n = e.getDatePart().addDays(1);
                    break;

                  case "Week":
                    for (n = e.getDatePart().addDays(1); n.dayOfWeek() !== P.weekStarts(); ) n = n.addDays(1);
                    break;

                  case "Month":
                    e = e.getDatePart(), n = e.addMonths(1), n = n.firstDayOfMonth();
                    for (var s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0; !s; ) n = n.addHours(1), 
                    s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0;
                    break;

                  case "Quarter":
                    for (e = e.getDatePart(), n = e.addMonths(1), n = n.firstDayOfMonth(); n.getMonth() % 3; ) n = n.addMonths(1);
                    for (var s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0; !s; ) n = n.addHours(1), 
                    s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0;
                    break;

                  case "Year":
                    e = e.getDatePart(), n = e.addYears(1), n = n.firstDayOfYear();
                    for (var s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0; !s; ) n = n.addHours(1), 
                    s = DayPilot.DateUtil.diff(n, e) / 6e4 % o === 0;
                    break;

                  case "None":
                    n = r;
                    break;

                  case "Cell":
                    var l = this.bi(e);
                    n = l.current ? l.current.end : l.past ? l.previous.end : l.next.start;
                    break;

                  default:
                    throw i ? new DayPilot.Exception("Invalid scale value: " + t) : new DayPilot.Exception("Invalid groupBy value: " + t);
                }
                return n.getTime() > r.getTime() && (n = r), n;
            }, this.Xm = {}, this.Xm.timeheadercol = "_timeheadercol", this.Xm.timeheadercolInner = "_timeheadercol_inner", 
            this.Xm.resourcedivider = "_resourcedivider", this.Xm.eventFloat = "_event_float", 
            this.Xm.eventFloatInner = "_event_float_inner", this.Xm.event = "_event", this.Xm.eventInner = "_event_inner", 
            this.Xm.eventBar = "_event_bar", this.Xm.eventBarInner = "_event_bar_inner", this.Xm.eventDelete = "_event_delete", 
            this.Xm.eventLine = "_event_line", this.Xm.eventMovingSource = "_event_moving_source";
            var M = this.Xm;
            this.an = function(e, t) {
                var i = this.nav.timeHeader, n = this.timeHeader[t][e], a = t < this.timeHeader.length - 1, r = n.left, o = n.width, s = N.timeHeader(t), l = s.top, d = s.height, c = document.createElement("div");
                c.style.position = "absolute", c.style.top = l + "px", c.style.left = r + "px", 
                c.style.width = o + "px", c.style.height = d + "px", n.toolTip && (c.title = n.toolTip), 
                c.setAttribute("aria-hidden", "true"), n.cssClass && DayPilot.Util.addClass(c, n.cssClass), 
                c.setAttribute("unselectable", "on"), c.style.KhtmlUserSelect = "none", c.style.MozUserSelect = "none", 
                c.style.webkitUserSelect = "none", c.oncontextmenu = function() {
                    return !1;
                }, c.cell = {}, c.cell.start = n.start, c.cell.end = n.end, c.cell.level = t, c.cell.th = n, 
                c.onclick = this.il, c.oncontextmenu = this.jl, c.style.overflow = "hidden", f.timeHeaderTextWrappingEnabled || (c.style.whiteSpace = "nowrap");
                var h = document.createElement("div");
                h.setAttribute("unselectable", "on"), n.innerHTML && (h.innerHTML = n.innerHTML), 
                n.backColor && (h.style.background = n.backColor), n.fontColor && (h.style.color = n.fontColor);
                var u = this.C(M.timeheadercol), v = this.C(M.timeheadercolInner);
                a && (u = this.C("_timeheadergroup"), v = this.C("_timeheadergroup_inner")), DayPilot.Util.addClass(c, u), 
                DayPilot.Util.addClass(h, v), DayPilot.Util.addClass(c, f.C("_timeheader_cell")), 
                DayPilot.Util.addClass(h, f.C("_timeheader_cell_inner")), DayPilot.list(n.areas).forEach(function(e) {
                    e.start && (e.left = f.getPixels(new DayPilot.Date(e.start)).left - r, e.end && (e.width = f.getPixels(new DayPilot.Date(e.end)).left - e.left - r));
                }), function() {
                    if ("function" == typeof f.onBeforeTimeHeaderDomAdd || "function" == typeof f.onBeforeTimeHeaderDomRemove) {
                        var e = {};
                        if (e.control = f, e.header = {}, e.header.start = n.start, e.header.end = n.end, 
                        e.header.level = t, e.element = null, c.domArgs = e, "function" == typeof f.onBeforeTimeHeaderDomAdd) {
                            f.onBeforeTimeHeaderDomAdd(e);
                            var i = e.element;
                            if (i) {
                                var a = h;
                                e.tc = a, h.innerHTML = "";
                                if (DayPilot.Util.isReactComponent(i)) {
                                    if (!f.da.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                    f.da.reactDOM.render(i, a);
                                } else a.appendChild(i);
                            }
                        }
                    }
                }(), c.appendChild(h), DayPilot.Areas.attach(c, n, {
                    areas: n.areas
                }), this.L.timeHeader[e + "_" + t] = c, this.elements.timeHeader.push(c), i.appendChild(c);
            }, this.ki = function() {
                return f.Jg ? void D.calculateEventPositions() : (f.Sh().forEach(function(e) {
                    var t = e.getHeight() + e.marginBottom + e.marginTop;
                    e.height !== t && (f.Hi = !0), e.height = t;
                }), void (f.Hi && (f.L.drawArea = null)));
            }, this.Zg = function() {
                f.Sh().forEach(function(e) {
                    if (!e.hidden) {
                        var t = f.ck(e.grid).divHeader;
                        if (t) {
                            var i = e.index;
                            if (t.rows[i]) for (var n = 0; n < t.rows[i].cells.length; n++) {
                                var a = t.rows[i].cells[n];
                                f.Vk && (a.style.top = e.top + "px");
                                var r = e.height;
                                a && a.firstChild && parseInt(a.firstChild.style.height, 10) !== r && (a.firstChild.style.height = r + "px");
                            }
                        }
                    }
                }), f.Vk && f.nav.resScrollSpace && (f.nav.resScrollSpace.style.top = f.Ng + "px");
            }, this.Qd = function(e) {
                var t = this.separators[e];
                t.location = t.location || t.Location, t.color = t.color || t.Color, t.layer = t.layer || t.Layer, 
                t.width = t.width || t.Width, t.opacity = t.opacity || t.Opacity;
                var i = new DayPilot.Date(t.location), n = t.color, a = t.width ? t.width : 1, r = !!t.layer && "AboveEvents" === t.layer, o = t.opacity ? t.opacity : 100;
                if (!(i.getTime() < f.Ta().getTime() || i.getTime() >= f.Xh().getTime())) {
                    var s = this.getPixels(i);
                    if (!s.cut && !(s.left < 0 || s.left > f.Ch())) {
                        var l = document.createElement("div");
                        l.style.width = a + "px", l.style.height = f.Ng + "px", l.style.position = "absolute", 
                        l.style.left = s.left - 1 + "px", l.style.top = "0px", l.style.backgroundColor = n, 
                        l.style.opacity = o / 100, l.style.filter = "alpha(opacity=" + o + ")", l.className = f.C("_separator"), 
                        t.cssClass && (l.className += " " + t.cssClass), r ? this.divSeparatorsAbove.appendChild(l) : this.divSeparators.appendChild(l), 
                        this.elements.separators.push(l);
                    }
                }
            }, this.ud = function(e) {}, this.Dm = function(e) {
                if ("Disabled" === f.timeRangeDoubleClickHandling) return !1;
                o.timeRangeTimeout && (clearTimeout(o.timeRangeTimeout), o.timeRangeTimeout = null);
                if (f.ei(e), e = e || window.event, e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, 
                f.cn(f.coords)) {
                    var t = f.Ni(f.rangeHold);
                    f.yb(t.start, t.end, t.resource);
                } else if (o.range = f.Wm(), o.range) {
                    o.rangeCalendar = f;
                    var t = f.Ni(o.range);
                    f.yb(t.start, t.end, t.resource), f.rangeHold = o.range;
                }
                o.range = null;
            }, this.xm = function(e) {
                if (!DayPilot.Global.touch.start && !DayPilot.Global.touch.active) {
                    if (o.timeRangeTimeout, 1, f.dn(), f.vm(), f.ei(e), o.rectangleSelect) return !1;
                    e = e || window.event;
                    var t = DayPilot.Util.mouseButton(e);
                    if (t.middle || t.right && f.cn(f.coords)) return !1;
                    if (f.cn(f.coords)) return !1;
                    var i = t.left ? "left" : t.right ? "right" : t.middle ? "middle" : "unknown", n = e.ctrlKey, a = e.metaKey, r = e.shiftKey, s = n || a, l = {};
                    if (l.action = "None", "Disabled" !== f.multiSelectRectangle && r ? l.action = "RectangleSelect" : "Disabled" !== f.timeRangeSelectedHandling && (l.action = "TimeRangeSelect"), 
                    l.shift = r, l.ctrl = r, l.meta = a, l.originalEvent = e, l.button = i, l.preventDefault = function() {
                        l.action = "None";
                    }, "function" == typeof f.onGridMouseDown && f.onGridMouseDown(l), "None" === l.action) return e.preventDefault(), 
                    e.stopPropagation(), !1;
                    if ("RectangleSelect" === l.action) {
                        var d = {};
                        return d.start = f.coords, d.calendar = f, o.rectangleSelect = d, !1;
                    }
                    f.allowMultiRange && !s && R.clear();
                    return !f.kj(f.coords.y, f.coords.grid).element.isNewRow && (o.range = f.Wm(), o.range && (o.range.ctrl = s, 
                    o.rangeCalendar = f), !1);
                }
            }, this.Wm = function() {
                var e = {}, t = f._h(f.coords.x).x, i = f.getDate(f.coords.x, !0);
                return e.start = {
                    y: f.kj(f.coords.y, f.coords.grid).i,
                    x: t,
                    grid: f.coords.grid,
                    time: i
                }, e.end = {
                    x: t,
                    time: i
                }, f.vj(f.kj(f.coords.y, f.coords.grid).i, f.coords.grid) ? null : (e.calendar = f, 
                f.Pi(e), e);
            }, this.Jk = function() {
                f.pd();
                var e = o.resizingShadow, t = o.resizing;
                !function() {
                    var i = f.en, n = {
                        start: e.start,
                        end: f.$f(e.end)
                    };
                    e.original = n;
                    var a = e.original;
                    if (!a || !i || i.start !== a.start || i.end !== f.$f(a.end)) {
                        k.clear(), k.yk(), i && (DayPilot.Util.removeClass(e, i.cssClass), e.firstChild.innerHTML = "");
                        var r = t.event.part.dayIndex, s = f.rowlist[r], l = {};
                        l.start = n.start, l.end = n.end, l.duration = new DayPilot.Duration(l.start, l.end), 
                        l.row = f.Ti(s), l.e = t.event, l.allowed = !0, l.resizing = "left" === o.resizing.dpBorder ? "start" : "end", 
                        l.what = "left" === o.resizing.dpBorder ? "start" : "end", l.left = {}, l.left.html = l.start.toString(f.eventResizingStartEndFormat, P.locale()), 
                        l.left.enabled = f.eventResizingStartEndEnabled, l.left.space = 5, l.left.width = null, 
                        l.left.height = f.eventHeight, l.right = {}, l.right.html = l.end.toString(f.eventResizingStartEndFormat, P.locale()), 
                        l.right.enabled = f.eventResizingStartEndEnabled, l.right.space = 5, l.right.width = null, 
                        l.right.height = f.eventHeight, l.cssClass = null, l.html = null, l.overlapping = l.row.events.forRange(l.start, l.end).filter(function(e) {
                            return !f.Xd(e, l.e);
                        }).length > 0, l.multiresize = k.wk();
                        var d = {};
                        d.event = t.event, d.start = l.start, d.end = l.end, l.multiresize.splice(0, 0, d), 
                        f.en = n, "function" == typeof f.onEventResizing && f.onEventResizing(l), k.list = DayPilot.list(l.multiresize, !0), 
                        k.list.splice(0, 1), k.Ck(), e.allowed = l.allowed, DayPilot.Util.addClass(e, l.cssClass), 
                        l.html && (e.firstChild.innerHTML = l.html);
                        var c = l.start, h = f.Af(l.end);
                        if (e.finalStart = c, e.finalEnd = h, "Days" === f.viewType) {
                            var u = s.start.getTime() - f.Ta().getTime();
                            c = c.addTime(-u), h = h.addTime(-u);
                        }
                        var v = DayPilot.DateUtil.diff(c, h);
                        v = DayPilot.Util.atLeast(v, 1);
                        var p = (P.useBox(v), f.snapToGrid && f.snapToGridEventResizing), m = p ? f.getPixels(c).boxLeft : f.getPixels(c).left, g = p ? f.getPixels(h).boxRight : f.getPixels(h).left;
                        e.style.left = m + "px", e.style.width = g - m + "px", e.left = m, e.width = g - m, 
                        f.Kk(o.resizingShadow, l), f.Lk(o.resizingShadow, l);
                    }
                }();
            }, this.Cm = function(e) {
                if (o.rectangleSelect) {
                    var e = e || window.event;
                    return e.cancelBubble = !0, e.preventDefault && e.preventDefault(), o.gMouseUp(e), 
                    !1;
                }
                if (f.ci = {}, f.rangeHold) {
                    var t = DayPilot.Util.mouseButton(e);
                    if (t.left) {
                        var i = f.rangeHold;
                        if (f.cn(f.coords)) {
                            var n = function(e) {
                                return function() {
                                    o.timeRangeTimeout = null;
                                    var t = f.Ni(e);
                                    if (t) {
                                        var i = {};
                                        i.start = t.start, i.end = t.end, i.resource = t.resource, i.preventDefault = function() {
                                            i.preventDefault.value = !0;
                                        }, "function" == typeof f.onTimeRangeClick && f.onTimeRangeClick(i), i.preventDefault.value || "function" == typeof f.onTimeRangeClicked && f.onTimeRangeClicked(i);
                                    }
                                };
                            };
                            "Disabled" != f.timeRangeClickHandling && ("Disabled" === f.timeRangeDoubleClickHandling ? n(i)() : (clearTimeout(o.timeRangeTimeout), 
                            o.timeRangeTimeout = setTimeout(n(i), f.doubleClickTimeout)));
                        }
                    }
                }
                var t = DayPilot.Util.mouseButton(e);
                t.right && f.gn(e);
            }, this.gn = function(e) {
                if ("Disabled" !== f.timeRangeSelectedHandling && "Disabled" !== f.timeRangeRightClickHandling) {
                    var t = f.kj(f.coords.y);
                    if (!f.vj(t.i)) {
                        var i = null;
                        if (i = f.cn(f.coords) ? f.Ni(f.rangeHold) : f.Ni()) {
                            i.end = f.$f(i.end);
                            var n = {};
                            n.start = i.start, n.end = i.end, n.resource = i.resource, n.ctrl = e.ctrlKey, n.shift = e.shiftKey, 
                            n.meta = e.metaKey, n.preventDefault = function() {
                                this.preventDefault.value = !0;
                            }, "function" == typeof f.onTimeRangeRightClick && (f.onTimeRangeRightClick(n), 
                            n.preventDefault.value) || ("ContextMenu" === f.timeRangeRightClickHandling && f.contextMenuSelection && f.contextMenuSelection.show(i), 
                            "function" == typeof f.onTimeRangeRightClicked && f.onTimeRangeRightClicked(n));
                        }
                    }
                }
            }, this.hn = function() {
                return !!(o.resizing || o.moving || o.range) || !!f.ci.start;
            }, this.ei = function(e) {
                var t = DayPilot.mo3(f.mh, e);
                if (t.grid = "main", f.uj.top.enabled()) {
                    var i = f.uj.top, n = DayPilot.mo3(i.divCells, e);
                    n.y > 0 && n.y <= i.height && (t = n, t.grid = "top");
                }
                if (f.uj.bottom.enabled()) {
                    var a = f.uj.bottom, r = DayPilot.mo3(a.divCells, e);
                    r.y > 0 && r.y <= a.height && (t = r, t.grid = "bottom");
                }
                t.stamp = t.grid + "_" + t.x + "_" + t.y, f.coords && f.coords.stamp === t.stamp || (f.coords = t);
            }, this.getCoords = function() {
                if (!f.coords) return null;
                var e = {};
                e.x = f.coords.x, e.y = f.coords.y, e.grid = f.coords.grid;
                var t = f.kj(e.y, e.grid).element;
                return e.row = t, e.time = f.getDate(e.x, !0), e.cell = f.cells.findByPixels(e.x, e.y, e.grid)[0], 
                e;
            }, this.um = !0, this.Ok = function(e) {
                if (!DayPilot.Global.touch.active) {
                    o.activeCalendar = f, e = e || window.event;
                    var t = DayPilot.mc(e);
                    if (f.ei(e), e.insideMainD = !0, f.um = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), 
                    f.ci.start) {
                        DayPilot.distance(f.ci.originalMouse, t) > 2 && (DayPilot.Util.copyProps(f.ci, o), 
                        document.body.style.cursor = "move", f.ci = {});
                    }
                    if (o.resizing && o.resizingEvent.calendar === f) o.resizing.event || (o.resizing.event = o.resizingEvent), 
                    f.in(); else if (o.movingEvent) {
                        var i = o.movingEvent.calendar, n = i !== f;
                        n && i && o.movingEvent.calendar.ha(), o.movingEvent.part.external = n, f.jn();
                    } else if (o.range && o.range.calendar === f) o.range.moved = !0, f.kn(); else if (c.source) {
                        var a = c.source;
                        g.drawShadow(a.coords, f.coords);
                    } else o.rectangleSelect && (o.rectangleSelect.moved = !0, _.draw());
                    "Disabled" !== f.crosshairType && f.ln(), f.mn();
                    var r = f.coords.insideEvent;
                    if (f.cellBubble && f.coords && f.rowlist && f.rowlist.length > 0 && !r) {
                        var s = f._h(f.coords.x).x, l = f.kj(f.coords.y).i;
                        if (0 <= l && l < f.rowlist.length && 0 <= s && s < f.itline.length) {
                            var d = {};
                            d.calendar = f, d.start = f.itline[s].start, d.end = f.itline[s].end, d.resource = f.rowlist[l].id, 
                            d.toJSON = function() {
                                var e = {};
                                return e.start = this.start, e.end = this.end, e.resource = this.resource, e;
                            }, f.cellBubble.showCell(d);
                        }
                    }
                    if (o.drag) {
                        if (f.dn(), o.gShadow && document.body.removeChild(o.gShadow), o.gShadow = null, 
                        !o.movingShadow && f.coords && f.rowlist.length > 0) {
                            if (!o.movingEvent) {
                                o.moving = o.drag.schedulerSourceEvent || {};
                                var h = o.drag.schedulerSourceEvent ? o.drag.schedulerSourceEvent.event : null, u = h || o.drag.event;
                                if (u) if (f !== u.calendar) {
                                    var i = u.calendar, v = u, p = DayPilot.Util.copyProps(u.data);
                                    u = new DayPilot.Event(p), u.calendar = i, u.part.duration = i.Yj(v), u.part.external = !0;
                                } else u.part.external = !1; else {
                                    var m = f.itline[0].start, e = {
                                        id: o.drag.id,
                                        start: m,
                                        end: m.addSeconds(o.drag.duration),
                                        text: o.drag.text
                                    }, y = o.drag.data;
                                    if (y) {
                                        var b = [ "duration", "element", "remove", "duration", "id", "text" ];
                                        for (var w in y) DayPilot.contains(b, w) || (e[w] = y[w]);
                                    }
                                    u = new DayPilot.Event(e), u.calendar = f, u.calendar = null, u.part.duration = 1e3 * o.drag.duration, 
                                    u.part.external = !0;
                                }
                                o.moving.event || (o.moving.event = u), o.movingEvent = u;
                            }
                            o.movingShadow = f.Ma(o.movingEvent);
                        }
                        e.cancelBubble = !0;
                    }
                    var k = {
                        x: f.coords.x,
                        y: f.coords.y,
                        grid: f.coords.grid
                    };
                    f.Ym(k);
                }
            }, this.Ym = function(e) {
                var t = e.grid, i = o.moving || o.resizing || o.range || o.rectangleSelect, n = "Always" === f.autoScroll, a = "Drag" === f.autoScroll && i, r = n || a, s = o.resizing || o.range || "main" !== t;
                if (r) {
                    var l = f.nav.scroll;
                    e.x -= l.scrollLeft, e.x += p.shiftX, e.y -= l.scrollTop;
                    var d = l.clientWidth, c = l.clientHeight, h = 30, v = e.x < h ? e.x : 0, m = d - e.x < h ? d - e.x : 0, g = e.y < h ? e.y : 0, y = c - e.y < h ? c - e.y : 0, b = 0, w = 0, k = 50;
                    v && (b = -50 * u(v, h)), m && (b = k * u(m, h)), g && (w = -50 * u(g, h) / 2), 
                    y && (w = k * u(g, h) / 2), s && (w = 0), b || w ? f.nn(b, w) : f.vm();
                }
            }, this.kn = function() {
                var e = o.range, t = f._h(f.coords.x).x, i = f.getDate(f.coords.x, !0);
                e.end = {
                    x: t,
                    time: i
                }, f.Pi(e);
            }, this.in = function() {
                o.resizingShadow || (o.resizingShadow = f.Ma(o.resizing)), f.Ik();
            }, this.jn = function() {
                if (o.movingShadow && o.movingShadow.calendar !== f && (o.movingShadow.calendar.ha(), 
                o.movingShadow.calendar = null, DayPilot.de(o.movingShadow), o.movingShadow = null), 
                !o.movingShadow) {
                    window.navigator.userAgent.indexOf("Chrome/61.0") > -1 || DayPilot.Util.addClass(o.moving, f.C(M.eventMovingSource));
                    var e = o.movingEvent;
                    o.movingShadow = f.Ma(e);
                }
                f.fk(), f.hk();
            }, this.on = {};
            var _ = this.on;
            _.start = function() {
                var e = {};
                e.start = f.coords, e.calendar = f, o.rectangleSelect = e;
            }, _.draw = function() {
                var e = o.rectangleSelect, t = o.rectangleSelect.start, i = f.coords;
                _.clear();
                var n, a, r, s, l, d, c, h, u = {
                    x: e.x,
                    y: e.y,
                    width: e.width,
                    height: e.height
                };
                if (function() {
                    l = Math.min(t.x, i.x), c = Math.max(t.x, i.x), "Free" === f.multiSelectRectangle ? (d = Math.min(t.y, i.y), 
                    h = Math.max(t.y, i.y)) : "Row" === f.multiSelectRectangle && (d = t.y, h = t.y);
                }(), "Free" === f.multiSelectRectangle) n = l, a = d, r = c - l, s = h - d; else {
                    if ("Row" !== f.multiSelectRectangle) throw "Invalid DayPilot.Scheduler.multiSelectRectangle value: " + f.multiSelectRectangle;
                    var p = f.kj(d).i, m = f.rowlist[p];
                    a = m.top, s = m.height;
                    n = f._h(l).cell.left;
                    var g = f._h(c).cell;
                    r = g.left + g.width - n;
                }
                var y = DayPilot.Util.div(f.divRectangle, n, a, r, s);
                if (y.style.boxSizing = "border-box", y.className = f.C("_selectionrectangle"), 
                e.x = n, e.y = a, e.width = r, e.height = s, (e.x !== u.x || e.y !== u.y || e.width !== u.width || e.height !== u.height) && "function" == typeof f.onRectangleEventSelecting) {
                    var b = {};
                    b.events = v.eventsInRectangle(e.x, e.y, e.width, e.height).map(function(e) {
                        return e.event;
                    }), b.start = f.getDate(e.x, !0), b.end = f.getDate(e.x + e.width, !0), f.onRectangleEventSelecting(b);
                }
            }, _.clear = function() {
                f.divRectangle.innerHTML = "", f.elements.rectangle = [];
            }, this.pn = function() {
                if (!f.coords) return null;
                if (!f.Bm()) return null;
                if (!f.itline || 0 === f.itline.length) return null;
                var e = f._h(f.coords.x).x, t = f.kj(f.coords.y, f.coords.grid).element;
                if (!t) return null;
                var i = t.index;
                return f.cells.findXy(e, i, f.coords.grid)[0];
            }, this.mn = function() {
                var e = this.pn();
                if (this.hover.cell) {
                    if (this.hover.cell.x === e.x && this.hover.cell.y === e.y && this.hover.cell.grid === e.grid) return;
                    this.wm();
                }
                if (this.hover.cell = e, "function" == typeof this.onCellMouseOver) {
                    var t = {};
                    t.cell = e, this.onCellMouseOver(t);
                }
            }, this.wm = function() {
                if (this.hover.cell) {
                    if ("function" == typeof this.onCellMouseOut) {
                        var e = {};
                        e.cell = this.hover.cell, this.onCellMouseOut(e);
                    }
                    this.hover.cell = null;
                }
            }, this.hover = {}, this.ln = function() {
                var e = f.qn();
                if (e) {
                    var t = f.hover.crosshair;
                    t && t.x === e.x && t.y === e.y && t.grid === e.grid && t.thX === e.thX || (f.hover.crosshair = e, 
                    this.od());
                }
            }, this.qn = function() {
                if (!f.coords) return null;
                if (!f.Bm()) return null;
                if (!f.itline || 0 === f.itline.length) return null;
                var e = f.kj(f.coords.y, f.coords.grid).element;
                if (!e) return null;
                var t = e.index, i = f._h(f.coords.x).x, n = f.rn();
                return {
                    x: i,
                    thX: f.qk(n, f.coords.x).x,
                    y: t,
                    grid: f.coords.grid
                };
            }, this.dn = function() {
                this.divCrosshair.innerHTML = "", this.sn = null, this.tn = null;
            }, this.ia = function() {
                if (this.dn(), f.hover.crosshair = null, this.un && this.un.parentNode && (this.un.parentNode.removeChild(this.un), 
                this.un = null), this.vn) {
                    for (var e = 0; e < this.vn.length; e++) {
                        var t = this.vn[e];
                        t.parentNode && t.parentNode.removeChild(t);
                    }
                    this.vn = null;
                }
                this.Mg = -1, this.Lg = -1, this.wn = null;
            }, this.rn = function() {
                var e = this.timeHeader ? this.timeHeader.length - 1 : 1;
                return "number" == typeof f.crosshairTimeHeaderLevel && f.crosshairTimeHeaderLevel < e && f.crosshairTimeHeaderLevel >= 0 && (e = f.crosshairTimeHeaderLevel), 
                e;
            }, this.od = function() {
                if (f.coords && f.Bm()) {
                    var e = f.kj(f.coords.y, f.coords.grid).element;
                    if (e) {
                        var t = f._h(f.coords.x).x, i = e.index, n = e.grid, a = f.ck(n);
                        if ("Full" === this.crosshairType) {
                            var r = this.itline[t], o = r.left, s = this.sn;
                            if (!s) {
                                var s = document.createElement("div");
                                s.style.height = f.Ng + "px", s.style.position = "absolute", s.style.top = "0px", 
                                s.className = f.C("_crosshair_vertical"), f.sn = s, f.divCrosshair.appendChild(s);
                            }
                            s.style.left = o + "px", s.style.width = r.width + "px";
                            var l = e.top, d = e.height, c = f.Ch(), s = f.tn;
                            if (!s) {
                                var s = document.createElement("div");
                                s.style.width = c + "px", s.style.height = d + "px", s.style.position = "absolute", 
                                s.style.top = l + "px", s.style.left = "0px", s.className = f.C("_crosshair_horizontal"), 
                                f.tn = s, this.divCrosshair.appendChild(s);
                            }
                            s.style.top = l + "px", s.style.height = d + "px";
                        }
                        var h = f.rn(), u = f.qk(h, f.coords.x);
                        if (u && f.Mg !== u.x) {
                            f.un && this.un.parentNode && (f.un.parentNode.removeChild(f.un), f.un = null);
                            var d = N.timeHeader(h).height, s = document.createElement("div");
                            s.style.width = u.cell.width + "px", s.style.height = d + "px", s.style.left = "0px", 
                            s.style.top = "0px", s.style.position = "absolute", s.className = f.C("_crosshair_top"), 
                            f.un = s;
                            var v = this.divNorth, p = h;
                            f.nav.timeHeader ? f.L.timeHeader[u.x + "_" + p].appendChild(s) : v && v.firstChild.rows[p].cells[t] && v.firstChild.rows[p].cells[t].firstChild.appendChild(s);
                        }
                        if (f.Lg !== i || f.wn !== n) {
                            if (f.vn) {
                                for (var m = 0; m < f.vn.length; m++) {
                                    var g = f.vn[m];
                                    g.parentNode && g.parentNode.removeChild(g);
                                }
                                f.vn = null;
                            }
                            this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                            if (f.vn = [], a.divHeader.rows[i]) for (var m = 0; m < a.divHeader.rows[i].cells.length; m++) {
                                var c = f.Fh(), s = document.createElement("div");
                                s.style.width = c + "px", s.style.height = e.height + "px", s.style.left = "0px", 
                                s.style.top = "0px", s.style.position = "absolute", s.className = f.C("_crosshair_left"), 
                                f.vn.push(s), a.divHeader.rows[i].cells[m].firstChild.appendChild(s);
                            }
                        }
                        u && (f.Mg = u.x), f.Lg = i, f.wn = n;
                    }
                }
            }, this.qk = function(e, t) {
                var i = f.timeHeader[e];
                if (!i) return null;
                for (var n = 0; n < i.length; n++) {
                    var a = i[n];
                    if (t >= a.left && t < a.left + a.width) {
                        var r = {};
                        return r.cell = a, r.x = n, r;
                    }
                }
                return null;
            }, this.xn = function(e) {
                return f.qk(f.timeHeader.length - 1, e);
            }, this.ym = function(e) {
                if (e.cancelBubble = !0, !f.allowDefaultContextMenu) return !1;
            }, this.cn = function(e) {
                var t = f.rangeHold;
                if (!t || !t.start || !t.end) return !1;
                var i = this.Bj(t.start.y), n = t.start.x < t.end.x, a = (n ? t.start.x : t.end.x) * this.cellWidth, r = (n ? t.end.x : t.start.x) * this.cellWidth + this.cellWidth, o = i.top, s = i.bottom;
                return e.x >= a && e.x <= r && e.y >= o && e.y <= s && e.grid === t.start.grid;
            }, this.Pi = function(e, t) {
                function i(e) {
                    var t, i, r, o, s = e.end.time > e.start.time, l = e.start.y, d = e.start.time && e.end.time;
                    if (f.snapToGrid && f.snapToGridTimeRangeSelecting || !d) {
                        var c = s ? e.start.x : e.end.x, h = s ? e.end.x : e.start.x, u = f.itline[c], v = f.itline[h];
                        r = u.start, o = v.end, t = u.left, i = v.left + v.width;
                    } else s ? (r = e.start.time, o = e.end.time) : (r = e.end.time, o = e.start.time), 
                    t = f.getPixels(r).left, i = f.getPixels(o).left;
                    var p = i - t, m = f.elements.range2;
                    if (!m) {
                        m = document.createElement("div"), m.style.position = "absolute", m.setAttribute("unselectable", "on");
                        var g = document.createElement("div");
                        g.className = f.C("_shadow_inner"), m.appendChild(g), n.divShadow.appendChild(m);
                    }
                    return m.grid !== e.start.grid && (m.parentNode.removeChild(m), n.divShadow.appendChild(m)), 
                    m.className = f.C("_shadow"), m.firstChild.innerHTML = "", m.style.left = t + "px", 
                    m.style.top = a[l].top + "px", m.style.width = p + "px", m.style.height = a[l].height - 1 + "px", 
                    m.calendar = f, m.grid = e.start.grid, f.elements.range2 = m, function() {
                        m.overlapping = !1;
                        var i = a[l];
                        f.Dk(m, i, t, p, null);
                        var n = s ? e.start.time : e.end.time, r = s ? e.end.time : e.start.time;
                        f.Ek(m, n, r, i.id);
                    }(), m;
                }
                var e = e || o.range;
                if (e && e.calendar === f) {
                    var n = f.ck(e.start.grid), a = n.rowlist;
                    !function() {
                        var n = e.end.time > e.start.time, r = n ? e.start.x : e.end.x, o = n ? e.end.x : e.start.x, s = e.start.y, l = a[s];
                        if (l && !l.hidden) {
                            var d = f.itline[r], c = f.itline[o], h = f.yn, u = d.start.addTime(l.data.offset), v = c.end.addTime(l.data.offset);
                            if (f.snapToGrid && f.snapToGridTimeRangeSelecting || (n ? (u = e.start.time, v = e.end.time) : (u = e.end.time, 
                            v = e.start.time)), t || !h || h.start.getTime() !== u.getTime() || h.end.getTime() !== v.getTime() || h.resource !== a[s].id) {
                                var p = {
                                    start: u,
                                    end: f.$f(v),
                                    resource: a[s].id
                                }, m = {};
                                m.start = p.start, m.end = p.end, m.duration = new DayPilot.Duration(u, v), m.resource = a[s].id, 
                                m.row = f.Ti(l), m.allowed = !0, m.left = {}, m.left.html = m.start.toString(f.timeRangeSelectingStartEndFormat, P.locale()), 
                                m.left.enabled = f.timeRangeSelectingStartEndEnabled, m.left.space = 5, m.left.width = null, 
                                m.left.height = f.eventHeight, m.right = {}, m.right.html = m.end.toString(f.timeRangeSelectingStartEndFormat, P.locale()), 
                                m.right.enabled = f.timeRangeSelectingStartEndEnabled, m.right.space = 5, m.right.width = null, 
                                m.right.height = f.eventHeight, m.overlapping = m.row.events.forRange(u, v).length > 0, 
                                m.html = null, m.cssClass = null, f.yn = p, "function" != typeof f.onTimeRangeSelecting || t || (f.onTimeRangeSelecting(m), 
                                m.resource = p.resource), m.end = f.Af(m.end), e.args = m;
                                var g = f.zn(e);
                                f.Oi(g, m.start, m.end);
                                var y = i(g);
                                m.html && (y.firstChild.innerHTML = m.html), m.cssClass && DayPilot.Util.addClass(y, m.cssClass), 
                                f.Kk(y, m), e.Zm = g, e.disabled = !m.allowed, f.Lk(y, m);
                            }
                        }
                    }();
                }
            }, this.zn = function(e) {
                return {
                    start: {
                        x: e.start.x,
                        y: e.start.y,
                        time: e.start.time,
                        grid: e.start.grid
                    },
                    end: {
                        x: e.end.x,
                        time: e.end.time
                    },
                    disabled: e.disabled,
                    calendar: e.calendar,
                    args: e.args
                };
            }, this.range = {}, this.range.all = function() {
                return R.get();
            }, this.An = {};
            var R = this.An;
            this.An.list = [], this.An.clear = function() {
                DayPilot.de(DayPilot.list(R.list).map(function(e) {
                    return e.div;
                })), R.list = [];
            }, this.An.add = function(e) {
                e.div = f.elements.range2, f.elements.range2 = null, f.Nk(), R.list.push(e);
            }, this.An.get = function() {
                return DayPilot.list(R.list).map(function(e) {
                    return f.Ni(e);
                });
            }, this.An.dispatch = function() {
                if (f.allowMultiRange && !o.range) {
                    var e = DayPilot.list(R.list).last();
                    f.Mi(e);
                }
            }, this.Bn = function(e) {
                if ("Disabled" === f.timeRangeSelectedHandling) return !1;
                if (!DayPilot.Global.touch.active && !DayPilot.Global.touch.start) {
                    e = e || window.event;
                    var t = DayPilot.Util.mouseButton(e);
                    if (!o.range && !o.rectangleSelect && !(f.rangeHold && f.cn(f.coords) && (t.right || t.middle) || f.vj(f.kj(f.coords.y).i))) {
                        var i = {}, n = f._h(f.coords.x).x;
                        i.start = {
                            y: f.kj(f.coords.y).i,
                            x: n,
                            grid: f.coords.grid
                        }, i.end = {
                            x: n
                        }, i.calendar = f, f.rangeHold = i, f.Mi(i);
                    }
                }
            }, this.timeouts = {}, this.timeouts.drawEvents = null, this.timeouts.drawCells = null, 
            this.timeouts.drawRows = null, this.timeouts.click = null, this.timeouts.resClick = [], 
            this.timeouts.updateFloats = null, this.hh = function(e) {
                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), f.Rg();
                var t = f.nav.scroll;
                if (f.ok = t.scrollLeft, f.mk = t.scrollTop, f.pk = t.clientWidth, f.divTimeScroll && (f.divTimeScroll.scrollLeft = f.ok), 
                f.uj.top.enabled() && (f.uj.top.div.scrollLeft = f.ok), f.uj.bottom.enabled() && (f.uj.bottom.div.scrollLeft = f.ok), 
                f.divResScroll.scrollTop = f.mk, p.isEnabled() && f.N && "Auto" != f.cellWidthSpec) if (p.active) s(); else {
                    if (f.nav.scroll.scrollLeft < f.infiniteScrollingMargin) return p.active = !0, f.nav.scroll.style.overflowX = "hidden", 
                    void setTimeout(function() {
                        p.shiftStart(-f.infiniteScrollingStepDays);
                    }, 100);
                    if (f.nav.scroll.scrollWidth - (f.nav.scroll.scrollLeft + f.nav.scroll.clientWidth) < f.infiniteScrollingMargin) return p.active = !0, 
                    f.nav.scroll.style.overflowX = "hidden", void setTimeout(function() {
                        p.shiftStart(f.infiniteScrollingStepDays);
                    }, 100);
                }
                if (f.navigatorBackSync && !function() {
                    var e = DayPilot.Util.evalVariable(f.navigatorBackSync), t = f.getViewPort().start;
                    e.select(t, {
                        dontNotify: !0,
                        dontFocus: !0
                    });
                }(), f.timeouts.drawCells && (clearTimeout(f.timeouts.drawCells), f.timeouts.drawCells = null), 
                f.scrollDelayCells > 0) f.timeouts.drawCells = setTimeout(f.Cn(), f.scrollDelayCells); else {
                    f.Cn()();
                }
                return f.progressiveRowRendering && (f.timeouts.drawRows && (clearTimeout(f.timeouts.drawRows), 
                f.timeouts.drawRows = null), f.scrollDelayRows > 0 ? f.timeouts.drawRows = setTimeout(function() {
                    f.ui();
                }, f.scrollDelayRows) : f.ui()), f.dynamicLoading ? (f.pg(), void f.Dn()) : (f.timeouts.drawEvents && (clearTimeout(f.timeouts.drawEvents), 
                f.timeouts.drawEvents = null), f.scrollDelayEvents > 0 ? f.timeouts.drawEvents = setTimeout(f.En(), f.scrollDelayEvents) : f.Ha(), 
                f.timeouts.updateFloats && (clearTimeout(f.timeouts.updateFloats), f.timeouts.updateFloats = null), 
                f.scrollDelayFloats > 0 ? f.timeouts.updateFloats = setTimeout(function() {
                    f.fh();
                }, f.scrollDelayFloats) : f.fh(), void (f.onScrollCalled = !0));
            }, this.Cn = function() {
                return function() {
                    f && (f.pg(), f.bh());
                };
            }, this.En = function() {
                return function() {
                    f && (f.Mm() ? window.setTimeout(function() {
                        f.Jm(), window.setTimeout(function() {
                            f.Ha(!0);
                        }, 50);
                    }, 50) : f.wh());
                };
            }, this.Rg = function() {
                f.L.eventHeight = null, f.L.drawArea = null;
            }, this.show = function() {
                f.visible = !0, f.Pg = !0, f.nav.top.style.display = "", f.Ga(), f.Yg(), f.Mj(), 
                f.hh();
            }, this.hide = function() {
                f.visible = !1, f.Pg = !1, f.nav.top.style.display = "none";
            }, this.Dn = function() {
                var e = f.nav.scroll;
                f.ok = e.scrollLeft, f.mk = e.scrollTop, f.pk = e.clientWidth, f.divTimeScroll.scrollLeft = f.ok, 
                f.divResScroll.scrollTop = f.mk, f.refreshTimeout && window.clearTimeout(f.refreshTimeout);
                var t = f.scrollDelayDynamic;
                f.refreshTimeout = window.setTimeout(f.Fn(e.scrollLeft, e.scrollTop), t), f.fh();
            }, this.Ij = function(e) {
                if (!f.events.list) return null;
                for (var t = 0; t < this.events.list.length; t++) {
                    var i = this.events.list[t];
                    if (f.Xd(i, e)) {
                        var n = {};
                        return n.ex = i, n.index = t, n.modified = !f.Gn(e, i), n;
                    }
                }
                return null;
            }, this.Gn = function(e, t) {
                for (var i in e) if (("object" != typeof e[i] || e[i] instanceof DayPilot.Date) && e[i] !== t[i]) return !1;
                for (var i in t) if ("object" != typeof t[i] && e[i] !== t[i]) return !1;
                return !0;
            }, this.dh = function(e, t, i) {
                var n = i && i.clearEvents, a = i && i.remove, r = i && i.dontForceCellRendering, o = [];
                if (f.events.list || (f.events.list = []), n) f.ta(e); else {
                    var s = [];
                    DayPilot.list(a).forEach(function(e) {
                        var t = DayPilot.list(f.events.list).find(function(t) {
                            return t.id === e;
                        });
                        t && s.push(t);
                    }), s.forEach(function(e) {
                        var t = f.events.hi(e);
                        o = o.concat(t), DayPilot.rfa(f.events.list, e);
                    });
                    for (var l = [], d = 0; d < e.length; d++) {
                        var c = e[d];
                        l[d] = f.Ij(c);
                    }
                    for (var d = 0; d < e.length; d++) {
                        var c = e[d], h = l[d], u = h && h.modified, v = !h;
                        if (u) {
                            this.events.list[h.index] = c;
                            var p = f.events.hi(h.ex);
                            o = o.concat(p);
                        } else v && this.events.list.push(c);
                        (u || v) && (o = o.concat(f.events.ii(c)));
                    }
                    f.ji(o), f.ki();
                }
                f.Xg(), f.Ca();
                if (n || r) {
                    f._();
                    var m = f.Hi;
                    m && f.$g(), f.Zg(), m ? f.bh() : f.Mj(), f.Ha();
                } else f.li(o, !1, function() {
                    t && t(), f.Jm(), f.Ha();
                }), f.Mj();
            }, this.Fn = function(e, t) {
                return f.E() ? function() {
                    f.scrollX = e, f.scrollY = t, f.T("Scroll");
                } : function() {
                    if ("function" == typeof f.onScroll) {
                        var e = function(e) {
                            var t = function() {
                                if (f.La() && "function" == typeof f.onAfterRender) {
                                    var e = {};
                                    e.isCallBack = !1, e.isScroll = !0, e.data = null, f.onAfterRender(e);
                                }
                            };
                            f.dh(e.events, t, e);
                        }, t = {};
                        t.viewport = f.getViewPort(), t.async = !0, t.events = [], t.remove = [], t.clearEvents = !0, 
                        t.dontForceCellRendering = !1, t.loaded = function() {
                            this.async && e(t);
                        }, f.onScroll(t), t.async || e(t);
                    }
                };
            }, this.Hn = function() {
                var e = this.rh(), t = e.xStart, i = e.xEnd - e.xStart, n = e.yStart, a = e.yEnd - e.yStart;
                this.cellProperties || (this.cellProperties = {});
                for (var r = f.uj.top, o = f.uj.bottom, s = 0; s <= i; s++) {
                    for (var l = t + s, d = 0; d < a; d++) {
                        var c = n + d;
                        this.rowlist[c].hidden || this.Wf(l, c);
                    }
                    if (this.In(l), r.enabled()) {
                        for (var c = 0; c < r.rowlist.length; c++) this.Wf(l, c, "top");
                        this.In(l, "top");
                    }
                    if (o.enabled()) {
                        for (var c = 0; c < o.rowlist.length; c++) this.Wf(l, c, "bottom");
                        this.In(l, "bottom");
                    }
                }
                for (var h = this.Rk(), c = h.start; c < h.end; c++) this.rowlist[c].hidden || this.Jn(c);
                if (r.enabled()) for (var c = 0; c < r.rowlist.length; c++) r.rowlist[c].hidden || this.Jn(c, "top");
                if (o.enabled()) for (var c = 0; c < o.rowlist.length; c++) o.rowlist[c].hidden || this.Jn(c, "bottom");
            }, this.bh = function() {
                if (!f.$d) {
                    var e = f.Sh();
                    if (e && e.length > 0) {
                        if (this.cellSweeping) {
                            var t = this.cellSweepingCacheSize;
                            this.Lm(t);
                        }
                        this.Hn(), this.Kn();
                    }
                    this.Hi = !1;
                }
            }, this.Kn = function() {
                for (var e = this.rh(), t = e.xStart; t < e.xEnd; t++) {
                    t < this.itline.length - 1 && this.itline[t + 1].breakBefore && this.Ln(t);
                }
            }, this.Ln = function(e) {
                var t = "x" + e;
                if (!this.L.breaks[t]) {
                    var i = this.itline[e + 1].left - 1, n = this.Ng, a = document.createElement("div");
                    a.style.left = i + "px", a.style.top = "0px", a.style.width = "1px", a.style.height = n + "px", 
                    a.style.fontSize = "1px", a.style.lineHeight = "1px", a.style.overflow = "hidden", 
                    a.style.position = "absolute", a.setAttribute("unselectable", "on"), a.className = this.C("_matrix_vertical_break"), 
                    this.divBreaks.appendChild(a), this.elements.breaks.push(a), this.L.breaks[t] = a;
                }
            }, this.rh = function() {
                if (f.L.drawArea) return f.L.drawArea;
                if (!this.nav.scroll) return null;
                var e = f.mk, t = {}, i = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin, n = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin, a = f.ok - i - p.shiftX, r = a + f.pk + 2 * i, o = 0, s = 0;
                if (f.itline && f.itline.length > 0) {
                    o = f._h(a).x, s = f._h(r, !0).x;
                    var l = this.nk();
                    s = Math.min(s, l), o = DayPilot.Util.atLeast(o, 0);
                }
                var d = e - n, c = e + this.nav.scroll.offsetHeight + 2 * n, h = this.kj(d).i, u = this.kj(c).i;
                u < this.rowlist.length && u++, t.xStart = o, t.xEnd = s, t.yStart = h, t.yEnd = u;
                var v = f.nav.scroll;
                return 0 === v.clientWidth && (v = f.divTimeScroll), t.pixels = {}, t.pixels.left = v.scrollLeft - p.shiftX, 
                t.pixels.right = v.scrollLeft - p.shiftX + v.clientWidth, t.pixels.top = v.scrollTop, 
                t.pixels.bottom = v.scrollTop + v.clientHeight, t.pixels.width = v.scrollWidth, 
                t.sw = DayPilot.sw(f.nav.scroll), f.L.drawArea = t, t;
            }, this.Ch = function() {
                var e = 0, t = this.itline[this.itline.length - 1];
                return e = t ? t.left + t.width : 0, (e < 0 || isNaN(e)) && (e = 0), e;
            }, this.Jn = function(e, t) {
                t = t || "main";
                var i = f.uj[t], n = i.rowlist, a = i.divLines, r = t + "_y_" + e;
                if (!this.L.linesHorizontal[r]) {
                    var o = n[e], s = "number" == typeof o.forcedHeight ? o.forcedHeight : o.height, l = o.top + s - 1, d = this.Ch(), c = document.createElement("div");
                    c.style.left = "0px", c.style.top = l + "px", c.style.width = d + "px", c.style.height = "1px", 
                    c.style.fontSize = "1px", c.style.lineHeight = "1px", c.style.overflow = "hidden", 
                    c.style.position = "absolute", c.setAttribute("unselectable", "on"), c.className = this.C("_matrix_horizontal_line"), 
                    a.appendChild(c), this.L.linesHorizontal[r] = c;
                }
            }, this.In = function(e, t) {
                var i = this.itline[e];
                if (i) {
                    t = t || "main";
                    var n = f.uj[t], a = n.divLines, r = "main" === t, o = r ? f.Ng : n.height, s = t + "_x_" + e;
                    if (!this.L.linesVertical[s]) {
                        var l = i.left + i.width - 1, d = document.createElement("div");
                        d.style.left = l + "px", d.style.top = "0px", d.style.width = "1px", d.style.height = o + "px", 
                        d.style.fontSize = "1px", d.style.lineHeight = "1px", d.style.overflow = "hidden", 
                        d.style.position = "absolute", d.setAttribute("unselectable", "on"), d.className = this.C("_matrix_vertical_line"), 
                        a.appendChild(d), this.elements.linesVertical.push(d), this.L.linesVertical[s] = d;
                    }
                }
            }, this.gk = function(e, t) {
                function i() {
                    var t = f.Mn(e, n.expanded, !1);
                    if (!a) for (var i = 0; i < t.length; i++) {
                        var r = t[i];
                        f.Ii(r);
                    }
                    f.ml(), f.pg();
                    var o = f.Ti(n, e);
                    a ? f.aj(o) : f._i(o);
                }
                f.ih.skip = !0;
                var n = this.rowlist[e], a = !n.expanded;
                if (n.expanded = a, n.resource && (n.resource.expanded = a), t = t || {}, f.treeAnimation && !t.notAnimated) {
                    var r = this.Mn(e, n.expanded, !0);
                    f.ll(r, a ? "show" : "hide", function() {
                        i();
                    });
                } else i();
            }, this.ml = function() {
                f.Xg(), f.Vg(), f.Ca(), f.Rg(), f.Ki(), g.load(), f.$g(), f.bh(), f.ui(), f.Ha(), 
                f.Rg();
            }, this.hl = function(e) {
                var t = {};
                if (t.index = e, "function" == typeof this.onLoadNode) {
                    var i = {}, n = this.rowlist[e].resource;
                    i.resource = n, i.async = !1, i.loaded = function() {
                        this.async && (n.dynamicChildren = !1, n.expanded = !0, f.update());
                    }, this.onLoadNode(i), i.async || (n.dynamicChildren = !1, n.expanded = !0, this.update());
                } else this.T("LoadNode", t);
            }, this.Mn = function(e, t, i) {
                var n = this.rowlist[e], a = [];
                if (null === n.children || 0 === n.children.length) return a;
                for (var r = 0; r < n.children.length; r++) {
                    var o = n.children[r], s = this.rowlist[o], l = t && n.expanded && !s.Rl;
                    t && s.hidden && (s.forcedHeight = 0), i && !t || (s.hidden = !l), i || delete s.forcedHeight, 
                    t === l && a.push(o);
                    var d = this.Mn(o, t);
                    d.length > 0 && (a = a.concat(d));
                }
                return a;
            }, this.nn = function(e, t) {
                this.vm(), this.Nn(e, t);
            }, this.On = function(e) {
                if (!e) return !1;
                var t = this.nav.scroll.scrollWidth, i = this.nav.scroll.scrollLeft, n = this.nav.scroll.clientWidth, a = i + n;
                return !(e < 0 && i <= 0) && (!(e > 0 && a >= t) && (this.nav.scroll.scrollLeft += e, 
                f.coords.x += e, f.Pn(), !0));
            }, this.Qn = function(e) {
                if (!e) return !1;
                var t = this.nav.scroll.scrollHeight, i = this.nav.scroll.scrollTop, n = this.nav.scroll.clientHeight, a = i + n;
                return !(e < 0 && i <= 0) && (!(e > 0 && a >= t) && (this.nav.scroll.scrollTop += e, 
                f.coords.y += e, f.Pn(), !0));
            }, this.Pn = function() {
                o.resizing && o.resizing.event.calendar === f ? f.in() : o.moving && (o.movingEvent.calendar === f || o.movingEvent.calendar && o.movingEvent.calendar.dragOutAllowed) ? (o.moving.event || (o.moving.event = o.movingEvent), 
                f.jn()) : o.range && o.range.calendar === f && f.kn();
            }, this.Nn = function(e, t) {
                if (this.On(e) || this.Qn(t)) {
                    var i = function(e, t) {
                        return function() {
                            f.Nn(e, t);
                        };
                    };
                    this.Rn = window.setTimeout(i(e, t), 100);
                }
            }, this.vm = function() {
                f.Rn && (window.clearTimeout(f.Rn), f.Rn = null);
            }, this.Xg = function() {
                f.uj.top.enabled() && (f.uj.top.height = f.Sn(f.uj.top.rowlist, 0)), f.uj.bottom.enabled() && (f.uj.bottom.height = f.Sn(f.uj.bottom.rowlist, 0)), 
                f.Ng = f.Sn(f.rowlist, f.uj.top.height);
            }, this.Sn = function(e, t) {
                for (var i = 0, n = t || 0, t = t || 0, a = 0; a < e.length; a++) {
                    var r = e[a];
                    r.hidden || (r.top = t, r.displayY = i, t += "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, 
                    i += 1), r.absTop = n, n += r.height;
                }
                return t;
            }, this.$g = function() {
                DayPilot.browser.ie && f.Tn(), f.elements.cells = [], f.elements.breaks = [], f.L.cells = [], 
                f.L.breaks = [], f.divCells.innerHTML = "", f.divBreaks.innerHTML = "", f.Yk();
            }, this.Yk = function() {
                f.divLines.innerHTML = "", f.uj.top.divLines.innerHTML = "", f.L.linesVertical = {}, 
                f.L.linesHorizontal = {}, f.elements.linesVertical = [];
            }, this.Tn = function(e) {
                var t = DayPilot.list();
                for (var i in f.L.cells) t.push(f.L.cells[i]);
                t.forEach(function(e) {
                    f.Oj(e);
                });
            }, this.Li = function(e, t) {
                t = t || "main";
                var i = DayPilot.list();
                for (var n in f.L.cells) i.push(f.L.cells[n]);
                i.filter(function(i) {
                    return i && i.coords && i.coords.y === e && i.coords.grid === t;
                }).forEach(function(e) {
                    f.Oj(e);
                });
            }, this.Un = 0, this.Vn = DayPilot.list([ "html", "cssClass", "backColor", "backImage", "backRepeat", "areas", "disabled" ]), 
            this.Wn = f.Vn.add("business"), this.Wf = function(e, t, i) {
                if (this.N) {
                    var n = f.di(e);
                    if (n) {
                        i = i || "main";
                        var a = this.uj[i], r = a.rowlist, o = a.divCells, s = "main" === i, l = i + "_" + e + "_" + t;
                        if (!this.L.cells[l]) {
                            var d = this.Pj(e, t, i);
                            if (f.tk(e, t, i), !this.drawBlankCells) {
                                var c = !1;
                                if (s && this.dk(t) ? c = !1 : this.Xn(d, f.Vn) || (c = !0), c) return;
                            }
                            var h = document.createElement("div");
                            h.style.left = n.left + "px", h.style.top = r[t].top + "px", h.style.width = n.width + "px", 
                            h.style.height = r[t].height + "px", h.style.position = "absolute", d && d.backColor && (h.style.backgroundColor = d.backColor), 
                            h.setAttribute("unselectable", "on"), h.className = this.C("_cell"), h.coords = {}, 
                            h.coords.x = e, h.coords.y = t, h.coords.grid = i, s && f.dk(t) && DayPilot.Util.addClass(h, this.C("_cellparent")), 
                            S.L[t] && DayPilot.Util.addClass(h, this.C("_cell_selected"));
                            var u = f.cells.findXy(e, t, i)[0];
                            d && (d.cssClass && DayPilot.Util.addClass(h, d.cssClass), DayPilot.Util.isNullOrUndefined(d.html) || (h.innerHTML = d.html), 
                            d.backImage && (h.style.backgroundImage = 'url("' + d.backImage + '")'), d.backRepeat && (h.style.backgroundRepeat = d.backRepeat), 
                            d.business && f.cellsMarkBusiness && DayPilot.Util.addClass(h, f.C("_cell_business")), 
                            d.disabled && DayPilot.Util.addClass(h, f.C("_cell_disabled")), DayPilot.list(d.areas).forEach(function(e) {
                                (e.start || e.end) && (e.left = f.getPixels(new DayPilot.Date(e.start)).left - n.left, 
                                e.width = f.getPixels(new DayPilot.Date(e.end)).left - e.left - n.left);
                            }), DayPilot.Areas.attach(h, u, {
                                areas: d.areas
                            }));
                            var v = B.getCell();
                            if (v && v.x === e && v.y === t && DayPilot.Util.addClass(h, f.C("_cell_focus")), 
                            o.appendChild(h), this.elements.cells.push(h), this.L.cells[l] = h, "function" == typeof f.onAfterCellRender) {
                                var p = {};
                                p.cell = DayPilot.Util.copyProps(u, {}, [ "x", "y", "displayY", "start", "end", "resource", "grid" ]), 
                                p.div = h, f.onAfterCellRender(p);
                            }
                        }
                    }
                }
            }, this.Uh = {}, this.Mj = function() {
                f.Yn().forEach(function(e) {
                    f.Li(e);
                }), f.bh();
            }, this.Yn = function() {
                for (var e = DayPilot.list(), t = this.rh(), i = t.xStart, n = t.xEnd - t.xStart, a = t.yStart, r = t.yEnd - t.yStart, o = 0; o < r; o++) for (var s = a + o, l = 0; l <= n; l++) {
                    var d = i + l;
                    if (!this.rowlist[s].hidden && !f.Uh[d + "_" + s]) {
                        e.push(s);
                        break;
                    }
                }
                return e;
            }, this.tk = function(e, t, i) {
                if ("function" == typeof this.onBeforeCellRender) {
                    i = i || "main";
                    var n = i + "_" + e + "_" + t;
                    if (f.beforeCellRenderCaching && f.Uh[n]) return;
                    f.Uh[n] = !0;
                    var a = f.di(e);
                    if (!a) return;
                    var r = f.cells.findXy(e, t, i)[0], o = {};
                    return o.cell = r, o.getPixels = function(e) {
                        var e = new DayPilot.Date(e);
                        return f.getPixels(e).left - a.left;
                    }, this.onBeforeCellRender(o), DayPilot.Util.copyProps(o.cell, o.cell.properties, f.Wn), 
                    o.cell.properties.disabled && (f.Uh.Mk = !0), o;
                }
            }, this.Xn = function(e, t) {
                if (t) {
                    for (var i = 0; i < t.length; i++) if (!DayPilot.Util.isNullOrUndefined(e[t[i]])) return !0;
                } else for (var n in e) if (!DayPilot.Util.isNullOrUndefined(e[n])) return !0;
                return !1;
            }, this.clearSelection = function() {
                this.eh(), R.clear();
            }, this.cleanSelection = this.clearSelection, this.selectTimeRange = function(e, t, i, n) {
                e = new DayPilot.Date(e), t = new DayPilot.Date(t);
                var a = f.ph(i), r = f.bi(e), o = r.current || r.next;
                if (!o) throw new DayPilot.Exception("Time range selection 'start' out of timeline");
                var s = f.bi(new DayPilot.Date(t).addMilliseconds(-1)), l = s.current || s.previous;
                if (!l) throw new DayPilot.Exception("Time range selection 'end' out of timeline");
                var d = {};
                d.start = {
                    y: a.index,
                    x: DayPilot.indexOf(f.itline, o),
                    time: e,
                    grid: a.grid
                }, d.end = {
                    x: DayPilot.indexOf(f.itline, l),
                    time: t
                }, d.calendar = this, f.Pi(d), n || setTimeout(function() {
                    f.Mi(d);
                }, 0);
            }, this.qb = function() {
                DayPilot.de(o.movingShadow), o.movingShadow = null, f.Nk(), f.Gk.clear(), DayPilot.Global.movingLink && (DayPilot.Global.movingLink.clear(), 
                DayPilot.Global.movingLink = null);
            }, this.eh = function() {
                f.divShadow && (f.divShadow.innerHTML = ""), f.uj.top.divShadow && (f.uj.top.divShadow.innerHTML = ""), 
                f.uj.bottom.divShadow && (f.uj.bottom.divShadow.innerHTML = ""), f.elements.range = [], 
                f.elements.range2 = null, f.Nk(), f.rangeHold = null;
            };
            var B = {};
            B.cell = null, B.focusCell = function(e, t) {
                B.unfocusCell();
                var i = B.cellDiv(e, t);
                i && DayPilot.Util.addClass(i, f.C("_cell_focus")), B.cell = {
                    x: e,
                    y: t
                };
                var n = f.lj();
                if (n.start.x >= e) {
                    var a = f.itline[e].start;
                    f.scrollTo(a);
                } else if (n.end.x <= e) {
                    var r = f.itline[e].end;
                    f.scrollTo(r, !1, "right");
                }
            }, B.unfocusCell = function() {
                if (B.cell) {
                    var e = B.cellDiv(B.cell.x, B.cell.y);
                    e && DayPilot.Util.removeClass(e, f.C("_cell_focus")), B.cell = null;
                }
            }, B.cellDiv = function(e, t, i) {
                i = i || "main";
                var n = i + "_" + e + "_" + t;
                return f.L.cells[n];
            }, B.getCell = function() {
                return B.cell;
            }, B.target = function() {
                var e = f.temp.keyboardTarget;
                switch (e) {
                  case "component":
                    return f.nav.top;

                  case "document":
                    return document;
                }
                throw new DayPilot.Exception("Invalid keyboardTarget value: " + e);
            }, B.Zn = null, B.activateGrid = function() {
                var e = B.target();
                e !== document && f.nav.top.setAttribute("tabindex", "-1"), e.addEventListener("keyup", function(e) {
                    if (16 === e.keyCode) {
                        var t = B.Zn;
                        B.Zn = null, B.timeRangeSelect(t.start.x, t.start.y, t.end.x);
                    }
                }), e.addEventListener("keydown", function(e) {
                    var t = 37, i = 38, n = 39, a = 40, r = 13;
                    [ t, i, n, a ].indexOf(e.keyCode) !== -1 && e.preventDefault(), e.shiftKey && !B.Zn && (B.Zn = {
                        calendar: f,
                        start: {
                            x: B.cell.x,
                            y: B.cell.y
                        }
                    });
                    var o = !B.Zn;
                    switch (e.keyCode) {
                      case n:
                        B.cell.x < f.itline.length - 1 && B.focusCell(B.cell.x + 1, B.cell.y);
                        break;

                      case t:
                        B.cell.x > 0 && B.focusCell(B.cell.x - 1, B.cell.y);
                        break;

                      case i:
                        B.cell.y > 0 && o && B.focusCell(B.cell.x, B.cell.y - 1);
                        break;

                      case a:
                        B.cell.y < f.rowlist.length - 1 && o && B.focusCell(B.cell.x, B.cell.y + 1);
                        break;

                      case r:
                        B.timeRangeSelect(B.cell.x, B.cell.y);
                    }
                    e.keyCode !== t && e.keyCode !== n || B.Zn && (B.Zn.end = {
                        x: B.cell.x,
                        y: B.cell.y
                    }, f.Pi(B.Zn));
                });
            }, B.timeRangeSelect = function(e, t, i) {
                var n = {};
                n.start = {
                    y: t,
                    x: e
                }, n.end = {
                    x: "undefined" == typeof i ? e : i
                }, n.calendar = f, f.rangeHold = n, f.Mi(n);
            }, B.initGrid = function() {
                B.activateGrid();
                var e = f.lj();
                B.focusCell(e.start.x, e.start.y), B.target() !== document && f.nav.top.focus();
            }, this.$n = B, this.$c = {};
            var P = this.$c;
            P.clearCache = function() {
                delete f.L.eventHeight, delete f.L.headerHeight;
            }, P.locale = function() {
                return DayPilot.Locale.find(f.locale);
            }, P.timeFormat = function() {
                return "Auto" !== f.timeFormat ? f.timeFormat : P.locale().timeFormat;
            }, P.weekStarts = function() {
                if ("Auto" === f.weekStarts) {
                    var e = P.locale();
                    return e ? e.weekStarts : 0;
                }
                return f.weekStarts || 0;
            }, P.mobile = function() {
                var e = navigator.userAgent.toLowerCase();
                return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1;
            }, P.layout = function() {
                var e = /MSIE 6/i.test(navigator.userAgent);
                return "Auto" === f.layout ? e ? "TableBased" : "DivBased" : f.layout;
            }, P.notifyType = function() {
                var e;
                if ("Immediate" === f.notifyCommit) e = "Notify"; else {
                    if ("Queue" !== f.notifyCommit) throw "Invalid notifyCommit value: " + f.notifyCommit;
                    e = "Queue";
                }
                return e;
            }, P.isResourcesView = function() {
                return "Days" !== f.viewType;
            }, P.useBox = function(e) {
                return "Always" === f.useEventBoxes || "Never" !== f.useEventBoxes && e < 60 * f.Vj() * 1e3;
            }, P.eventHeight = function() {
                if (f.L.eventHeight) return f.L.eventHeight;
                var e = f.be("_event_height").height;
                return e || (e = f.eventHeight), f.L.eventHeight = e, e;
            }, P.headerHeight = function() {
                if (f.L.headerHeight) return f.L.headerHeight;
                var e = f.be("_header_height").height;
                return e || (e = f.headerHeight), f.L.headerHeight = e, e;
            }, P.lm = function() {
                if (f.L.scrollLineHeight) return f.L.scrollLineHeight;
                var e = document.createElement("div");
                e.style.fontSize = "initial", e.style.display = "none", document.body.appendChild(e);
                var t = parseInt(window.getComputedStyle(e).fontSize) || 16;
                return document.body.removeChild(e), f.L.headerHeight = t, t;
            }, P.splitterWidth = function() {
                return f.rowHeaderScrolling ? f.rowHeaderSplitterWidth : 1;
            }, this._n = {};
            var N = this._n;
            N.timeHeader = function(e) {
                var t = {};
                t.top = 0, t.height = 0;
                for (var i = P.headerHeight(), n = 0; n <= e; n++) {
                    var a = f.timeHeaders[n];
                    t.top += t.height, t.height = a.height || i;
                }
                return t;
            }, this.Pj = function(e, t, i) {
                i = i || "main";
                var n = i + "_" + e + "_" + t, a = f.uj[i], r = a.rowlist;
                if (f.cellConfig) {
                    n = e + "_" + t;
                    for (var o = 0, s = 0; s < f.resources.length; s++) if (!f.resources[s].hidden) {
                        if (o === t) {
                            t = s;
                            break;
                        }
                        o += 1;
                    }
                }
                if (this.cellProperties || (this.cellProperties = {}), this.cellProperties[n]) return this.cellProperties[n];
                if (this.Hg && (this.cellProperties[n] = f.ao(e, t)), !this.cellProperties[n]) {
                    var l = r[t], d = l.id, c = l.start.getTime() - f.Ta().getTime(), h = f.di(e), u = h.start.addTime(c), v = h.end.addTime(c), p = {};
                    p.start = u, p.end = v, p.resource = d;
                    var m = {};
                    m.business = f.isBusiness(p), l.cellsDisabled && (f.Uh.Mk = !0, m.disabled = !0), 
                    this.cellProperties[n] = m;
                }
                return this.cellProperties[n];
            }, this.bo = function(e, t, i) {
                var n = t + "_" + i;
                return this.cellProperties[n] = {}, DayPilot.Util.copyProps(e, this.cellProperties[n], f.Wn), 
                this.cellProperties[n];
            }, this.ao = function(e, t) {
                if (!this.cellConfig) return null;
                var i = this.cellConfig, n = this.cellProperties[e + "_" + t];
                !n && i.vertical && (n = this.cellProperties[e + "_0"]), !n && i.horizontal && (n = this.cellProperties["0_" + t]), 
                !n && i["default"] && (n = i["default"]);
                var a = {};
                return DayPilot.Util.copyProps(n, a, f.Wn), a;
            }, this.sa = function() {
                if (!this.Hg && !this.Ig && (this.Ig = !0, this.cellConfig)) {
                    var e = this.cellConfig;
                    if (e.vertical) for (var t = 0; t < e.x; t++) {
                        var i = this.cellProperties[t + "_0"];
                        if (i) for (var n = 1; n < e.y; n++) this.bo(i, t, n);
                    }
                    if (e.horizontal) for (var n = 0; n < e.y; n++) {
                        var i = this.cellProperties["0_" + n];
                        if (i) for (var t = 1; t < e.x; t++) this.bo(i, t, n);
                    }
                    if (e["default"]) for (var i = e["default"], n = 0; n < e.y; n++) for (var t = 0; t < e.x; t++) this.cellProperties[t + "_" + n] || this.bo(i, t, n);
                }
            }, this.isBusiness = function(e, t) {
                var i = e.start, n = e.end, a = (n.getTime() - i.getTime()) / 6e4;
                if (a <= 1440 && !(f.businessWeekends || t || 0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())) return !1;
                if (a < 720) {
                    var r = i.getHours();
                    if (r += i.getMinutes() / 60, r += i.getSeconds() / 3600, r += i.getMilliseconds() / 36e5, 
                    r < this.businessBeginsHour) return !1;
                    if (this.businessEndsHour >= 24) return !0;
                    if (r >= this.businessEndsHour) return !1;
                }
                return !0;
            }, this.Cc = function() {
                switch (f.O) {
                  case "aspnet":
                    if (!this.Y()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;

                  case "netmvc":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;

                  case "javaxx":
                    if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                }
            }, this.Ga = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
            }, this.Gd = function() {
                var e = f.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0);
            }, this.Hd = function() {
                var e = f.Gd;
                e() || f.Id || (f.Id = setInterval(function() {
                    e() && (clearInterval(f.Id), f.show(), f.Tk());
                }, 100));
            }, this.co = function(e) {
                "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - (this.Gh() + 2), 
                this.Ca();
            }, this.setHeight = this.co, this.ph = function(e) {
                return f.ol(e).first();
            }, this.je = function() {
                if (this.id && this.id.tagName) this.nav.top = this.id; else {
                    if ("string" != typeof this.id) throw "DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Scheduler: The placeholder element not found: '" + t + "'.";
                }
            }, this.do = function() {
                this.rowHeaderColumnsMode = "Legacy", this.Yd(), this.Ug(), this.Bi(), this.Yg(), 
                this.Kd(), this.fa(), o.register(this), this.oa(this.afterRenderData, !1), this.Gm(), 
                this.Ka(), this.T("Init");
            }, this.init = function() {
                if (this.N) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                return this.Cc(), this.eo(), this.fo(), this.Hd(), this.pm(), this.go(), this;
            }, this.go = function() {
                f.temp.keyboard && B.initGrid();
            }, this.ho = function() {
                f.multiselect.ah(f.selectedEvents);
            }, this.fo = function() {
                if (this.je(), !this.nav.top.dp) {
                    this.xi();
                    if (this.ge()) return this.do(), this.N = !0, void this.Rg();
                    this.Kd(), this.fa(), o.register(this), this.Gm(), this.ho(), f.zoomLevels && f.zoomLevels[f.zoom.active] && f.zoom.setActive(f.zoom.active), 
                    this.kc();
                    var angular = f.Wd.scope || f.ih.enabled;
                    f.scrollToDate ? f.scrollTo(f.scrollToDate) : f.scrollX || f.scrollY ? f.setScroll(f.scrollX, f.scrollY) : angular || f.hh(), 
                    f.scrollToResourceId && (f.scrollToResource(f.scrollToResourceId), f.scrollToResourceId = null);
                    var e = function() {
                        f.scrollY && f.setScroll(f.scrollX, f.scrollY);
                    };
                    window.setTimeout(e, 200), this.messageHTML && window.setTimeout(function() {
                        f.message(f.messageHTML);
                    }, 0), this.Ka(), this.Rg(), this.oa(this.afterRenderData, !1), f.initEventEnabled && setTimeout(function() {
                        f.T("Init");
                    }), this.le(), this.N = !0, this.nj = !0;
                    var t = f.kh;
                    t ? f.scrollTo(t.date, t.animated, t.position) : f.hh();
                }
            }, this.eo = function() {
                f.E() && delete f.infinite;
            }, this.me = null, this._d = function(e) {
                if (e) {
                    var t = {
                        events: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? f.events.list = e.list : f.events.list = e);
                            },
                            postInit: function() {}
                        },
                        links: {
                            preInit: function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? f.links.list = e.list : f.links.list = e);
                            },
                            postInit: function() {}
                        },
                        scrollTo: {
                            preInit: function() {},
                            postInit: function() {
                                this.data && f.jh(this.data, e.scrollToAnimated, e.scrollToPosition);
                            }
                        },
                        scrollX: {
                            postInit: function() {
                                this.data && f.nh(this.data);
                            }
                        },
                        scrollY: {
                            postInit: function() {
                                this.data && f.Dh(this.data);
                            }
                        },
                        zoom: {
                            preInit: function() {
                                var e = this.data, t = e !== f.zoom.active, i = f.zoom.zg();
                                f.zoom.ni(e, i);
                                t ? this.date = i : this.date = null;
                            },
                            postInit: function() {
                                this.date && f.jh(this.date, !1, f.zoomPosition);
                            }
                        }
                    };
                    f.me = t, f.ih.scrollToRequested && (t.scrollTo.data = f.ih.scrollToRequested, f.ih.scrollToRequested = null), 
                    f.ih.scrollXRequested && (t.scrollX.data = f.ih.scrollXRequested, f.ih.scrollXRequested = null), 
                    f.ih.scrollYRequested && (t.scrollY.data = f.ih.scrollYRequested, f.ih.scrollYRequested = null);
                    for (var i in e) t[i] || (f[i] = e[i]);
                    for (var i in e) if (t[i]) {
                        var n = t[i];
                        n.data = e[i], n.preInit && n.preInit();
                    }
                }
            }, this.le = function() {
                var e = f.me;
                for (var t in e) {
                    var i = e[t];
                    i.postInit && i.postInit();
                }
                f.me = {};
            }, this.diag = function() {
                var e = {};
                return e.dataEvents = f.events.list && f.events.list.length, e.dataRows = f.rowlist && f.rowlist.length, 
                e.dataTimeline = f.itline && f.itline.length, e.dataCells = e.dataTimeline * e.dataRows, 
                e.renderedEvents = f.elements.events.length, e.renderedCells = f.elements.cells.length, 
                e.renderedRows = f.divResScroll.firstChild.childNodes.length - 1, e.domEvents = f.divEvents.getElementsByTagName("*").length, 
                e.domCells = f.divCells.getElementsByTagName("*").length, e.domRows = f.divResScroll.getElementsByTagName("*").length, 
                e;
            }, this.temp = {}, this.temp.keyboard = !1, this.temp.keyboardTarget = "document", 
            this.temp.allowDuplicateEventIds = !1, this.internal = {}, this.internal.initialized = function() {
                return f.N;
            }, this.internal.dragInProgress = this.hn, this.internal.startMoving = this.Vm, 
            this.internal.invokeEvent = this.hb, this.internal.eventMenuClick = this.vb, this.internal.timeRangeMenuClick = this.wb, 
            this.internal.resourceHeaderMenuClick = this.Ri, this.internal.linkMenuClick = this.Qi, 
            this.internal.bubbleCallBack = this.tb, this.internal.findEventDiv = this.Vd, this.internal.rowtools = this.Zi, 
            this.internal.getNodeChildren = this.ma, this.internal.callback = function() {
                f.T.apply(f, arguments);
            }, this.internal.createRowObject = this.Ti, this.internal.restools = this.Kl, this.internal.gantt = null, 
            this.internal.adjustEndIn = f.Af, this.internal.adjustEndNormalize = f.ag, this.internal.touch = f.zc, 
            this.internal.cssNames = f.Xm, this.internal.enableCellStacking = function(e) {
                f.Jg = !0, f.Kg = e;
            }, this.internal.deleteDragSource = function() {
                f.rb();
            }, this.internal.skipUpdate = f.ih.skipUpdate, this.internal.skipped = f.ih.skipped, 
            this.internal.loadOptions = f._d, this.internal.postInit = f.le, this.internal.enableAngular2 = function() {
                f.ih.enabled = !0;
            }, this.internal.enableReact = function(e, t) {
                f.da.react = e, f.da.reactDOM = t;
            }, this.internal.reactRefs = function() {
                return DayPilot.Util.copyProps(f.da, {}, [ "react", "reactDOM" ]);
            }, this.Init = this.init, this._d(l);
        }, l = "2020.2.4327" === new DayPilot.Scheduler().v, DayPilot.Row = function(e, t) {
            if (!e) throw "Now row object supplied when creating DayPilot.Row";
            if (!t) throw "No parent control supplied when creating DayPilot.Row";
            var i = DayPilot.indexOf(t.rowlist, e);
            this.io = {};
            var n = this.io;
            n.id = e.id, n.name = e.name, n.data = e.resource, n.tags = e.tags;
            var a = this;
            a.isRow = !0, a.menuType = "resource", a.start = e.start, a.name = e.name, a.value = e.id, 
            a.id = e.id, a.tags = e.tags, a.bubbleHtml = e.bubbleHtml, a.index = i, a.displayY = e.displayY, 
            a.level = e.level, a.calendar = t, a.data = e.resource, a.grid = e.grid, a.Bk = e, 
            a.$ = {}, a.$.row = e, a.toJSON = function(e) {
                var t = {};
                return t.start = this.start, t.name = this.name, t.value = this.value, t.id = this.id, 
                t.index = this.index, t;
            }, a.parent = function() {
                return a.Bk.Sl ? t.Ti(a.Bk.Sl) : null;
            }, a.children = function() {
                var e = DayPilot.list(a.$.row.children).map(function(e) {
                    return t.Ti(t.rowlist[e]);
                });
                return e.add = function(e) {
                    var t = a.$.row.resource;
                    t.children || (t.children = []), t.children.push(e);
                }, e;
            }, a.loaded = function() {
                return a.Bk.loaded;
            }, Object.defineProperty(a, "hidden", {
                get: function() {
                    return a.Bk.hidden;
                }
            }), Object.defineProperty(a, "hiddenUsingFilter", {
                get: function() {
                    return a.Bk.Rl;
                },
                set: function(e) {
                    a.Bk.Rl = e, e || (a.Bk.hidden = !a.Bk.Tl());
                }
            }), a.cells = {}, a.cells.all = function() {
                for (var e = [], i = t.itline.length, n = a.index, r = 0; r < i; r++) {
                    var o = t.cells.findXy(r, n);
                    e.push(o[0]);
                }
                return t.Qj(e);
            }, a.cells.forRange = function(e, i) {
                var n = a, r = n.start.getTime() - t.Ta().getTime();
                e = new DayPilot.Date(e), i = new DayPilot.Date(i);
                var o = t.Ta().addTime(r), s = t.Xh().addTime(r);
                e < o && (e = o), i > s && (i = s);
                var l = t.cells.find(e, a)[0], d = t.cells.find(i.addTime(-1), a)[0];
                if (!l) return null;
                if (!d) return null;
                if (l.y !== d.y) return null;
                for (var c = l.y, h = [], u = l.x; u <= d.x; u++) h.push(t.cells.Nj(u, c, l.grid));
                return t.Qj(h);
            }, a.cells.totalDuration = function() {
                return new DayPilot.Duration(a.cells.all().map(function(e) {
                    return e.end.getTime() - e.start.getTime();
                }).reduce(function(e, t) {
                    return e + t;
                }, 0));
            }, a.events = {}, a.events.all = function() {
                for (var e = DayPilot.list(), t = 0; t < a.Bk.events.length; t++) e.push(a.Bk.events[t]);
                return e;
            }, a.events.isEmpty = function() {
                return 0 === a.Bk.events.length;
            }, a.events.forRange = function(e, t) {
                return a.Bk.events.forRange(e, t);
            }, a.events.totalDuration = function() {
                var e = 0;
                return a.events.all().forEach(function(t) {
                    e += t.part.end.getTime() - t.part.start.getTime();
                }), new DayPilot.Duration(e);
            }, a.groups = {}, a.groups.collapseAll = function() {
                for (var e = 0; e < a.Bk.blocks.length; e++) {
                    new r(a.Bk.blocks[e]).jo();
                }
                t.ki(), t.li([ a.Bk ]), t.Ca();
            }, a.groups.expandAll = function() {
                for (var e = 0; e < a.Bk.blocks.length; e++) {
                    new r(a.Bk.blocks[e]).ko();
                }
                t.ki(), t.li([ a.Bk ]), t.Ca();
            }, a.groups.expanded = function() {
                for (var e = [], i = 0; i < a.Bk.blocks.length; i++) {
                    var n = a.Bk.blocks[i];
                    n.expanded && n.lines.length > t.groupConcurrentEventsLimit && e.push(new r(n));
                }
                return DayPilot.list(e);
            }, a.groups.collapsed = function() {
                for (var e = [], t = 0; t < a.Bk.blocks.length; t++) {
                    var i = a.Bk.blocks[t];
                    i.expanded || e.push(new r(i));
                }
                return DayPilot.list(e);
            }, a.groups.all = function() {
                for (var e = [], t = 0; t < a.Bk.blocks.length; t++) {
                    var i = a.Bk.blocks[t];
                    e.push(new r(i));
                }
                return DayPilot.list(e);
            }, a.events.collapseGroups = a.groups.collapseAll, a.events.expandGroups = a.groups.expandAll, 
            a.column = function(e) {
                return new o(a, e);
            }, a.toggle = function() {
                t.gk(a.index);
            }, a.collapse = function() {
                a.$.row.expanded && a.toggle();
            }, a.expand = function() {
                a.$.row.expanded || a.toggle();
            }, a.remove = function() {
                t.rows.remove(a);
            }, a.edit = function() {
                t.rows.edit(a);
            }, a.addClass = function(e) {
                var i = a, n = t.divHeader, i = n.rows[i.index];
                if (i) {
                    var r = DayPilot.list(i.cells).map(function(e) {
                        return e.cellDiv;
                    });
                    DayPilot.Util.addClass(r, e);
                }
                a.$.row.cssClass = DayPilot.Util.addClassToString(a.$.row.cssClass, e), a.data.cssClass = e;
            }, a.removeClass = function(e) {
                var i = a, n = t.divHeader, i = n.rows[i.index];
                if (i) {
                    var r = DayPilot.list(i.cells).map(function(e) {
                        return e.cellDiv;
                    });
                    DayPilot.Util.removeClass(r, e);
                }
                a.$.row.cssClass = DayPilot.Util.removeClassFromString(a.$.row.cssClass, e), a.data.cssClass = DayPilot.Util.removeClassFromString(a.data.cssClass, e);
            };
            var r = function(e) {
                var i = function(e) {
                    for (var i = 0; i < t.elements.events.length; i++) {
                        var n = t.elements.events[i];
                        if (n.event === e) return n;
                    }
                    return null;
                };
                this.ko = function() {
                    e.expanded = !0;
                    var n = t.rl;
                    DayPilot.list(e.events).forEach(function(e) {
                        n.push(e.id());
                    });
                    var a = i(e);
                    if (a) {
                        t.Im(a);
                        var r = DayPilot.indexOf(t.elements.events, a);
                        r !== -1 && t.elements.events.splice(r, 1);
                    }
                }, this.expand = function() {
                    this.ko(), t.ki(), t.li([ e.row ]), t.Ca();
                }, this.jo = function() {
                    if (e.lines.length > t.groupConcurrentEventsLimit) {
                        e.expanded = !1;
                        var i = DayPilot.list(e.events).map(function(e) {
                            return e.id();
                        });
                        t.rl = t.rl.filter(function(e) {
                            return !DayPilot.contains(i, e);
                        });
                    }
                }, this.collapse = function() {
                    this.jo(), t.ki(), t.li([ e.row ]), t.Ca();
                };
            }, o = function(e, t) {
                this.html = function(i) {
                    var n = e.calendar.divHeader, a = n.rows[e.index].cells[t], r = a.textDiv;
                    return "undefined" == typeof i ? r.innerHTML : void (r.innerHTML = i);
                };
            };
        }, o.moving = null, o.movingEvent = null, o.originalMouse = null, o.resizing = null, 
        o.resizingEvent = null, o.preventEventClick = !1, o.globalHandlers = !1, o.timeRangeTimeout = null, 
        o.selectedCells = null, o.dragStart = function(e, t, i, n) {
            DayPilot.us(e);
            var a = o.drag = {};
            return a.element = e, a.duration = t, a.text = n, a.id = i, a.data = {
                id: i,
                text: n,
                duration: t,
                externalHtml: n
            }, !1;
        }, DayPilot.Scheduler.startDragging = function(e) {
            var e = e || {}, t = e.element, i = e.keepElement ? null : t;
            DayPilot.us(t);
            var n = o.drag = {};
            return n.element = i, n.id = e.id, n.duration = e.duration || 60, n.text = e.text || "", 
            n.data = e, !1;
        }, DayPilot.Scheduler.makeDraggable = function(e) {
            function t() {
                var t = e.duration || 60;
                t instanceof DayPilot.Duration && (t = t.totalSeconds());
                var i = o.drag = {};
                i.element = n, i.id = e.id, i.duration = t, i.text = e.text || "", i.data = e;
            }
            e = e || {};
            var i = e.element, n = e.keepElement ? null : e.remove || i;
            if (!i) throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");
            DayPilot.us(i), DayPilot.re(i, "mousedown", function(e) {
                if (DayPilot.Util.mouseButton(e).left) {
                    t();
                    var i = e.target || e.srcElement;
                    if (i.tagName) {
                        var n = i.tagName.toLowerCase();
                        if ("textarea" === n || "select" === n || "input" === n) return !1;
                    }
                    return e.preventDefault && e.preventDefault(), !1;
                }
            }), i.ontouchstart = function(e) {
                window.setTimeout(function() {
                    t(), o.gTouchMove(e), e.preventDefault();
                }, 0), e.preventDefault();
            };
        }, DayPilot.Scheduler.stopDragging = function() {
            if (o.drag && o.drag.schedulerSourceEvent) {
                var e = o.drag.schedulerSourceEvent, t = e.event.calendar;
                t && DayPilot.Util.removeClass(e, t.C(i.Xm.eventMovingSource));
            }
            if (o.dragStop(), o.resizing && (DayPilot.de(o.resizingShadow), o.resizing = null, 
            o.resizingEvent = null, o.resizingShadow = null), o.moving) {
                var i = o.movingEvent.calendar;
                i && DayPilot.Util.removeClass(o.moving, i.C(i.Xm.eventMovingSource)), DayPilot.de(o.movingShadow), 
                o.moving = null, o.movingEvent = null, o.movingShadow = null;
            }
            if (o.range) {
                var i = o.range.calendar;
                i.clearSelection(), o.range = null;
            }
            document.body.style.cursor = "", DayPilot.list(o.registered).forEach(function(e) {
                e.vm(), e.Nk(), e.Zi.resetMoving();
            });
        }, o.dragStop = function() {
            o.gShadow && (document.body.removeChild(o.gShadow), o.gShadow = null), o.drag = null;
        }, o.register = function(e) {
            o.registered || (o.registered = DayPilot.list(), o.registered.out = function() {
                o.registered.forEach(function(e) {
                    e.ha();
                });
            });
            for (var t = 0; t < o.registered.length; t++) if (o.registered[t] === e) return;
            o.registered.push(e);
        }, o.unregister = function(e) {
            var t = o.registered;
            if (t) {
                var i = DayPilot.indexOf(t, e);
                i !== -1 && t.splice(i, 1), 0 === t.length && (t = null);
            }
            t || (DayPilot.ue(document, "mousemove", o.gMouseMove), DayPilot.ue(document, "mouseup", o.gMouseUp), 
            DayPilot.ue(document, "mousedown", o.gMouseDown), DayPilot.ue(document, "touchmove", o.gTouchMove), 
            DayPilot.ue(document, "touchend", o.gTouchEnd), DayPilot.ue(window, "keyup", o.gKeyUp), 
            o.globalHandlers = !1);
        }, o.gTouchMove = function(e) {
            if (o.resizing) {
                var n = o.resizing.event.calendar;
                n.coords = n.zc.relativeCoords(e), n.zc.updateResizing(), e.preventDefault();
            }
            if (o.moving && !o.drag) {
                e.preventDefault();
                var n = o.movingEvent.calendar;
                n.coords = n.zc.relativeCoords(e), n.zc.updateMoving(), function() {
                    if (n.dragOutAllowed) {
                        var i = t(e);
                        if (!i || i !== n) {
                            var a = o.movingEvent;
                            o.drag = {};
                            var r = o.drag;
                            r.id = a.id(), r.text = a.text(), r.schedulerSourceEvent = o.moving, r.element = null, 
                            r.duration = (a.rawend().getTime() - a.start().getTime()) / 1e3, r.text = a.text(), 
                            r.id = a.id(), r.event = DayPilot.Util.copyProps(a, new DayPilot.Event()), n.Nk(), 
                            DayPilot.de(o.movingShadow), o.movingShadow.calendar = null, o.movingShadow = null, 
                            o.moveDragStart = null, o.registered.out();
                        }
                    }
                }();
            }
            if (o.drag) {
                e.preventDefault();
                var a = i(e), n = t(e);
                if (n) {
                    if (o.gShadow && document.body.removeChild(o.gShadow), o.gShadow = null, n.coords = n.zc.relativeCoords(e), 
                    !o.movingShadow && n.rowlist.length > 0) {
                        if (!o.moving) {
                            o.moving = {};
                            var r = o.drag.event;
                            if (!r) {
                                var s = n.itline[0].start, e = {
                                    id: o.drag.id,
                                    start: s,
                                    end: s.addSeconds(o.drag.duration),
                                    text: o.drag.text
                                }, l = o.drag.data;
                                if (l) {
                                    var d = [ "duration", "element", "remove", "id", "text" ];
                                    for (var c in l) DayPilot.contains(d, c) || (e[c] = l[c]);
                                }
                                r = new DayPilot.Event(e), r.calendar = n, r.part.duration = 1e3 * o.drag.duration;
                            }
                            r.part.external = !0;
                            var h = o.drag.schedulerSourceEvent;
                            h && h.event && h.event.calendar === n && (r.part.external = !1), o.movingEvent = r;
                        }
                        o.movingShadow = n.Ma(o.movingEvent);
                    }
                    o.moving && n.zc.updateMoving();
                } else {
                    DayPilot.de(o.movingShadow);
                    var u = o.moving;
                    o.moving = null, o.movingEvent = null, o.movingShadow = null, o.gShadow || (o.gShadow = o.createGShadow(o.drag.data), 
                    o.gShadow.source = u);
                    var f = o.gShadow;
                    f.style.left = a.x + "px", f.style.top = a.y + "px", o.registered.out();
                }
            }
        }, o.gTouchEnd = function(e) {
            o.gMouseUp(e);
        }, o.gMouseMove = function(e) {
            if ("undefined" != typeof o && !(DayPilot.Global.touch.active || DayPilot.Global.touch.start || (e = e || window.event, 
            e.insideMainD || e.srcElement && e.srcElement.inside))) {
                var t = DayPilot.mc(e);
                if (o.drag) {
                    if (!o.drag.startFired) {
                        var i = o.drag.data || {}, n = i.onDragStart, a = !1;
                        if ("function" == typeof n) {
                            var r = {};
                            r.data = i, r.preventDefault = function() {
                                r.preventDefault.value = !0;
                            }, n(r), a = r.preventDefault.value;
                        }
                        if (o.drag.startFired = !0, a) return void (o.drag = null);
                    }
                    document.body.style.cursor = "move", o.gShadow || (o.gShadow = o.createGShadow(o.drag.data));
                    var s = o.gShadow;
                    if (s.style.left = t.x + "px", s.style.top = t.y + "px", o.moving = null, o.movingEvent = null, 
                    o.movingShadow) {
                        var l = o.movingShadow.calendar;
                        l && l.Nk(), o.movingShadow.calendar = null, DayPilot.de(o.movingShadow), o.movingShadow = null;
                    }
                } else if (o.moving && o.movingEvent && o.movingEvent.calendar.dragOutAllowed && !o.drag) {
                    var l = o.movingEvent.calendar, e = o.movingEvent;
                    document.body.style.cursor = "move", o.gShadow || (o.gShadow = o.createGShadow(e.data), 
                    o.gShadow.source = o.moving);
                    var s = o.gShadow;
                    s.style.left = t.x + "px", s.style.top = t.y + "px", o.drag = {};
                    var d = o.drag;
                    d.schedulerSourceEvent = o.moving, d.element = null, d.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3, 
                    d.text = e.text(), d.id = e.value(), d.event = DayPilot.Util.copyProps(e, new DayPilot.Event()), 
                    l.Nk(), DayPilot.de(o.movingShadow), o.movingShadow.calendar = null, o.movingShadow = null;
                }
                o.registered.out();
            }
        }, o.gUnload = function(e) {
            if (o.registered) for (var t = 0; t < o.registered.length; t++) {
                var i = o.registered[t];
                o.unregister(i);
            }
        }, o.gMouseDown = function(e) {
            o.editing && o.editing.blur();
        }, o.gKeyUp = function(e) {
            var e = e || window.event;
            17 === e.keyCode && o.rangeCalendar && o.rangeCalendar.An.dispatch();
        }, o.gMouseUp = function(e) {
            if (DayPilot.list(o.registered).forEach(function(e) {
                e.vm(), e.ci = {};
            }), o.resizing) {
                var t = function() {
                    var e = o.resizingEvent, t = e.calendar;
                    document.body.style.cursor = "", o.resizing = null, o.resizingEvent = null, DayPilot.de(o.resizingShadow), 
                    o.resizingShadow = null, t && (t.en = null);
                };
                if (setTimeout(function() {
                    o.preventEventClick = !1;
                }), !o.resizingShadow) return void t();
                var i = o.resizingEvent, n = i.calendar, a = o.resizingShadow.finalStart, r = o.resizingShadow.finalEnd, l = o.resizingShadow.overlapping, h = !o.resizingShadow.allowed, u = n.vk.isInvalid();
                n.Nk(), n.vk.clear();
                var f = "left" === o.resizing.dpBorder ? "start" : "end";
                if (t(), l || h || u || n.vk.forbidden) return;
                n.lb(i, a, r, f);
            } else if (o.movingEvent) {
                var t = function() {
                    DayPilot.Global.movingAreaData = null;
                    var e = o.movingShadow && o.movingShadow.calendar;
                    o.movingShadow && (DayPilot.de(o.movingShadow), o.movingShadow.calendar = null), 
                    document.body.style.cursor = "", o.moving = null, o.movingEvent = null, o.drag = null, 
                    e && (e.ja = null);
                };
                if (!o.movingShadow) return void t();
                var v = o.drag && o.drag.schedulerSourceEvent, i = v ? v.event : o.movingEvent, n = o.movingShadow.calendar;
                if (!n) return void t();
                if (i.calendar && i.calendar !== n) {
                    var p = i.calendar, m = i, g = DayPilot.Util.copyProps(i.data);
                    i = new DayPilot.Event(g, p), i.part = {
                        external: !0,
                        duration: p.Yj(m)
                    };
                }
                if (DayPilot.Util.removeClass(o.moving, n.C(n.Xm.eventMovingSource)), function() {
                    if (o.drag && o.drag.schedulerSourceEvent) {
                        var e = o.drag.schedulerSourceEvent;
                        if (e && e.event) {
                            var t = e.event.calendar;
                            DayPilot.Util.removeClass(e, t.C(n.Xm.eventMovingSource));
                        }
                    }
                }(), !o.movingShadow.row) return void t();
                clearTimeout(n.ek.timeout);
                var a = o.movingShadow.start, r = o.movingShadow.end, y = "Days" !== n.viewType ? o.movingShadow.row.id : null, b = i.part.external, w = o.movingShadow.line, l = o.movingShadow.overlapping, h = !o.movingShadow.allowed;
                if (o.drag && (n.todo || (n.todo = {}), n.todo.del = o.drag.element, o.drag = null), 
                o.movingShadow.calendar = null, document.body.style.cursor = "", o.moving = null, 
                o.movingEvent = null, l || h || n.Gk.forbidden || n.Gk.invalid) return void n.qb();
                var e = e || window.event;
                n.pb(i, a, r, y, b, e, w), DayPilot.Global.movingAreaData = null;
            } else if (o.range) {
                e = e || window.event;
                var k = DayPilot.Util.mouseButton(e), C = o.range, n = C.calendar, t = function() {};
                n.yn = null;
                var x = e.ctrlKey || e.metaKey;
                if (n.allowMultiRange) return n.elements.range2.overlapping ? (DayPilot.de(n.elements.range2), 
                n.elements.range2 = null, n.Nk()) : n.An.add(C), o.range = null, x || n.An.dispatch(), 
                void t();
                if (o.timeRangeTimeout) return clearTimeout(o.timeRangeTimeout), o.timeRangeTimeout = null, 
                void t();
                n.rangeHold = C, o.range = null;
                var S = function(e) {
                    return function() {
                        o.timeRangeTimeout = null;
                        var t = n.elements.range2;
                        return t && t.overlapping ? void n.clearSelection() : (n.Mi(e), void ("Hold" !== n.timeRangeSelectedHandling && "HoldForever" !== n.timeRangeSelectedHandling ? s() : n.rangeHold = e));
                    };
                }, E = n.zn(C);
                if (t(), !k.left) return void (o.timeRangeTimeout = null);
                if (C.moved || "Disabled" === n.timeRangeDoubleClickHandling) {
                    S(E)();
                    var e = e || window.event;
                    return e.cancelBubble = !0, !1;
                }
                o.timeRangeTimeout = setTimeout(S(E), n.doubleClickTimeout);
            } else if (d.row) {
                var n = d.calendar;
                n && n.Gl();
            } else if (c.source) {
                var n = c.calendar;
                n.wj.clearShadow(), n.wj.hideLinkpoints(), c.source = null, c.calendar = null;
            } else if (o.splitting) {
                var T = o.splitting;
                T.cleanup(), o.splitting = null;
            } else if (o.rectangleSelect) {
                var A = o.rectangleSelect, n = A.calendar;
                if (!A.moved) return o.rectangleSelect = null, void (n.cn(n.coords) || n.Bn(e));
                var D = A.x, H = A.y, M = A.width, _ = A.height, R = !1, B = n.xh.eventsInRectangle(D, H, M, _).map(function(e) {
                    return e.event;
                });
                if ("function" == typeof n.onRectangleEventSelect) {
                    var P = n.kj(H).i, N = n.kj(H + _).i, L = {
                        start: {
                            y: P
                        },
                        end: {
                            y: N
                        }
                    }, U = n.gj(L), z = {};
                    if (z.events = B, z.append = !1, z.start = n.getDate(D, !0), z.end = n.getDate(D + M, !0), 
                    z.resources = U, z.preventDefault = function() {
                        this.preventDefault.value = !0;
                    }, n.onRectangleEventSelect(z), z.preventDefault.value) return n.on.clear(), void (o.rectangleSelect = null);
                    R = z.append;
                }
                if (R || n.multiselect.clear(!0), B.forEach(function(e) {
                    n.multiselect.add(e, !0);
                }), n.multiselect.redraw(), setTimeout(function() {
                    n.on.clear(), o.rectangleSelect = null;
                }, 0), "function" == typeof n.onRectangleEventSelected) {
                    var z = {};
                    z.events = B, n.onRectangleEventSelected(z);
                }
            }
            if (o.drag && (o.drag.event && o.drag.event.part && delete o.drag.event.part.external, 
            o.drag = null, document.body.style.cursor = ""), o.gShadow) {
                if (o.gShadow.source) {
                    var n = o.gShadow.source.event.calendar;
                    DayPilot.Util.removeClass(o.gShadow.source, n.C(n.Xm.eventMovingSource));
                }
                document.body.removeChild(o.gShadow), o.gShadow = null;
            }
            o.moveOffsetX = null, o.moveDragStart = null;
        }, o.createGShadow = function(e) {
            var e = e || {}, t = document.createElement("div");
            return t.setAttribute("unselectable", "on"), t.style.position = "absolute", t.style.width = "100px", 
            t.style.height = "20px", t.style.zIndex = 101, t.style.pointerEvents = "none", t.style.backgroundColor = "#aaaaaa", 
            t.style.opacity = .5, t.style.filter = "alpha(opacity=50)", t.className = e.externalCssClass, 
            e.externalHtml && (t.innerHTML = e.externalHtml), document.body.appendChild(t), 
            t;
        };
        var d = {};
        DayPilot.Global.rowmoving = d;
        var c = {};
        DayPilot.Global.linking = c, "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotScheduler = function(e) {
                var t = null, i = this.each(function() {
                    if (!this.daypilot) {
                        var i = new DayPilot.Scheduler(this.id || this, e);
                        i.init(), this.daypilot = i, t || (t = i);
                    }
                });
                return 1 === this.length ? t : i;
            };
        }(jQuery), function() {
            var e = DayPilot.am();
            e && e.directive("daypilotScheduler", [ "$parse", function(e) {
                return {
                    restrict: "E",
                    template: "<div id='{{id}}'></div>",
                    compile: function(t, i) {
                        return t[0].removeAttribute("id"), t[0].innerHTML = this["template"].replace("{{id}}", i["id"]), 
                        function(t, i, n) {
                            var a = new DayPilot.Scheduler(i[0].firstChild);
                            a.Wd.scope = t;
                            var r = n["id"];
                            r && (t[r] = a);
                            var o = n["publishAs"];
                            if (o) {
                                (0, e(o).assign)(t, a);
                            }
                            for (var s in n) if (0 === s.indexOf("on")) {
                                var l = DayPilot.Util.shouldApply(s);
                                l ? !function(i) {
                                    a[i] = function(a) {
                                        var r = e(n[i]);
                                        DayPilot.Util.safeApply(t, function() {
                                            r(t, {
                                                args: a
                                            });
                                        });
                                    };
                                }(s) : !function(i) {
                                    a[i] = function(a) {
                                        e(n[i])(t, {
                                            args: a
                                        });
                                    };
                                }(s);
                            }
                            var d = t["$watch"], c = n["config"] || n["daypilotConfig"], h = n["events"] || n["daypilotEvents"];
                            c || a.init(), d.call(t, c, function(e, t) {
                                a._d(e), a.N ? (a.update(), a.le()) : a.init();
                            }, !0), h && d.call(t, h, function(e) {
                                a.events.list = e, a.kc({
                                    eventsOnly: !0
                                });
                            }, !0), t.$on("$destroy", function() {
                                a.dispose();
                            });
                        };
                    }
                };
            } ]);
        }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {};

"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function(DayPilot) {
    "undefined" == typeof DayPilot.Year && (DayPilot.Year = function(e, t) {
        this.v = "2020.2.4327";
        this.startDate = new DayPilot.Date(), this.cssOnly = !0, this.cssClassPrefix = null, 
        this.columns = 4, this.cellWidth = 20, this.showWeekNumbers = !1, this.lo = [], 
        this.bg = function() {
            this.root.dp = this, this.Ve = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"));
        }, this.C = function(e) {
            return this.cssClassPrefix ? this.cssClassPrefix + e : "";
        }, this.cg = function() {
            return this.showWeekNumbers ? this.cellWidth : 0;
        }, this.Ck = function() {
            this.lo = [];
            var e = this.columns, t = 12 / e;
            this.root.className = this.C("_main"), this.root.style.width = e * (7 * this.cellWidth + this.cg()) + "px";
            for (var i = 0; i < t; i++) {
                for (var n = 0; n < e; n++) {
                    var a = i * e + n, r = r + "_nav_" + a, o = document.createElement("div");
                    o.id = r, o.style.float = "left", this.root.appendChild(o);
                    var s = new DayPilot.Navigator(r);
                    s.startDate = this.Ve.addMonths(a), s.cssOnly = this.cssOnly, s.cssClassPrefix = this.cssClassPrefix, 
                    s.cellWidth = this.cellWidth, s.showWeekNumbers = this.showWeekNumbers, s.internal.showLinks = {}, 
                    s.selectMode = "none", s.timeRangeSelectedHandling = "JavaScript", s.onTimeRangeSelected = this.mo, 
                    s.init(), s.root.className = "", this.lo.push(s);
                }
                var l = document.createElement("div");
                l.style.clear = "left", this.root.appendChild(l);
            }
        }, this.mo = function(e) {
            alert("clicked: " + e.day);
        }, this.init = function() {
            if (this.root = document.getElementById(e), !this.root.dp) return this.bg(), this.Ck(), 
            this;
        };
    });
}(DayPilot);